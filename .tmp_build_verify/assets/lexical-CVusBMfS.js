import{c as na,r as F,j as ne,a as Or,R as No}from"./react-core-BcR2_z_l.js";function M(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Rc(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);t.search=r.toString(),console.warn(`Minified Lexical warning #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const _t=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,wg=_t&&"documentMode"in document?document.documentMode:null,at=_t&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Vt=_t&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ko=!(!_t||!("InputEvent"in window)||wg)&&"getTargetRanges"in new window.InputEvent("input"),Ur=_t&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),ar=_t&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Eg=_t&&/Android/.test(navigator.userAgent),Lc=_t&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ra=_t&&Eg&&Lc,Hr=_t&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&at&&!Lc,Tg=0,Ng=1,kg=2,Mc=128,$g=1,Ag=2,Fg=3,Og=4,Rg=5,Lg=6,ii=Ur||ar||Hr?" ":"​",si=`

`,Mg=Vt?" ":ii,Pc="֑-߿יִ-﷽ﹰ-ﻼ",Ic="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Pg=new RegExp("^[^"+Ic+"]*["+Pc+"]"),Ig=new RegExp("^[^"+Pc+"]*["+Ic+"]"),Gt={bold:1,capitalize:1024,code:16,highlight:Mc,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},Dg={directionless:1,unmergeable:2},oa={center:2,end:6,justify:4,left:1,right:3,start:5},Bg={[Ag]:"center",[Lg]:"end",[Og]:"justify",[$g]:"left",[Fg]:"right",[Rg]:"start"},Kg={normal:0,segmented:2,token:1},zg={[Tg]:"normal",[kg]:"segmented",[Ng]:"token"},ia="$config";function Dc(n,e,t,r,o,i){let s=n.getFirstChild();for(;s!==null;){const l=s.__key;s.__parent===e&&(N(s)&&Dc(s,l,t,r,o,i),t.has(l)||i.delete(l),o.push(l)),s=s.getNextSibling()}}let ts=!1,nl=0;function Wg(n){nl=n.timeStamp}function $i(n,e,t){const r=n.nodeName==="BR",o=e.__lexicalLineBreak;return o&&(n===o||r&&n.previousSibling===o)||r&&bi(n,t)!==void 0}function Ug(n,e,t){const r=We(lt(t));let o=null,i=null;r!==null&&r.anchorNode===n&&(o=r.anchorOffset,i=r.focusOffset);const s=n.nodeValue;s!==null&&xl(e,s,o,i,!1)}function Hg(n,e,t){if(T(n)){const r=n.anchor.getNode();if(r.is(t)&&n.format!==r.getFormat())return!1}return Wt(e)&&t.isAttached()}function jg(n,e,t,r){for(let o=n;o&&!Bh(o);o=Xr(o)){const i=bi(o,e);if(i!==void 0){const s=G(i,t);if(s)return Z(s)||!Q(o)?void 0:[o,s]}else if(o===r)return[r,Df(t)]}}function Bc(n,e,t){ts=!0;const r=performance.now()-nl>100;try{wt(n,()=>{const o=k()||(function(f){return f.getEditorState().read(()=>{const h=k();return h!==null?h.clone():null})})(n),i=new Map,s=n.getRootElement(),l=n._editorState,a=n._blockCursorElement;let u=!1,c="";for(let f=0;f<e.length;f++){const h=e[f],g=h.type,m=h.target,p=jg(m,n,l,s);if(!p)continue;const[y,_]=p;if(g==="characterData")r&&R(_)&&Wt(m)&&Hg(o,m,_)&&Ug(m,_,n);else if(g==="childList"){u=!0;const b=h.addedNodes;for(let C=0;C<b.length;C++){const v=b[C],E=Pf(v),w=v.parentNode;if(w!=null&&v!==a&&E===null&&!$i(v,w,n)){if(Vt){const $=(Q(v)?v.innerText:null)||v.nodeValue;$&&(c+=$)}w.removeChild(v)}}const S=h.removedNodes,x=S.length;if(x>0){let C=0;for(let v=0;v<x;v++){const E=S[v];($i(E,m,n)||a===E)&&(m.appendChild(E),C++)}x!==C&&i.set(y,_)}}}if(i.size>0)for(const[f,h]of i)h.reconcileObservedMutation(f,n);const d=t.takeRecords();if(d.length>0){for(let f=0;f<d.length;f++){const h=d[f],g=h.addedNodes,m=h.target;for(let p=0;p<g.length;p++){const y=g[p],_=y.parentNode;_==null||y.nodeName!=="BR"||$i(y,m,n)||_.removeChild(y)}}t.takeRecords()}o!==null&&(u&&fe(o),Vt&&Uf(n)&&o.insertRawText(c))})}finally{ts=!1}}function Kc(n){const e=n._observer;e!==null&&Bc(n,e.takeRecords(),e)}function zc(n){(function(e){nl===0&&lt(e).addEventListener("textInput",Wg,!0)})(n),n._observer=new MutationObserver((e,t)=>{Bc(n,e,t)})}let Jg=class{key;parse;unparse;isEqual;defaultValue;constructor(e,t){this.key=e,this.parse=t.parse.bind(t),this.unparse=(t.unparse||Vg).bind(t),this.isEqual=(t.isEqual||Object.is).bind(t),this.defaultValue=this.parse(void 0)}};function qg(n,e){return new Jg(n,e)}function Wc(n,e,t="latest"){const r=(t==="latest"?n.getLatest():n).__state;return r?r.getValue(e):e.defaultValue}function Ai(n,e,t){let r;if($e(),typeof t=="function"){const i=n.getLatest(),s=Wc(i,e);if(r=t(s),e.isEqual(s,r))return i}else r=t;const o=n.getWritable();return Hc(o).updateFromKnown(e,r),o}function ns(n){const e=new Map,t=new Set;for(let r=typeof n=="function"?n:n.replace;r.prototype&&r.prototype.getType!==void 0;r=Object.getPrototypeOf(r)){const{ownNodeConfig:o}=xi(r);if(o&&o.stateConfigs)for(const i of o.stateConfigs){let s;"stateConfig"in i?(s=i.stateConfig,i.flat&&t.add(s.key)):s=i,e.set(s.key,s)}}return{flatKeys:t,sharedConfigMap:e}}let Yg=class Uc{node;knownState;unknownState;sharedNodeState;size;constructor(e,t,r=void 0,o=new Map,i=void 0){this.node=e,this.sharedNodeState=t,this.unknownState=r,this.knownState=o;const{sharedConfigMap:s}=this.sharedNodeState,l=i!==void 0?i:(function(a,u,c){let d=c.size;if(u)for(const f in u){const h=a.get(f);h&&c.has(h)||d++}return d})(s,r,o);this.size=l}getValue(e){const t=this.knownState.get(e);if(t!==void 0)return t;this.sharedNodeState.sharedConfigMap.set(e.key,e);let r=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){const o=this.unknownState[e.key];o!==void 0&&(r=e.parse(o)),this.updateFromKnown(e,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const e={...this.unknownState},t={};for(const[r,o]of this.knownState)r.isEqual(o,r.defaultValue)?delete e[r.key]:e[r.key]=r.unparse(o);for(const r of this.sharedNodeState.flatKeys)r in e&&(t[r]=e[r],delete e[r]);return sa(e)&&(t.$=e),t}getWritable(e){if(this.node===e)return this;const{sharedNodeState:t,unknownState:r}=this,o=new Map(this.knownState);return new Uc(e,t,(function(i,s,l){let a;if(l)for(const[u,c]of Object.entries(l)){const d=i.get(u);d?s.has(d)||s.set(d,d.parse(c)):(a=a||{},a[u]=c)}return a})(t.sharedConfigMap,o,r),o,this.size)}updateFromKnown(e,t){const r=e.key;this.sharedNodeState.sharedConfigMap.set(r,e);const{knownState:o,unknownState:i}=this;o.has(e)||i&&r in i||(i&&(delete i[r],this.unknownState=sa(i)),this.size++),o.set(e,t)}updateFromUnknown(e,t){const r=this.sharedNodeState.sharedConfigMap.get(e);r?this.updateFromKnown(r,r.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){const{knownState:t}=this;for(const r of t.keys())t.set(r,r.defaultValue);if(this.size=t.size,this.unknownState=void 0,e)for(const[r,o]of Object.entries(e))this.updateFromUnknown(r,o)}};function Hc(n){const e=n.getWritable(),t=e.__state?e.__state.getWritable(e):new Yg(e,jc(e));return e.__state=t,t}function jc(n){return n.__state?n.__state.sharedNodeState:Ff(mr(),n.getType()).sharedNodeState}function sa(n){if(n)for(const e in n)return n}function Vg(n){return n}function la(n,e,t){for(const[r,o]of e.knownState){if(n.has(r.key))continue;n.add(r.key);const i=t?t.getValue(r):r.defaultValue;if(i!==o&&!r.isEqual(i,o))return!0}return!1}function aa(n,e,t){const{unknownState:r}=e,o=t?t.unknownState:void 0;if(r){for(const[i,s]of Object.entries(r))if(!n.has(i)&&(n.add(i),s!==(o?o[i]:void 0)))return!0}return!1}function ua(n,e){const t=n.__state;return t&&t.node===n?t.getWritable(e):t}function ca(n,e){const t=n.__mode,r=n.__format,o=n.__style,i=e.__mode,s=e.__format,l=e.__style,a=n.__state,u=e.__state;return(t===null||t===i)&&(r===null||r===s)&&(o===null||o===l)&&(n.__state===null||a===u||(function(c,d){if(c===d)return!0;if(c&&d&&c.size!==d.size)return!1;const f=new Set;return!(c&&la(f,c,d)||d&&la(f,d,c)||c&&aa(f,c,d)||d&&aa(f,d,c))})(a,u))}function fa(n,e){const t=n.mergeWithSibling(e),r=ue()._normalizedNodes;return r.add(n.__key),r.add(e.__key),t}function da(n){let e,t,r=n;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&R(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(ca(e,r)){r=fa(e,r);break}break}e.remove()}for(;(t=r.getNextSibling())!==null&&R(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(ca(r,t)){r=fa(r,t);break}break}t.remove()}}else r.remove()}function Zt(n){return ga(n.anchor),ga(n.focus),n}function ga(n){for(;n.type==="element";){const e=n.getNode(),t=n.offset;let r,o;if(t===e.getChildrenSize()?(r=e.getChildAtIndex(t-1),o=!0):(r=e.getChildAtIndex(t),o=!1),R(r)){n.set(r.__key,o?r.getTextContentSize():0,"text",!0);break}if(!N(r))break;n.set(r.__key,o?r.getChildrenSize():0,"element",!0)}}let Nn,ze,Rr,li,rs,os,kn,ft,is,Lr,Te="",yt=null,dn=null,Vn=!1,$o=!1;function Ao(n,e){const t=kn.get(n);if(e!==null){const r=us(n);r.parentNode===e&&e.removeChild(r)}if(ft.has(n)||ze._keyToDOMMap.delete(n),N(t)){const r=Oo(t,kn);ss(r,0,r.length-1,null)}t!==void 0&&Sl(Lr,Rr,li,t,"destroyed")}function ss(n,e,t,r){for(let o=e;o<=t;++o){const i=n[o];i!==void 0&&Ao(i,r)}}function fn(n,e){n.setProperty("text-align",e)}const Gg="40px";function Jc(n,e){const t=Nn.theme.indent;if(typeof t=="string"){const o=n.classList.contains(t);e>0&&!o?n.classList.add(t):e<1&&o&&n.classList.remove(t)}const r=getComputedStyle(n).getPropertyValue("--lexical-indent-base-value")||Gg;n.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function qc(n,e){const t=n.style;e===0?fn(t,""):e===1?fn(t,"left"):e===2?fn(t,"center"):e===3?fn(t,"right"):e===4?fn(t,"justify"):e===5?fn(t,"start"):e===6&&fn(t,"end")}function ls(n,e){const t=(function(r){const o=r.__dir;if(o!==null)return o;if(ve(r))return null;const i=r.getParentOrThrow();return ve(i)&&i.__dir===null?"auto":null})(e);t!==null?n.dir=t:n.removeAttribute("dir")}function Fo(n,e){const t=ft.get(n);t===void 0&&M(60);const r=t.createDOM(Nn,ze);if((function(o,i,s){const l=s._keyToDOMMap;(function(a,u,c){const d=`__lexicalKey_${u._key}`;a[d]=c})(i,s,o),l.set(o,i)})(n,r,ze),R(t)?r.setAttribute("data-lexical-text","true"):Z(t)&&r.setAttribute("data-lexical-decorator","true"),N(t)){const o=t.__indent,i=t.__size;if(ls(r,t),o!==0&&Jc(r,o),i!==0){const l=i-1;as(Oo(t,ft),t,0,l,t.getDOMSlot(r))}const s=t.__format;s!==0&&qc(r,s),t.isInline()||Yc(null,t,r)}else{const o=t.getTextContent();if(Z(t)){const i=t.decorate(ze,Nn);i!==null&&Vc(n,i),r.contentEditable="false"}Te+=o}return e!==null&&e.insertChild(r),Sl(Lr,Rr,li,t,"created"),r}function as(n,e,t,r,o){const i=Te;Te="";let s=t;for(;s<=r;++s){Fo(n[s],o);const l=ft.get(n[s]);l!==null&&R(l)?yt===null&&(yt=l.getFormat(),dn=l.getStyle()):N(l)&&s<r&&!l.isInline()&&(Te+=si)}o.element.__lexicalTextContent=Te,Te=i+Te}function ha(n,e){if(n){const t=n.__last;if(t){const r=e.get(t);if(r)return de(r)?"line-break":Z(r)&&r.isInline()?"decorator":null}return"empty"}return null}function Yc(n,e,t){const r=ha(n,kn),o=ha(e,ft);r!==o&&e.getDOMSlot(t).setManagedLineBreak(o)}function Zg(n,e,t){var r;yt=null,dn=null,(function(o,i,s){const l=Te,a=o.__size,u=i.__size;Te="";const c=s.element;if(a===1&&u===1){const d=o.__first,f=i.__first;if(d===f)xo(d,c);else{const g=us(d),m=Fo(f,null);try{c.replaceChild(m,g)}catch(p){if(typeof p=="object"&&p!=null){const y=`${p.toString()} Parent: ${c.tagName}, new child: {tag: ${m.tagName} key: ${f}}, old child: {tag: ${g.tagName}, key: ${d}}.`;throw new Error(y)}throw p}Ao(d,null)}const h=ft.get(f);R(h)&&yt===null&&(yt=h.getFormat(),dn=h.getStyle())}else{const d=Oo(o,kn),f=Oo(i,ft);if(d.length!==a&&M(227),f.length!==u&&M(228),a===0)u!==0&&as(f,0,0,u-1,s);else if(u===0){if(a!==0){const h=s.after==null&&s.before==null&&s.element.__lexicalLineBreak==null;ss(d,0,a-1,h?null:c),h&&(c.textContent="")}}else(function(h,g,m,p,y,_){const b=p-1,S=y-1;let x,C,v=_.getFirstChild(),E=0,w=0;for(;E<=b&&w<=S;){const O=g[E],L=m[w];if(O===L)v=Fi(xo(L,_.element)),E++,w++;else{if(C===void 0&&(C=pa(m,w)),x===void 0)x=pa(g,E);else if(!x.has(O)){E++;continue}if(!C.has(O)){v=Fi(us(O)),Ao(O,_.element),E++,x.delete(O);continue}if(x.has(L)){const I=On(ze,L);I!==v&&_.withBefore(v).insertChild(I),v=Fi(xo(L,_.element)),E++,w++}else Fo(L,_.withBefore(v)),w++}const P=ft.get(L);P!==null&&R(P)?yt===null&&(yt=P.getFormat(),dn=P.getStyle()):N(P)&&w<=S&&!P.isInline()&&(Te+=si)}const $=E>b,A=w>S;if($&&!A){const O=m[S+1],L=O===void 0?null:ze.getElementByKey(O);as(m,0,w,S,_.withBefore(L))}else A&&!$&&ss(g,E,b,_.element)})(0,d,f,a,u,s)}c.__lexicalTextContent=Te,Te=l+Te})(n,e,e.getDOMSlot(t)),r=e,yt==null||yt===r.__textFormat||$o||r.setTextFormat(yt),(function(o){dn==null||dn===o.__textStyle||$o||o.setTextStyle(dn)})(e)}function Oo(n,e){const t=[];let r=n.__first;for(;r!==null;){const o=e.get(r);o===void 0&&M(101),t.push(r),r=o.__next}return t}function xo(n,e){const t=kn.get(n);let r=ft.get(n);t!==void 0&&r!==void 0||M(61);const o=Vn||os.has(n)||rs.has(n),i=On(ze,n);if(t===r&&!o){let s;if(N(t)){const l=i.__lexicalTextContent;typeof l=="string"?s=l:(s=t.getTextContent(),i.__lexicalTextContent=s)}else s=t.getTextContent();return Te+=s,i}if(t!==r&&o&&Sl(Lr,Rr,li,r,"updated"),r.updateDOM(t,i,Nn)){const s=Fo(n,null);return e===null&&M(62),e.replaceChild(s,i),Ao(n,null),s}if(N(t)){N(r)||M(334,n);const s=r.__indent;(Vn||s!==t.__indent)&&Jc(i,s);const l=r.__format;if((Vn||l!==t.__format)&&qc(i,l),o)Zg(t,r,i),ve(r)||r.isInline()||Yc(t,r,i);else{const a=i.__lexicalTextContent;let u;typeof a=="string"?u=a:(u=t.getTextContent(),i.__lexicalTextContent=u),Te+=u}if((Vn||r.__dir!==t.__dir)&&(ls(i,r),ve(r)&&!Vn))for(const a of r.getChildren())N(a)&&ls(On(ze,a.getKey()),a)}else{const s=r.getTextContent();if(Z(r)){const l=r.decorate(ze,Nn);l!==null&&Vc(n,l)}Te+=s}if(!$o&&ve(r)&&r.__cachedText!==Te){const s=r.getWritable();s.__cachedText=Te,r=s}return i}function Vc(n,e){let t=ze._pendingDecorators;const r=ze._decorators;if(t===null){if(r[n]===e)return;t=If(ze)}t[n]=e}function Fi(n){let e=n.nextSibling;return e!==null&&e===ze._blockCursorElement&&(e=e.nextSibling),e}function pa(n,e){const t=new Set;for(let r=e;r<n.length;r++)t.add(n[r]);return t}function Xg(n,e,t,r,o,i){Te="",Vn=r===2,ze=t,Nn=t._config,Rr=t._nodes,li=ze._listeners.mutation,rs=o,os=i,kn=n._nodeMap,ft=e._nodeMap,$o=e._readOnly,is=new Map(t._keyToDOMMap);const s=new Map;return Lr=s,xo("root",null),ze=void 0,Rr=void 0,rs=void 0,os=void 0,kn=void 0,ft=void 0,Nn=void 0,is=void 0,Lr=void 0,s}function us(n){const e=is.get(n);return e===void 0&&M(75,n),e}function K(n){return{type:n}}const Ut=K("SELECTION_CHANGE_COMMAND"),Gc=K("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),jr=K("CLICK_COMMAND"),Zc=K("BEFORE_INPUT_COMMAND"),Xc=K("INPUT_COMMAND"),Qc=K("COMPOSITION_START_COMMAND"),ef=K("COMPOSITION_END_COMMAND"),dt=K("DELETE_CHARACTER_COMMAND"),Jt=K("INSERT_LINE_BREAK_COMMAND"),Xt=K("INSERT_PARAGRAPH_COMMAND"),qt=K("CONTROLLED_TEXT_INSERTION_COMMAND"),Jr=K("PASTE_COMMAND"),Ro=K("REMOVE_TEXT_COMMAND"),$n=K("DELETE_WORD_COMMAND"),Qt=K("DELETE_LINE_COMMAND"),Pt=K("FORMAT_TEXT_COMMAND"),rl=K("UNDO_COMMAND"),ol=K("REDO_COMMAND"),tf=K("KEYDOWN_COMMAND"),ai=K("KEY_ARROW_RIGHT_COMMAND"),cs=K("MOVE_TO_END"),qr=K("KEY_ARROW_LEFT_COMMAND"),Lo=K("MOVE_TO_START"),Nt=K("KEY_ARROW_UP_COMMAND"),en=K("KEY_ARROW_DOWN_COMMAND"),An=K("KEY_ENTER_COMMAND"),il=K("KEY_SPACE_COMMAND"),ui=K("KEY_BACKSPACE_COMMAND"),ur=K("KEY_ESCAPE_COMMAND"),ci=K("KEY_DELETE_COMMAND"),In=K("KEY_TAB_COMMAND"),Mo=K("INSERT_TAB_COMMAND"),Bt=K("INDENT_CONTENT_COMMAND"),yn=K("OUTDENT_CONTENT_COMMAND"),fi=K("DROP_COMMAND"),sl=K("FORMAT_ELEMENT_COMMAND"),ll=K("DRAGSTART_COMMAND"),al=K("DRAGOVER_COMMAND"),Qg=K("DRAGEND_COMMAND"),Yr=K("COPY_COMMAND"),Vr=K("CUT_COMMAND"),Mr=K("SELECT_ALL_COMMAND"),nf=K("CLEAR_EDITOR_COMMAND"),eh=K("CLEAR_HISTORY_COMMAND"),ro=K("CAN_REDO_COMMAND"),oo=K("CAN_UNDO_COMMAND"),rf=K("FOCUS_COMMAND"),of=K("BLUR_COMMAND"),th=K("KEY_MODIFIER_COMMAND"),At=Object.freeze({}),fs=[["keydown",function(n,e){Pr=n.timeStamp,sf=n.key,!e.isComposing()&&D(e,tf,n)}],["pointerdown",function(n,e){const t=n.target,r=n.pointerType;it(t)&&r!=="touch"&&r!=="pen"&&n.button===0&&wt(e,()=>{Of(t)||(hs=!0)})}],["compositionstart",function(n,e){D(e,Qc,n)}],["compositionend",function(n,e){Vt?vr=!0:ar||!Ur&&!Hr?D(e,ef,n):(ps=!0,ms=n.data)}],["input",function(n,e){n.stopPropagation(),wt(e,()=>{e.dispatchCommand(Xc,n)},{event:n}),Gn=null}],["click",function(n,e){wt(e,()=>{const t=k(),r=We(lt(e)),o=kt();if(r){if(T(t)){const i=t.anchor,s=i.getNode();if(i.type==="element"&&i.offset===0&&t.isCollapsed()&&!ve(s)&&ge().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&o!==null&&t.is(o))r.removeAllRanges(),t.dirty=!0;else if(n.detail===3&&!t.isCollapsed()&&s!==t.focus.getNode()){const l=H(s,a=>N(a)&&!a.isInline());N(l)&&l.select(0)}}else if(n.pointerType==="touch"||n.pointerType==="pen"){const i=r.anchorNode;(Q(i)||Wt(i))&&fe(gi(o,r,e,n))}}D(e,jr,n)})}],["cut",At],["copy",At],["dragstart",At],["dragover",At],["dragend",At],["paste",At],["focus",At],["blur",At],["drop",At]];ko&&fs.push(["beforeinput",(n,e)=>(function(t,r){const o=t.inputType;o==="deleteCompositionText"||Vt&&Uf(r)||o!=="insertCompositionText"&&D(r,Zc,t)})(n,e)]);let Pr=0,sf=null,lf=0,Gn=null;const ds=new WeakMap,Po=new WeakMap;let gs=!1,hs=!1,Tr=!1,vr=!1,ps=!1,ms="",pn=null,af=[0,"",0,"root",0];function uf(n,e,t,r,o){const i=n.anchor,s=n.focus,l=i.getNode(),a=ue(),u=We(lt(a)),c=u!==null?u.anchorNode:null,d=i.key,f=a.getElementByKey(d),h=t.length;return d!==s.key||!R(l)||(!o&&(!ko||lf<r+50)||l.isDirty()&&h<2||Bf(t))&&i.offset!==s.offset&&!l.isComposing()||bt(l)||l.isDirty()&&h>1||(o||!ko)&&f!==null&&!l.isComposing()&&c!==Fn(f)||u!==null&&e!==null&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||l.getFormat()!==n.format||l.getStyle()!==n.style||(function(g,m){if(m.isSegmented())return!0;if(!g.isCollapsed())return!1;const p=g.anchor.offset,y=m.getParentOrThrow(),_=Sn(m);return p===0?!m.canInsertTextBefore()||!y.canInsertTextBefore()&&!m.isComposing()||_||(function(b){const S=b.getPreviousSibling();return(R(S)||N(S)&&S.isInline())&&!S.canInsertTextAfter()})(m):p===m.getTextContentSize()&&(!m.canInsertTextAfter()||!y.canInsertTextAfter()&&!m.isComposing()||_)})(n,l)}function ma(n,e){return Wt(n)&&n.nodeValue!==null&&e!==0&&e!==n.nodeValue.length}function _a(n,e,t){const{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}=n;gs&&(gs=!1,ma(r,o)&&ma(i,s)&&!pn)||wt(e,()=>{if(!t)return void fe(null);if(!Zr(e,r,i))return;let l=k();if(pn&&T(l)&&l.isCollapsed()){const a=l.anchor,u=pn.anchor;(a.key===u.key&&a.offset===u.offset+1||a.offset===1&&u.getNode().is(a.getNode().getPreviousSibling()))&&(l=pn.clone(),fe(l))}if(pn=null,T(l)){const a=l.anchor,u=a.getNode();if(l.isCollapsed()){n.type==="Range"&&n.anchorNode===n.focusNode&&(l.dirty=!0);const c=lt(e).event,d=c?c.timeStamp:performance.now(),[f,h,g,m,p]=af,y=ge(),_=e.isComposing()===!1&&y.getTextContent()==="";if(d<p+200&&a.offset===g&&a.key===m)So(l,f,h);else if(a.type==="text")R(u)||M(141),cf(l,u);else if(a.type==="element"&&!_){N(u)||M(259);const b=a.getNode();b.isEmpty()?(function(S,x){const C=x.getTextFormat(),v=x.getTextStyle();So(S,C,v)})(l,b):So(l,0,"")}}else{const c=a.key,d=l.focus.key,f=l.getNodes(),h=f.length,g=l.isBackward(),m=g?s:o,p=g?o:s,y=g?d:c,_=g?c:d;let b=2047,S=!1;for(let x=0;x<h;x++){const C=f[x],v=C.getTextContentSize();if(R(C)&&v!==0&&!(x===0&&C.__key===y&&m===v||x===h-1&&C.__key===_&&p===0)&&(S=!0,b&=C.getFormat(),b===0))break}l.format=S?b:0}}D(e,Ut,void 0)})}function So(n,e,t){n.format===e&&n.style===t||(n.format=e,n.style=t,n.dirty=!0)}function cf(n,e){So(n,e.getFormat(),e.getStyle())}function ff(n){if(!n.getTargetRanges)return null;const e=n.getTargetRanges();return e.length===0?null:e[0]}function nh(n){const e=n.inputType,t=ff(n),r=ue(),o=k();if(e==="deleteContentBackward"){if(o===null){const d=kt();if(!T(d))return!0;fe(d.clone())}if(T(o)){const d=o.anchor.key===o.focus.key;if(i=n.timeStamp,sf==="MediaLast"&&i<Pr+30&&r.isComposing()&&d){if(Me(null),Pr=0,setTimeout(()=>{wt(r,()=>{Me(null)})},30),T(o)){const f=o.anchor.getNode();f.markDirty(),R(f)||M(142),cf(o,f)}}else{Me(null),n.preventDefault();const f=o.anchor.getNode(),h=f.getTextContent(),g=f.canInsertTextAfter(),m=o.anchor.offset===0&&o.focus.offset===h.length;let p=ra&&d&&!m&&g;if(p&&o.isCollapsed()&&(p=!Z(Ss(o.anchor,!0))),!p){D(r,dt,!0);const y=k();ra&&T(y)&&y.isCollapsed()&&(pn=y,setTimeout(()=>pn=null))}}return!0}}var i;if(!T(o))return!0;const s=n.data;Gn!==null&&bl(!1,r,Gn),o.dirty&&Gn===null||!o.isCollapsed()||ve(o.anchor.getNode())||t===null||o.applyDOMRange(t),Gn=null;const l=o.anchor,a=o.focus,u=l.getNode(),c=a.getNode();if(e==="insertText"||e==="insertTranspose"){if(s===`
`)n.preventDefault(),D(r,Jt,!1);else if(s===si)n.preventDefault(),D(r,Xt,void 0);else if(s==null&&n.dataTransfer){const d=n.dataTransfer.getData("text/plain");n.preventDefault(),o.insertRawText(d)}else s!=null&&uf(o,t,s,n.timeStamp,!0)?(n.preventDefault(),D(r,qt,s)):Gn=s;return lf=n.timeStamp,!0}switch(n.preventDefault(),e){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":D(r,qt,n);break;case"insertFromComposition":Me(null),D(r,qt,n);break;case"insertLineBreak":Me(null),D(r,Jt,!1);break;case"insertParagraph":Me(null),Tr&&!ar?(Tr=!1,D(r,Jt,!1)):D(r,Xt,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":D(r,Jr,n);break;case"deleteByComposition":(function(d,f){return d!==f||N(d)||N(f)||!Sn(d)||!Sn(f)})(u,c)&&D(r,Ro,n);break;case"deleteByDrag":case"deleteByCut":D(r,Ro,n);break;case"deleteContent":D(r,dt,!1);break;case"deleteWordBackward":D(r,$n,!0);break;case"deleteWordForward":D(r,$n,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":D(r,Qt,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":D(r,Qt,!1);break;case"formatStrikeThrough":D(r,Pt,"strikethrough");break;case"formatBold":D(r,Pt,"bold");break;case"formatItalic":D(r,Pt,"italic");break;case"formatUnderline":D(r,Pt,"underline");break;case"historyUndo":D(r,rl,void 0);break;case"historyRedo":D(r,ol,void 0)}return!0}function rh(n){if(Q(n.target)&&Of(n.target))return!0;const e=ue(),t=k(),r=n.data,o=ff(n);if(r!=null&&T(t)&&uf(t,o,r,n.timeStamp,!1)){vr&&(Io(e,r),vr=!1);const i=t.anchor.getNode(),s=We(lt(e));if(s===null)return!0;const l=t.isBackward(),a=l?t.anchor.offset:t.focus.offset,u=l?t.focus.offset:t.anchor.offset;ko&&!t.isCollapsed()&&R(i)&&s.anchorNode!==null&&i.getTextContent().slice(0,a)+r+i.getTextContent().slice(a+u)===zf(s.anchorNode)||D(e,qt,r);const c=r.length;Vt&&c>1&&n.inputType==="insertCompositionText"&&!e.isComposing()&&(t.anchor.offset-=c),Ur||ar||Hr||!e.isComposing()||(Pr=0,Me(null))}else bl(!1,e,r!==null?r:void 0),vr&&(Io(e,r||void 0),vr=!1);return(function(){$e();const i=ue();Kc(i)})(),!0}function oh(n){const e=ue(),t=k();if(T(t)&&!e.isComposing()){const r=t.anchor,o=t.anchor.getNode();Me(r.key),(n.timeStamp<Pr+30||r.type==="element"||!t.isCollapsed()||o.getFormat()!==t.format||R(o)&&o.getStyle()!==t.style)&&D(e,qt,Mg)}return!0}function ih(n){return Io(ue(),n.data),!0}function Io(n,e){const t=n._compositionKey;if(Me(null),t!==null&&e!=null){if(e===""){const r=G(t),o=Fn(n.getElementByKey(t));return void(o!==null&&o.nodeValue!==null&&R(r)&&xl(r,o.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=k();if(T(r)){const o=r.focus;return r.anchor.set(o.key,o.offset,o.type),void D(n,An,null)}}}bl(!0,n,e)}function sh(n){const e=ue();if(n.key==null)return!0;if(ps&&Ua(n))return wt(e,()=>{Io(e,ms)}),ps=!1,ms="",!0;if((function(t){return se(t,"ArrowRight",{shiftKey:"any"})})(n))D(e,ai,n);else if((function(t){return se(t,"ArrowRight",Ot)})(n))D(e,cs,n);else if((function(t){return se(t,"ArrowLeft",{shiftKey:"any"})})(n))D(e,qr,n);else if((function(t){return se(t,"ArrowLeft",Ot)})(n))D(e,Lo,n);else if((function(t){return se(t,"ArrowUp",{altKey:"any",shiftKey:"any"})})(n))D(e,Nt,n);else if((function(t){return se(t,"ArrowDown",{altKey:"any",shiftKey:"any"})})(n))D(e,en,n);else if((function(t){return se(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})})(n))Tr=!0,D(e,An,n);else if((function(t){return t.key===" "})(n))D(e,il,n);else if((function(t){return at&&se(t,"o",{ctrlKey:!0})})(n))n.preventDefault(),Tr=!0,D(e,Jt,!0);else if((function(t){return se(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})})(n))Tr=!1,D(e,An,n);else if((function(t){return se(t,"Backspace",{shiftKey:"any"})||at&&se(t,"h",{ctrlKey:!0})})(n))Ua(n)?D(e,ui,n):(n.preventDefault(),D(e,dt,!0));else if((function(t){return t.key==="Escape"})(n))D(e,ur,n);else if((function(t){return se(t,"Delete",{})||at&&se(t,"d",{ctrlKey:!0})})(n))(function(t){return t.key==="Delete"})(n)?D(e,ci,n):(n.preventDefault(),D(e,dt,!1));else if((function(t){return se(t,"Backspace",Wa)})(n))n.preventDefault(),D(e,$n,!0);else if((function(t){return se(t,"Delete",Wa)})(n))n.preventDefault(),D(e,$n,!1);else if((function(t){return at&&se(t,"Backspace",{metaKey:!0})})(n))n.preventDefault(),D(e,Qt,!0);else if((function(t){return at&&(se(t,"Delete",{metaKey:!0})||se(t,"k",{ctrlKey:!0}))})(n))n.preventDefault(),D(e,Qt,!1);else if((function(t){return se(t,"b",Ot)})(n))n.preventDefault(),D(e,Pt,"bold");else if((function(t){return se(t,"u",Ot)})(n))n.preventDefault(),D(e,Pt,"underline");else if((function(t){return se(t,"i",Ot)})(n))n.preventDefault(),D(e,Pt,"italic");else if((function(t){return se(t,"Tab",{shiftKey:"any"})})(n))D(e,In,n);else if((function(t){return se(t,"z",Ot)})(n))n.preventDefault(),D(e,rl,void 0);else if((function(t){return at?se(t,"z",{metaKey:!0,shiftKey:!0}):se(t,"y",{ctrlKey:!0})||se(t,"z",{ctrlKey:!0,shiftKey:!0})})(n))n.preventDefault(),D(e,ol,void 0);else{const t=e._editorState._selection;t===null||T(t)?Ha(n)&&(n.preventDefault(),D(e,Mr,n)):(function(r){return se(r,"c",Ot)})(n)?(n.preventDefault(),D(e,Yr,n)):(function(r){return se(r,"x",Ot)})(n)?(n.preventDefault(),D(e,Vr,n)):Ha(n)&&(n.preventDefault(),D(e,Mr,n))}return(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey})(n)&&e.dispatchCommand(th,n),!0}function df(n){let e=n.__lexicalEventHandles;return e===void 0&&(e=[],n.__lexicalEventHandles=e),e}const nr=new Map;function gf(n){const e=Mh(n.target);if(e===null)return;const t=_i(e.anchorNode);if(t===null)return;hs&&(hs=!1,wt(t,()=>{const a=kt(),u=e.anchorNode;(Q(u)||Wt(u))&&fe(gi(a,e,t,n))}));const r=yl(t),o=r[r.length-1],i=o._key,s=nr.get(i),l=s||o;l!==t&&_a(e,l,!1),_a(e,t,!0),t!==o?nr.set(i,t):s&&nr.delete(i)}function ya(n){n._lexicalHandled=!0}function ba(n){return n._lexicalHandled===!0}function lh(n){const e=ds.get(n);if(e===void 0)return;const t=Po.get(e);if(t===void 0)return;const r=t-1;r>=0||M(164),ds.delete(n),Po.set(e,r),r===0&&e.removeEventListener("selectionchange",gf);const o=yi(n);_l(o)?((function(s){if(s._parentEditor!==null){const l=yl(s),a=l[l.length-1]._key;nr.get(a)===s&&nr.delete(a)}else nr.delete(s._key)})(o),n.__lexicalEditor=null):o&&M(198);const i=df(n);for(let s=0;s<i.length;s++)i[s]();n.__lexicalEventHandles=[]}function _s(n,e,t){$e();const r=n.__key,o=n.getParent();if(o===null)return;const i=(function(l){const a=k();if(!T(a)||!N(l))return a;const{anchor:u,focus:c}=a,d=u.getNode(),f=c.getNode();return Cs(d,l)&&u.set(l.__key,0,"element"),Cs(f,l)&&c.set(l.__key,0,"element"),a})(n);let s=!1;if(T(i)&&e){const l=i.anchor,a=i.focus;l.key===r&&(Wo(l,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0),a.key===r&&(Wo(a,n,o,n.getPreviousSibling(),n.getNextSibling()),s=!0)}else Se(i)&&e&&n.isSelected()&&n.selectPrevious();if(T(i)&&e&&!s){const l=n.getIndexWithinParent();Cn(n),zo(i,o,l,-1)}else Cn(n);t||Pe(o)||o.canBeEmpty()||!o.isEmpty()||_s(o,e),e&&i&&ve(o)&&o.isEmpty()&&o.selectEnd()}function Xy(n){return n}const hf=Symbol.for("ephemeral");function Do(n){return n[hf]||!1}class vt{__type;__key;__parent;__prev;__next;__state;static getType(){const{ownNodeType:e}=xi(this);return e===void 0&&M(64,this.name),e}static clone(e){M(65,this.name)}$config(){return{}}config(e,t){const r=t.extends||Object.getPrototypeOf(this.constructor);return Object.assign(t,{extends:r,type:e}),{[e]:t}}afterCloneFrom(e){this.__key===e.__key?(this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state):e.__state&&(this.__state=e.__state.getWritable(this))}static importDOM;constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),Mf(this,e)}getType(){return this.__type}isInline(){M(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const t=G(e);if(t===null)break;e=t.__parent}return!1}isSelected(e){const t=e||k();if(t==null)return!1;const r=t.getNodes().some(o=>o.__key===this.__key);if(R(this))return r;if(T(t)&&t.anchor.type==="element"&&t.focus.type==="element"){if(t.isCollapsed())return!1;const o=this.getParent();if(Z(this)&&this.isInline()&&o){const i=t.isBackward()?t.focus:t.anchor;if(o.is(i.getNode())&&i.offset===o.getChildrenSize()&&this.is(o.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let t=e.getFirstChild(),r=0;for(;t!==null;){if(this.is(t))return r;r++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:G(e)}getParentOrThrow(){const e=this.getParent();return e===null&&M(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const t=e.getParent();if(Pe(t))return N(e)||e===this&&Z(e)||M(194),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&M(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;t!==null;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:G(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(t===null)return e;let r=t.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:G(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=N(this)?this:this.getParent(),r=N(e)?e:e.getParent(),o=t&&r?vo(t,r):null;return o?o.commonAncestor:null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){const t=vo(this,e);return t!==null&&(t.type==="descendant"||(t.type==="branch"?Gf(t)===-1:(t.type!=="same"&&t.type!=="ancestor"&&M(279),!1)))}isParentOf(e){const t=vo(this,e);return t!==null&&t.type==="ancestor"}getNodesBetween(e){const t=this.isBefore(e),r=[],o=new Set;let i=this;for(;i!==null;){const s=i.__key;if(o.has(s)||(o.add(s),r.push(i)),i===e)break;const l=N(i)?t?i.getFirstChild():i.getLastChild():null;if(l!==null){i=l;continue}const a=t?i.getNextSibling():i.getPreviousSibling();if(a!==null){i=a;continue}const u=i.getParentOrThrow();if(o.has(u.__key)||r.push(u),u===e)break;let c=null,d=u;do{if(d===null&&M(68),c=t?d.getNextSibling():d.getPreviousSibling(),d=d.getParent(),d===null)break;c!==null||o.has(d.__key)||r.push(d)}while(c===null);i=c}return t||r.reverse(),r}isDirty(){const e=ue()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){if(Do(this))return this;const e=G(this.__key);return e===null&&M(113),e}getWritable(){if(Do(this))return this;$e();const e=sn(),t=ue(),r=e._nodeMap,o=this.__key,i=this.getLatest(),s=t._cloneNotNeeded,l=k();if(l!==null&&l.setCachedNodes(null),s.has(o))return Ho(i),i;const a=Jf(i);return s.add(o),Ho(a),r.set(o,a),a}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){M(70)}updateDOM(e,t,r){M(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){const e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){M(18,this.name)}updateFromJSON(e){return(function(t,r){const o=t.getWritable(),i=r.$;let s=i;for(const l of jc(o).flatKeys)l in r&&(s!==void 0&&s!==i||(s={...i}),s[l]=r[l]);return(o.__state||s)&&Hc(t).updateFromJSON(s),o})(this,e)}static transform(){return null}remove(e){_s(this,!0,e)}replace(e,t){$e();let r=k();r!==null&&(r=r.clone()),Ii(this,e);const o=this.getLatest(),i=this.__key,s=e.__key,l=e.getWritable(),a=this.getParentOrThrow().getWritable(),u=a.__size;Cn(l);const c=o.getPreviousSibling(),d=o.getNextSibling(),f=o.__prev,h=o.__next,g=o.__parent;if(_s(o,!1,!0),c===null?a.__first=s:c.getWritable().__next=s,l.__prev=f,d===null?a.__last=s:d.getWritable().__prev=s,l.__next=h,l.__parent=g,a.__size=u,t&&(N(this)&&N(l)||M(139),this.getChildren().forEach(m=>{l.append(m)})),T(r)){fe(r);const m=r.anchor,p=r.focus;m.key===i&&wa(m,l),p.key===i&&wa(p,l)}return Ht()===i&&Me(s),l}insertAfter(e,t=!0){$e(),Ii(this,e);const r=this.getWritable(),o=e.getWritable(),i=o.getParent(),s=k();let l=!1,a=!1;if(i!==null){const h=e.getIndexWithinParent();if(Cn(o),T(s)){const g=i.__key,m=s.anchor,p=s.focus;l=m.type==="element"&&m.key===g&&m.offset===h+1,a=p.type==="element"&&p.key===g&&p.offset===h+1}}const u=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),d=o.__key,f=r.__next;if(u===null?c.__last=d:u.getWritable().__prev=d,c.__size++,r.__next=d,o.__next=f,o.__prev=r.__key,o.__parent=r.__parent,t&&T(s)){const h=this.getIndexWithinParent();zo(s,c,h+1);const g=c.__key;l&&s.anchor.set(g,h+2,"element"),a&&s.focus.set(g,h+2,"element")}return e}insertBefore(e,t=!0){$e(),Ii(this,e);const r=this.getWritable(),o=e.getWritable(),i=o.__key;Cn(o);const s=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),a=r.__prev,u=this.getIndexWithinParent();s===null?l.__first=i:s.getWritable().__next=i,l.__size++,r.__prev=i,o.__prev=a,o.__next=r.__key,o.__parent=r.__parent;const c=k();return t&&T(c)&&zo(c,this.getParentOrThrow(),u),e}isParentRequired(){return!1}createParentElementNode(){return Y()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){$e();const r=this.getPreviousSibling(),o=this.getParentOrThrow();if(r===null)return o.select(0,0);if(N(r))return r.select();if(!R(r)){const i=r.getIndexWithinParent()+1;return o.select(i,i)}return r.select(e,t)}selectNext(e,t){$e();const r=this.getNextSibling(),o=this.getParentOrThrow();if(r===null)return o.select();if(N(r))return r.select(0,0);if(!R(r)){const i=r.getIndexWithinParent();return o.select(i,i)}return r.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}const Bo="historic",ah="history-push",xn="history-merge",ul="paste",pf="collaboration",uh="skip-scroll-into-view",ch="skip-dom-selection",xa="skip-selection-focus";class cr extends vt{static getType(){return"linebreak"}static clone(e){return new cr(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(t){const r=t.parentElement;if(r!==null&&jo(r)){const o=r.firstChild;if(o===t||o.nextSibling===t&&io(o)){const i=r.lastChild;if(i===t||i.previousSibling===t&&io(i))return!0}}return!1})(e)||(function(t){const r=t.parentElement;if(r!==null&&jo(r)){const o=r.firstChild;if(o===t||o.nextSibling===t&&io(o))return!1;const i=r.lastChild;if(i===t||i.previousSibling===t&&io(i))return!0}return!1})(e)?null:{conversion:fh,priority:0}}}static importJSON(e){return tt().updateFromJSON(e)}}function fh(n){return{node:tt()}}function tt(){return Ie(new cr)}function de(n){return n instanceof cr}function io(n){return Wt(n)&&/^( |\t|\r?\n)+$/.test(n.textContent||"")}function Oi(n,e){return 16&e?"code":e&Mc?"mark":32&e?"sub":64&e?"sup":null}function Ri(n,e){return 1&e?"strong":2&e?"em":"span"}function mf(n,e,t,r,o){const i=r.classList;let s=rr(o,"base");s!==void 0&&i.add(...s),s=rr(o,"underlineStrikethrough");let l=!1;const a=8&e&&4&e;s!==void 0&&(8&t&&4&t?(l=!0,a||i.add(...s)):a&&i.remove(...s));for(const u in Gt){const c=Gt[u];if(s=rr(o,u),s!==void 0)if(t&c){if(l&&(u==="underline"||u==="strikethrough")){e&c&&i.remove(...s);continue}((e&c)===0||a&&u==="underline"||u==="strikethrough")&&i.add(...s)}else e&c&&i.remove(...s)}}function _f(n,e,t){const r=e.firstChild,o=t.isComposing(),i=n+(o?ii:"");if(r==null)e.textContent=i;else{const s=r.nodeValue;if(s!==i)if(o||Vt){const[l,a,u]=(function(c,d){const f=c.length,h=d.length;let g=0,m=0;for(;g<f&&g<h&&c[g]===d[g];)g++;for(;m+g<f&&m+g<h&&c[f-m-1]===d[h-m-1];)m++;return[g,f-g-m,d.slice(g,h-m)]})(s,i);a!==0&&r.deleteData(l,a),r.insertData(l,u)}else r.nodeValue=i}}function Sa(n,e,t,r,o,i){_f(o,n,e);const s=i.theme.text;s!==void 0&&mf(0,0,r,n,s)}function so(n,e){const t=document.createElement(e);return t.appendChild(n),t}class rt extends vt{__text;__format;__style;__mode;__detail;static getType(){return"text"}static clone(e){return new rt(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return zg[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Ht()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=Gt[e];return(this.getFormat()&t)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return Uo(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){const r=this.__format,o=Oi(0,r),i=Ri(0,r),s=o===null?i:o,l=document.createElement(s);let a=l;this.hasFormat("code")&&l.setAttribute("spellcheck","false"),o!==null&&(a=document.createElement(i),l.appendChild(a)),Sa(a,this,0,r,this.__text,e);const u=this.__style;return u!==""&&(l.style.cssText=u),l}updateDOM(e,t,r){const o=this.__text,i=e.__format,s=this.__format,l=Oi(0,i),a=Oi(0,s),u=Ri(0,i),c=Ri(0,s);if((l===null?u:l)!==(a===null?c:a))return!0;if(l===a&&u!==c){const m=t.firstChild;m==null&&M(48);const p=document.createElement(c);return Sa(p,this,0,s,o,r),t.replaceChild(p,m),!1}let d=t;a!==null&&l!==null&&(d=t.firstChild,d==null&&M(49)),_f(o,d,this);const f=r.theme.text;f!==void 0&&i!==s&&mf(0,i,s,d,f);const h=e.__style,g=this.__style;return h!==g&&(t.style.cssText=g),!1}static importDOM(){return{"#text":()=>({conversion:ph,priority:0}),b:()=>({conversion:gh,priority:0}),code:()=>({conversion:Ft,priority:0}),em:()=>({conversion:Ft,priority:0}),i:()=>({conversion:Ft,priority:0}),mark:()=>({conversion:Ft,priority:0}),s:()=>({conversion:Ft,priority:0}),span:()=>({conversion:dh,priority:0}),strong:()=>({conversion:Ft,priority:0}),sub:()=>({conversion:Ft,priority:0}),sup:()=>({conversion:Ft,priority:0}),u:()=>({conversion:Ft,priority:0})}}static importJSON(e){return le().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return Q(t)||M(132),t.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?t.style.textTransform="lowercase":this.hasFormat("uppercase")?t.style.textTransform="uppercase":this.hasFormat("capitalize")&&(t.style.textTransform="capitalize"),this.hasFormat("bold")&&(t=so(t,"b")),this.hasFormat("italic")&&(t=so(t,"i")),this.hasFormat("strikethrough")&&(t=so(t,"s")),this.hasFormat("underline")&&(t=so(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format=typeof e=="string"?Gt[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail=typeof e=="string"?Dg[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=Uo(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=Kg[e];if(this.__mode===t)return this;const r=this.getWritable();return r.__mode=t,r}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){$e();let r=e,o=t;const i=k(),s=this.getTextContent(),l=this.__key;if(typeof s=="string"){const a=s.length;r===void 0&&(r=a),o===void 0&&(o=a)}else r=0,o=0;if(!T(i))return xf(l,r,l,o,"text","text");{const a=Ht();a!==i.anchor.key&&a!==i.focus.key||Me(l),i.setTextNodeRange(this,r,this,o)}return i}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,r,o){const i=this.getWritable(),s=i.__text,l=r.length;let a=e;a<0&&(a=l+a,a<0&&(a=0));const u=k();if(o&&T(u)){const d=e+l;u.setTextNodeRange(i,d,i,d)}const c=s.slice(0,a)+r+s.slice(a+t);return i.__text=c,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){$e();const t=this.getLatest(),r=t.getTextContent();if(r==="")return[];const o=t.__key,i=Ht(),s=r.length;e.sort((E,w)=>E-w),e.push(s);const l=[],a=e.length;for(let E=0,w=0;E<s&&w<=a;w++){const $=e[w];$>E&&(l.push(r.slice(E,$)),E=$)}const u=l.length;if(u===1)return[t];const c=l[0],d=t.getParent();let f;const h=t.getFormat(),g=t.getStyle(),m=t.__detail;let p=!1,y=null,_=null;const b=k();if(T(b)){const[E,w]=b.isBackward()?[b.focus,b.anchor]:[b.anchor,b.focus];E.type==="text"&&E.key===o&&(y=E),w.type==="text"&&w.key===o&&(_=w)}t.isSegmented()?(f=le(c),f.__format=h,f.__style=g,f.__detail=m,f.__state=ua(t,f),p=!0):f=t.setTextContent(c);const S=[f];for(let E=1;E<u;E++){const w=le(l[E]);w.__format=h,w.__style=g,w.__detail=m,w.__state=ua(t,w);const $=w.__key;i===o&&Me($),S.push(w)}const x=y?y.offset:null,C=_?_.offset:null;let v=0;for(const E of S){if(!y&&!_)break;const w=v+E.getTextContentSize();if(y!==null&&x!==null&&x<=w&&x>=v&&(y.set(E.getKey(),x-v,"text"),x<w&&(y=null)),_!==null&&C!==null&&C<=w&&C>=v){_.set(E.getKey(),C-v,"text");break}v=w}if(d!==null){(function($){const A=$.getPreviousSibling(),O=$.getNextSibling();A!==null&&Ho(A),O!==null&&Ho(O)})(this);const E=d.getWritable(),w=this.getIndexWithinParent();p?(E.splice(w,0,S),this.remove()):E.splice(w,1,S),T(b)&&zo(b,d,w,u-1)}return S}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||M(50);const r=this.__key,o=e.__key,i=this.__text,s=i.length;Ht()===o&&Me(r);const l=k();if(T(l)){const d=l.anchor,f=l.focus;d!==null&&d.key===o&&Fa(d,t,r,e,s),f!==null&&f.key===o&&Fa(f,t,r,e,s)}const a=e.__text,u=t?a+i:i+a;this.setTextContent(u);const c=this.getWritable();return e.remove(),c}isTextEntity(){return!1}}function dh(n){return{forChild:cl(n.style),node:null}}function gh(n){const e=n,t=e.style.fontWeight==="normal";return{forChild:cl(e.style,t?void 0:"bold"),node:null}}const Ca=new WeakMap;function hh(n){if(!Q(n))return!1;if(n.nodeName==="PRE")return!0;const e=n.style.whiteSpace;return typeof e=="string"&&e.startsWith("pre")}function ph(n){const e=n;n.parentElement===null&&M(129);let t=e.textContent||"";if((function(r){let o,i=r.parentNode;const s=[r];for(;i!==null&&(o=Ca.get(i))===void 0&&!hh(i);)s.push(i),i=i.parentNode;const l=o===void 0?i:o;for(let a=0;a<s.length;a++)Ca.set(s[a],l);return l})(e)!==null){const r=t.split(/(\r?\n|\t)/),o=[],i=r.length;for(let s=0;s<i;s++){const l=r[s];l===`
`||l===`\r
`?o.push(tt()):l==="	"?o.push(gt()):l!==""&&o.push(le(l))}return{node:o}}if(t=t.replace(/\r/g,"").replace(/[ \t\n]+/g," "),t==="")return{node:null};if(t[0]===" "){let r=e,o=!0;for(;r!==null&&(r=va(r,!1))!==null;){const i=r.textContent||"";if(i.length>0){/[ \t\n]$/.test(i)&&(t=t.slice(1)),o=!1;break}}o&&(t=t.slice(1))}if(t[t.length-1]===" "){let r=e,o=!0;for(;r!==null&&(r=va(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){o=!1;break}o&&(t=t.slice(0,t.length-1))}return t===""?{node:null}:{node:le(t)}}function va(n,e){let t=n;for(;;){let r;for(;(r=e?t.nextSibling:t.previousSibling)===null;){const i=t.parentElement;if(i===null)return null;t=i}if(t=r,Q(t)){const i=t.style.display;if(i===""&&!Es(t)||i!==""&&!i.startsWith("inline"))return null}let o=t;for(;(o=e?t.firstChild:t.lastChild)!==null;)t=o;if(Wt(t))return t;if(t.nodeName==="BR")return null}}const mh={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Ft(n){const e=mh[n.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:cl(n.style,e),node:null}}function le(n=""){return Ie(new rt(n))}function R(n){return n instanceof rt}function cl(n,e){const t=n.fontWeight,r=n.textDecoration.split(" "),o=t==="700"||t==="bold",i=r.includes("line-through"),s=n.fontStyle==="italic",l=r.includes("underline"),a=n.verticalAlign;return u=>(R(u)&&(o&&!u.hasFormat("bold")&&u.toggleFormat("bold"),i&&!u.hasFormat("strikethrough")&&u.toggleFormat("strikethrough"),s&&!u.hasFormat("italic")&&u.toggleFormat("italic"),l&&!u.hasFormat("underline")&&u.toggleFormat("underline"),a!=="sub"||u.hasFormat("subscript")||u.toggleFormat("subscript"),a!=="super"||u.hasFormat("superscript")||u.toggleFormat("superscript"),e&&!u.hasFormat(e)&&u.toggleFormat(e)),u)}class fr extends rt{static getType(){return"tab"}static clone(e){return new fr(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){const t=super.createDOM(e),r=rr(e.theme,"tab");return r!==void 0&&t.classList.add(...r),t}static importJSON(e){return gt().updateFromJSON(e)}setTextContent(e){return e!=="	"&&e!==""&&Rc(126),super.setTextContent("	")}spliceText(e,t,r,o){return r===""&&t===0||r==="	"&&t===1||M(286),this}setDetail(e){return e!==2&&M(127),this}setMode(e){return e!=="normal"&&M(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function gt(){return Ie(new fr)}function He(n){return n instanceof fr}class _h{key;offset;type;_selection;constructor(e,t,r){this._selection=null,this.key=e,this.offset=t,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:Vf(Be(mt(this,"next")),Be(mt(e,"next")))<0}getNode(){const e=G(this.key);return e===null&&M(20),e}set(e,t,r,o){const i=this._selection,s=this.key;o&&this.key===e&&this.offset===t&&this.type===r||(this.key=e,this.offset=t,this.type=r,gr()||(Ht()===s&&Me(e),i!==null&&(i.setCachedNodes(null),i.dirty=!0)))}}function Re(n,e,t){return new _h(n,e,t)}function Li(n,e){let t=e.__key,r=n.offset,o="element";if(R(e)){o="text";const i=e.getTextContentSize();r>i&&(r=i)}else if(!N(e)){const i=e.getNextSibling();if(R(i))t=i.__key,r=0,o="text";else{const s=e.getParent();s&&(t=s.__key,r=e.getIndexWithinParent()+1)}}n.set(t,r,o)}function wa(n,e){if(N(e)){const t=e.getLastDescendant();N(t)||R(t)?Li(n,t):Li(n,e)}else Li(n,e)}class di{_nodes;_cachedNodes;dirty;constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!Se(e))return!1;const t=this._nodes,r=e._nodes;return t.size===r.size&&Array.from(t).every(o=>r.has(o))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new di(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),r=t.length,o=t[r-1];let i;if(R(o))i=o.select();else{const s=o.getIndexWithinParent()+1;i=o.getParentOrThrow().select(s,s)}i.insertNodes(e);for(let s=0;s<r;s++)t[s].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=this._nodes,r=[];for(const o of t){const i=G(o);i!==null&&r.push(i)}return gr()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let t="";for(let r=0;r<e.length;r++)t+=e[r].getTextContent();return t}deleteNodes(){const e=this.getNodes();if((k()||kt())===this&&e[0]){const t=be(e[0],"next");$l(Kt(t,t))}for(const t of e)t.remove()}}function T(n){return n instanceof Dn}class Dn{format;style;anchor;focus;_cachedNodes;dirty;constructor(e,t,r,o){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=r,this.style=o,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!T(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const t=(function(r){const o=[],[i,s]=r.getTextSlices();i&&o.push(i.caret.origin);const l=new Set,a=new Set;for(const u of r)if(Ve(u)){const{origin:c}=u;o.length===0?l.add(c):(a.add(c),o.push(c))}else{const{origin:c}=u;N(c)&&a.has(c)||o.push(c)}if(s&&o.push(s.caret.origin),tn(r.focus)&&N(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let u=je(r.focus.origin,"previous");Ve(u)&&l.has(u.origin)&&!u.origin.isEmpty()&&u.origin.is(o[o.length-1]);u=Qr(u))l.delete(u.origin),o.pop();for(;o.length>1;){const u=o[o.length-1];if(!N(u)||a.has(u)||u.isEmpty()||l.has(u))break;o.pop()}if(o.length===0&&r.isCollapsed()){const u=Be(r.anchor),c=Be(r.anchor.getFlipped()),d=h=>Et(h)?h.origin:h.getNodeAtCaret(),f=d(u)||d(c)||(r.anchor.getNodeAtCaret()?u.origin:c.origin);o.push(f)}return o})(Fl(Ts(this),"next"));return gr()||(this._cachedNodes=t),t}setTextNodeRange(e,t,r,o){this.anchor.set(e.__key,t,"text"),this.focus.set(r.__key,o,"text")}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const t=e[0],r=e[e.length-1],o=this.anchor,i=this.focus,s=o.isBefore(i),[l,a]=ys(this);let u="",c=!0;for(let d=0;d<e.length;d++){const f=e[d];if(N(f)&&!f.isInline())c||(u+=`
`),c=!f.isEmpty();else if(c=!1,R(f)){let h=f.getTextContent();f===t?f===r?o.type==="element"&&i.type==="element"&&i.offset!==o.offset||(h=l<a?h.slice(l,a):h.slice(a,l)):h=s?h.slice(l):h.slice(a):f===r&&(h=s?h.slice(0,a):h.slice(0,l)),u+=h}else!Z(f)&&!de(f)||f===r&&this.isCollapsed()||(u+=f.getTextContent())}return u}applyDOMRange(e){const t=ue(),r=t.getEditorState()._selection,o=bf(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,r);if(o===null)return;const[i,s]=o;this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(s.key,s.offset,s.type,!0),Zt(this)}clone(){const e=this.anchor,t=this.focus;return new Dn(Re(e.key,e.offset,e.type),Re(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=Uo(this.format,e,null),this.dirty=!0}setFormat(e){this.format=e,this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=Gt[e];return(this.format&t)!==0}insertRawText(e){const t=e.split(/(\r?\n|\t)/),r=[],o=t.length;for(let i=0;i<o;i++){const s=t[i];s===`
`||s===`\r
`?r.push(tt()):s==="	"?r.push(gt()):r.push(le(s))}this.insertNodes(r)}insertText(e){const t=this.anchor,r=this.focus,o=this.format,i=this.style;let s=t,l=r;!this.isCollapsed()&&r.isBefore(t)&&(s=r,l=t),s.type==="element"&&(function(p,y,_,b){const S=p.getNode(),x=S.getChildAtIndex(p.offset),C=le();if(C.setFormat(_),C.setStyle(b),ln(x))x.splice(0,0,[C]);else{const v=ve(S)?Y().append(C):C;x===null?S.append(v):x.insertBefore(v)}p.is(y)&&y.set(C.__key,0,"text"),p.set(C.__key,0,"text")})(s,l,o,i),l.type==="element"&&ut(l,Be(mt(l,"next")));const a=s.offset;let u=l.offset;const c=this.getNodes(),d=c.length;let f=c[0];R(f)||M(26);const h=f.getTextContent().length,g=f.getParentOrThrow();let m=c[d-1];if(d===1&&l.type==="element"&&(u=h,l.set(s.key,u,"text")),this.isCollapsed()&&a===h&&(bt(f)||!f.canInsertTextAfter()||!g.canInsertTextAfter()&&f.getNextSibling()===null)){let p=f.getNextSibling();if(R(p)&&p.canInsertTextBefore()&&!bt(p)||(p=le(),p.setFormat(o),p.setStyle(i),g.canInsertTextAfter()?f.insertAfter(p):g.insertAfter(p)),p.select(0,0),f=p,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&a===0&&(bt(f)||!f.canInsertTextBefore()||!g.canInsertTextBefore()&&f.getPreviousSibling()===null)){let p=f.getPreviousSibling();if(R(p)&&!bt(p)||(p=le(),p.setFormat(o),g.canInsertTextBefore()?f.insertBefore(p):g.insertBefore(p)),p.select(),f=p,e!=="")return void this.insertText(e)}else if(f.isSegmented()&&a!==h){const p=le(f.getTextContent());p.setFormat(o),f.replace(p),f=p}else if(!this.isCollapsed()&&e!==""){const p=m.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||N(p)&&(!p.canInsertTextBefore()||!p.canInsertTextAfter()))return this.insertText(""),yf(this.anchor,this.focus,null),void this.insertText(e)}if(d===1){if(Sn(f)){const b=le(e);return b.select(),void f.replace(b)}const p=f.getFormat(),y=f.getStyle();if(a!==u||p===o&&y===i){if(He(f)){const b=le(e);return b.setFormat(o),b.setStyle(i),b.select(),void f.replace(b)}}else{if(f.getTextContent()!==""){const b=le(e);if(b.setFormat(o),b.setStyle(i),b.select(),a===0)f.insertBefore(b,!1);else{const[S]=f.splitText(a);S.insertAfter(b,!1)}return void(b.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}f.setFormat(o),f.setStyle(i)}const _=u-a;f=f.spliceText(a,_,e,!0),f.getTextContent()===""?f.remove():this.anchor.type==="text"&&(f.isComposing()?this.anchor.offset-=e.length:(this.format=p,this.style=y))}else{const p=new Set([...f.getParentKeys(),...m.getParentKeys()]),y=N(f)?f:f.getParentOrThrow();let _=N(m)?m:m.getParentOrThrow(),b=m;if(!y.is(_)&&_.isInline())do b=_,_=_.getParentOrThrow();while(_.isInline());if(l.type==="text"&&(u!==0||m.getTextContent()==="")||l.type==="element"&&m.getIndexWithinParent()<u)if(R(m)&&!Sn(m)&&u!==m.getTextContentSize()){if(m.isSegmented()){const E=le(m.getTextContent());m.replace(E),m=E}ve(l.getNode())||l.type!=="text"||(m=m.spliceText(0,u,"")),p.add(m.__key)}else{const E=m.getParentOrThrow();E.canBeEmpty()||E.getChildrenSize()!==1?m.remove():E.remove()}else p.add(m.__key);const S=_.getChildren(),x=new Set(c),C=y.is(_),v=y.isInline()&&f.getNextSibling()===null?y:f;for(let E=S.length-1;E>=0;E--){const w=S[E];if(w.is(f)||N(w)&&w.isParentOf(f))break;w.isAttached()&&(!x.has(w)||w.is(b)?C||v.insertAfter(w,!1):w.remove())}if(!C){let E=_,w=null;for(;E!==null;){const $=E.getChildren(),A=$.length;(A===0||$[A-1].is(w))&&(p.delete(E.__key),w=E),E=E.getParent()}}if(Sn(f))if(a===h)f.select();else{const E=le(e);E.select(),f.replace(E)}else f=f.spliceText(a,h-a,e,!0),f.getTextContent()===""?f.remove():this.anchor.type==="text"&&(f.isComposing()?this.anchor.offset-=e.length:(this.format=f.getFormat(),this.style=f.getStyle()));for(let E=1;E<d;E++){const w=c[E],$=w.__key;p.has($)||w.remove()}}}removeText(){const e=k()===this;wo(this,qh(Ts(this))),e&&k()!==this&&fe(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void Me(null);const r=this.getNodes(),o=[];for(const S of r)R(S)&&o.push(S);const i=S=>{r.forEach(x=>{if(N(x)){const C=x.getFormatFlags(e,S);x.setTextFormat(C)}})},s=o.length;if(s===0)return this.toggleFormat(e),Me(null),void i(t);const l=this.anchor,a=this.focus,u=this.isBackward(),c=u?a:l,d=u?l:a;let f=0,h=o[0],g=c.type==="element"?0:c.offset;if(c.type==="text"&&g===h.getTextContentSize()&&(f=1,h=o[1],g=0),h==null)return;const m=h.getFormatFlags(e,t);i(m);const p=s-1;let y=o[p];const _=d.type==="text"?d.offset:y.getTextContentSize();if(h.is(y)){if(g===_)return;if(bt(h)||g===0&&_===h.getTextContentSize())h.setFormat(m);else{const S=h.splitText(g,_),x=g===0?S[0]:S[1];x.setFormat(m),c.type==="text"&&c.set(x.__key,0,"text"),d.type==="text"&&d.set(x.__key,_-g,"text")}return void(this.format=m)}g===0||bt(h)||([,h]=h.splitText(g),g=0),h.setFormat(m);const b=y.getFormatFlags(e,m);_>0&&(_===y.getTextContentSize()||bt(y)||([y]=y.splitText(_)),y.setFormat(b));for(let S=f+1;S<p;S++){const x=o[S],C=x.getFormatFlags(e,b);x.setFormat(C)}c.type==="text"&&c.set(h.__key,g,"text"),d.type==="text"&&d.set(y.__key,_,"text"),this.format=m|b}insertNodes(e){if(e.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const g=k();return T(g)||M(134),g.insertNodes(e)}const t=(this.isBackward()?this.focus:this.anchor).getNode(),r=H(t,ot),o=e[e.length-1];if(N(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const g=Mi(this);r.splice(g,0,e),o.selectEnd()}return}if(!e.some(g=>(N(g)||Z(g))&&!g.isInline())){N(r)||M(211,t.constructor.name,t.getType());const g=Mi(this);return r.splice(g,0,e),void o.selectEnd()}const i=(function(g){const m=Y();let p=null;for(let y=0;y<g.length;y++){const _=g[y],b=de(_);if(b||Z(_)&&_.isInline()||N(_)&&_.isInline()||R(_)||_.isParentRequired()){if(p===null&&(p=_.createParentElementNode(),m.append(p),b))continue;p!==null&&p.append(_)}else m.append(_),p=null}return m})(e),s=i.getLastDescendant(),l=i.getChildren(),a=!N(r)||!r.isEmpty()?this.insertParagraph():null,u=l[l.length-1];let c=l[0];var d;N(d=c)&&ot(d)&&!d.isEmpty()&&N(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(N(r)||M(211,t.constructor.name,t.getType()),r.append(...c.getChildren()),c=l[1]),c&&(r===null&&M(212,t.constructor.name,t.getType()),(function(g,m){const p=m.getParentOrThrow().getLastChild();let y=m;const _=[m];for(;y!==p;)y.getNextSibling()||M(140),y=y.getNextSibling(),_.push(y);let b=g;for(const S of _)b=b.insertAfter(S)})(r,c));const f=H(s,ot);a&&N(f)&&(a.canMergeWhenEmpty()||ot(u))&&(f.append(...a.getChildren()),a.remove()),N(r)&&r.isEmpty()&&r.remove(),s.selectEnd();const h=N(r)?r.getLastChild():null;de(h)&&f!==r&&h.remove()}insertParagraph(){if(this.anchor.key==="root"){const s=Y();return ge().splice(this.anchor.offset,0,[s]),s.select(),s}const e=Mi(this),t=H(this.anchor.getNode(),ot);N(t)||M(213);const r=t.getChildAtIndex(e),o=r?[r,...r.getNextSiblings()]:[],i=t.insertNewAfter(this,!1);return i?(i.append(...o),i.selectStart(),i):null}insertLineBreak(e){const t=tt();if(this.insertNodes([t]),e){const r=t.getParentOrThrow(),o=t.getIndexWithinParent();r.select(o,o)}}extract(){const e=[...this.getNodes()],t=e.length;let r=e[0],o=e[t-1];const[i,s]=ys(this),l=this.isBackward(),[a,u]=l?[this.focus,this.anchor]:[this.anchor,this.focus],[c,d]=l?[s,i]:[i,s];if(t===0)return[];if(t===1){if(R(r)&&!this.isCollapsed()){const f=r.splitText(c,d),h=c===0?f[0]:f[1];return h?(a.set(h.getKey(),0,"text"),u.set(h.getKey(),h.getTextContentSize(),"text"),[h]):[]}return[r]}if(R(r)&&(c===r.getTextContentSize()?e.shift():c!==0&&([,r]=r.splitText(c),e[0]=r,a.set(r.getKey(),0,"text"))),R(o)){const f=o.getTextContent().length;d===0?e.pop():d!==f&&([o]=o.splitText(d),e[e.length-1]=o,u.set(o.getKey(),o.getTextContentSize(),"text"))}return e}modify(e,t,r){if(Oa(this,e,t,r))return;const o=e==="move",i=ue(),s=We(lt(i));if(!s)return;const l=i._blockCursorElement,a=i._rootElement,u=this.focus.getNode();if(a===null||l===null||!N(u)||u.isInline()||u.canBeEmpty()||vs(l,i,a),this.dirty){let c=On(i,this.anchor.key),d=On(i,this.focus.key);this.anchor.type==="text"&&(c=Fn(c)),this.focus.type==="text"&&(d=Fn(d)),c&&d&&Sf(s,c,this.anchor.offset,d,this.focus.offset)}if((function(c,d,f,h){c.modify(d,f,h)})(s,e,t?"backward":"forward",r),s.rangeCount>0){const c=s.getRangeAt(0),d=this.anchor.getNode(),f=ve(d)?d:Oh(d);if(this.applyDOMRange(c),this.dirty=!0,!o){const h=this.getNodes(),g=[];let m=!1;for(let p=0;p<h.length;p++){const y=h[p];Cs(y,f)?g.push(y):m=!0}if(m&&g.length>0)if(t){const p=g[0];N(p)?p.selectStart():p.getParentOrThrow().selectStart()}else{const p=g[g.length-1];N(p)?p.selectEnd():p.getParentOrThrow().selectEnd()}s.anchorNode===c.startContainer&&s.anchorOffset===c.startOffset||(function(p){const y=p.focus,_=p.anchor,b=_.key,S=_.offset,x=_.type;_.set(y.key,y.offset,y.type,!0),y.set(b,S,x,!0)})(this)}}r==="lineboundary"&&Oa(this,e,t,r,"decorators")}forwardDeletion(e,t,r){if(!r&&(e.type==="element"&&N(t)&&e.offset===t.getChildrenSize()||e.type==="text"&&e.offset===t.getTextContentSize())){const o=t.getParent(),i=t.getNextSibling()||(o===null?null:o.getNextSibling());if(N(i)&&i.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let o=r.getNode();if(this.forwardDeletion(r,o,e))return;const i=Dr(mt(r,e?"previous":"next"));if(i.getTextSlices().every(l=>l===null||l.distance===0)){let l={type:"initial"};for(const a of i.iterNodeCarets("shadowRoot"))if(Ve(a)){if(!a.origin.isInline()){if(a.origin.isShadowRoot()){if(l.type==="merge-block")break;if(N(i.anchor.origin)&&i.anchor.origin.isEmpty()){const u=Be(a);wo(this,Kt(u,u)),i.anchor.origin.remove()}return}l.type!=="merge-next-block"&&l.type!=="merge-block"||(l={block:l.block,caret:a,type:"merge-block"})}}else{if(l.type==="merge-block")break;if(tn(a)){if(N(a.origin)){if(a.origin.isInline()){if(!a.origin.isParentOf(i.anchor.origin))break}else l={block:a.origin,type:"merge-next-block"};continue}if(Z(a.origin)){if(!a.origin.isIsolated())if(l.type==="merge-next-block"&&(a.origin.isKeyboardSelectable()||!a.origin.isInline())&&N(i.anchor.origin)&&i.anchor.origin.isEmpty()){i.anchor.origin.remove();const u=fl();u.add(a.origin.getKey()),fe(u)}else a.origin.remove();return}break}}if(l.type==="merge-block"){const{caret:a,block:u}=l;return wo(this,Kt(!a.origin.isEmpty()&&u.isEmpty()?eo(be(u,a.direction)):i.anchor,a)),this.removeText()}}const s=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&Ta(this,r.getNode()))return}else{const l=s.type==="text"?s.getNode():null;if(o=r.type==="text"?r.getNode():null,l!==null&&l.isSegmented()){const a=s.offset,u=l.getTextContentSize();if(l.is(o)||e&&a!==u||!e&&a!==0)return void Na(l,e,a)}else if(o!==null&&o.isSegmented()){const a=r.offset,u=o.getTextContentSize();if(o.is(l)||e&&a!==0||!e&&a!==u)return void Na(o,e,a)}(function(a,u){const c=a.anchor,d=a.focus,f=c.getNode(),h=d.getNode();if(f===h&&c.type==="text"&&d.type==="text"){const g=c.offset,m=d.offset,p=g<m,y=p?g:m,_=p?m:g,b=_-1;y!==b&&(function(S){return!(Bf(S)||yh(S))})(f.getTextContent().slice(y,_))&&(u?d.set(d.key,b,d.type):c.set(c.key,b,c.type))}})(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&ve(r.getParent())&&r.getPreviousSibling()===null&&Ta(this,r)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,r=t.getNode();if(this.forwardDeletion(t,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Se(n){return n instanceof di}function Ea(n){const e=n.offset;if(n.type==="text")return e;const t=n.getNode();return e===t.getChildrenSize()?t.getTextContent().length:0}function ys(n){const e=n.getStartEndPoints();if(e===null)return[0,0];const[t,r]=e;return t.type==="element"&&r.type==="element"&&t.key===r.key&&t.offset===r.offset?[0,0]:[Ea(t),Ea(r)]}function Ta(n,e){for(let t=e;t;t=t.getParent()){if(N(t)){if(t.collapseAtStart(n))return!0;if(Pe(t))break}if(t.getPreviousSibling())break}return!1}const yh=(()=>{try{const n=new RegExp("\\p{Emoji}","u"),e=n.test.bind(n);if(e("❤️")&&e("#️⃣")&&e("👍"))return e}catch{}return()=>!1})();function Na(n,e,t){const r=n,o=r.getTextContent().split(/(?=\s)/g),i=o.length;let s=0,l=0;for(let u=0;u<i;u++){const c=u===i-1;if(l=s,s+=o[u].length,e&&s===t||s>t||c){o.splice(u,1),c&&(l=void 0);break}}const a=o.join("").trim();a===""?r.remove():(r.setTextContent(a),r.select(l,l))}function ka(n,e,t,r){let o,i=e;if(Q(n)){let s=!1;const l=n.childNodes,a=l.length,u=r._blockCursorElement;i===a&&(s=!0,i=a-1);let c=l[i],d=!1;if(c===u)c=l[i+1],d=!0;else if(u!==null){const f=u.parentNode;n===f&&e>Array.prototype.indexOf.call(f.children,u)&&i--}if(o=Qn(c),R(o))i=Tt(o,s?"next":"previous");else{let f=Qn(n);if(f===null)return null;if(N(f)){const h=r.getElementByKey(f.getKey());h===null&&M(214),[f,i]=f.getDOMSlot(h).resolveChildIndex(f,h,n,e),N(f)||M(215),s&&i>=f.getChildrenSize()&&(i=Math.max(0,f.getChildrenSize()-1));let m=f.getChildAtIndex(i);if(N(m)&&(function(p,y,_){const b=p.getParent();return _===null||b===null||!b.canBeEmpty()||b!==_.getNode()})(m,0,t)){const p=s?m.getLastDescendant():m.getFirstDescendant();p===null?f=m:(m=p,f=N(m)?m:m.getParentOrThrow()),i=0}R(m)?(o=m,f=null,i=Tt(m,s?"next":"previous")):m!==f&&s&&!d&&(N(f)||M(216),i=Math.min(f.getChildrenSize(),i+1))}else{const h=f.getIndexWithinParent();i=e===0&&Z(f)&&Qn(n)===f?h:h+1,f=f.getParentOrThrow()}if(N(f))return Re(f.__key,i,"element")}}else o=Qn(n);return R(o)?Re(o.__key,Tt(o,i,"clamp"),"text"):null}function $a(n,e,t){const r=n.offset,o=n.getNode();if(r===0){const i=o.getPreviousSibling(),s=o.getParent();if(e){if((t||!e)&&i===null&&N(s)&&s.isInline()){const l=s.getPreviousSibling();R(l)&&n.set(l.__key,l.getTextContent().length,"text")}}else N(i)&&!t&&i.isInline()?n.set(i.__key,i.getChildrenSize(),"element"):R(i)&&n.set(i.__key,i.getTextContent().length,"text")}else if(r===o.getTextContent().length){const i=o.getNextSibling(),s=o.getParent();if(e&&N(i)&&i.isInline())n.set(i.__key,0,"element");else if((t||e)&&i===null&&N(s)&&s.isInline()&&!s.canInsertTextAfter()){const l=s.getNextSibling();R(l)&&n.set(l.__key,0,"text")}}}function yf(n,e,t){if(n.type==="text"&&e.type==="text"){const r=n.isBefore(e),o=n.is(e);$a(n,r,o),$a(e,!r,o),o&&e.set(n.key,n.offset,n.type);const i=ue();if(i.isComposing()&&i._compositionKey!==n.key&&T(t)){const s=t.anchor,l=t.focus;n.set(s.key,s.offset,s.type,!0),e.set(l.key,l.offset,l.type,!0)}}}function bf(n,e,t,r,o,i){if(n===null||t===null||!Zr(o,n,t))return null;const s=ka(n,e,T(i)?i.anchor:null,o);if(s===null)return null;const l=ka(t,r,T(i)?i.focus:null,o);if(l===null)return null;if(s.type==="element"&&l.type==="element"){const a=Qn(n),u=Qn(t);if(Z(a)&&Z(u))return null}return yf(s,l,i),[s,l]}function Ko(n){return N(n)&&!n.isInline()}function xf(n,e,t,r,o,i){const s=sn(),l=new Dn(Re(n,e,o),Re(t,r,i),0,"");return l.dirty=!0,s._selection=l,l}function dr(){const n=Re("root",0,"element"),e=Re("root",0,"element");return new Dn(n,e,0,"")}function fl(){return new di(new Set)}function bh(n,e){return gi(null,n,e,null)}function gi(n,e,t,r){const o=t._window;if(o===null)return null;const i=r||o.event,s=i?i.type:void 0,l=s==="selectionchange",a=!ts&&(l||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&i&&i.detail===3||s==="drop"||s===void 0);let u,c,d,f;if(T(n)&&!a)return n.clone();if(e===null)return null;if(u=e.anchorNode,c=e.focusNode,d=e.anchorOffset,f=e.focusOffset,(l||s===void 0)&&T(n)&&!Zr(t,u,c))return n.clone();const h=bf(u,d,c,f,t,n);if(h===null)return null;const[g,m]=h;return new Dn(g,m,T(n)?n.format:0,T(n)?n.style:"")}function k(){return sn()._selection}function kt(){return ue()._editorState._selection}function zo(n,e,t,r=1){const o=n.anchor,i=n.focus,s=o.getNode(),l=i.getNode();if(!e.is(s)&&!e.is(l))return;const a=e.__key;if(n.isCollapsed()){const u=o.offset;if(t<=u&&r>0||t<u&&r<0){const c=Math.max(0,u+r);o.set(a,c,"element"),i.set(a,c,"element"),Aa(n)}}else{const u=n.isBackward(),c=u?i:o,d=c.getNode(),f=u?o:i,h=f.getNode();if(e.is(d)){const g=c.offset;(t<=g&&r>0||t<g&&r<0)&&c.set(a,Math.max(0,g+r),"element")}if(e.is(h)){const g=f.offset;(t<=g&&r>0||t<g&&r<0)&&f.set(a,Math.max(0,g+r),"element")}}Aa(n)}function Aa(n){const e=n.anchor,t=e.offset,r=n.focus,o=r.offset,i=e.getNode(),s=r.getNode();if(n.isCollapsed()){if(!N(i))return;const l=i.getChildrenSize(),a=t>=l,u=a?i.getChildAtIndex(l-1):i.getChildAtIndex(t);if(R(u)){let c=0;a&&(c=u.getTextContentSize()),e.set(u.__key,c,"text"),r.set(u.__key,c,"text")}return}if(N(i)){const l=i.getChildrenSize(),a=t>=l,u=a?i.getChildAtIndex(l-1):i.getChildAtIndex(t);if(R(u)){let c=0;a&&(c=u.getTextContentSize()),e.set(u.__key,c,"text")}}if(N(s)){const l=s.getChildrenSize(),a=o>=l,u=a?s.getChildAtIndex(l-1):s.getChildAtIndex(o);if(R(u)){let c=0;a&&(c=u.getTextContentSize()),r.set(u.__key,c,"text")}}}function Wo(n,e,t,r,o){let i=null,s=0,l=null;r!==null?(i=r.__key,R(r)?(s=r.getTextContentSize(),l="text"):N(r)&&(s=r.getChildrenSize(),l="element")):o!==null&&(i=o.__key,R(o)?l="text":N(o)&&(l="element")),i!==null&&l!==null?n.set(i,s,l):(s=e.getIndexWithinParent(),s===-1&&(s=t.getChildrenSize()),n.set(t.__key,s,"element"))}function Fa(n,e,t,r,o){n.type==="text"?n.set(t,n.offset+(e?0:o),"text"):n.offset>r.getIndexWithinParent()&&n.set(n.key,n.offset-1,"element")}function Sf(n,e,t,r,o){try{n.setBaseAndExtent(e,t,r,o)}catch{}}function xh(n,e,t,r,o,i,s){const l=r.anchorNode,a=r.focusNode,u=r.anchorOffset,c=r.focusOffset,d=document.activeElement;if(o.has(pf)&&d!==i||d!==null&&ml(d))return;if(!T(e))return void(n!==null&&Zr(t,l,a)&&r.removeAllRanges());const f=e.anchor,h=e.focus,g=f.key,m=h.key,p=On(t,g),y=On(t,m),_=f.offset,b=h.offset,S=e.format,x=e.style,C=e.isCollapsed();let v=p,E=y,w=!1;if(f.type==="text"){v=Fn(p);const I=f.getNode();w=I.getFormat()!==S||I.getStyle()!==x}else T(n)&&n.anchor.type==="text"&&(w=!0);var $,A,O,L,P;if(h.type==="text"&&(E=Fn(y)),v!==null&&E!==null&&(C&&(n===null||w||T(n)&&(n.format!==S||n.style!==x))&&($=S,A=x,O=_,L=g,P=performance.now(),af=[$,A,O,L,P]),u!==_||c!==b||l!==v||a!==E||r.type==="Range"&&C||(d!==null&&i.contains(d)||o.has(xa)||i.focus({preventScroll:!0}),f.type==="element"))){if(Sf(r,v,_,E,b),!Vt||!e.isCollapsed()||i===null||o.has(xa)||document.activeElement!==null&&i.contains(document.activeElement)||i.focus({preventScroll:!0}),!o.has(uh)&&e.isCollapsed()&&i!==null&&i===document.activeElement){const I=T(e)&&e.anchor.type==="element"?v.childNodes[_]||null:r.rangeCount>0?r.getRangeAt(0):null;if(I!==null){let q;if(I instanceof Text){const re=document.createRange();re.selectNode(I),q=re.getBoundingClientRect()}else q=I.getBoundingClientRect();(function(re,J,X){const xe=Hf(X),Ee=Cl(xe);if(xe===null||Ee===null)return;let{top:U,bottom:_e}=J,me=0,Ze=0,Le=X;for(;Le!==null;){const Je=Le===xe.body;if(Je)me=0,Ze=lt(re).innerHeight;else{const $t=Le.getBoundingClientRect();me=$t.top,Ze=$t.bottom}let Xe=0;if(U<me?Xe=-(me-U):_e>Ze&&(Xe=_e-Ze),Xe!==0)if(Je)Ee.scrollBy(0,Xe);else{const $t=Le.scrollTop;Le.scrollTop+=Xe;const De=Le.scrollTop-$t;U-=De,_e-=De}if(Je)break;Le=Xr(Le)}})(t,q,i)}}gs=!0}}function Cf(n){let e=k()||kt();e===null&&(e=ge().selectEnd()),e.insertNodes(n)}function Mi(n){let e=n;n.isCollapsed()||e.removeText();const t=k();T(t)&&(e=t),T(e)||M(161);const r=e.anchor;let o=r.getNode(),i=r.offset;for(;!ot(o);){const s=o;if([o,i]=Sh(o,i),s.is(o))break}return i}function Sh(n,e){const t=n.getParent();if(!t){const o=Y();return ge().append(o),o.select(),[ge(),0]}if(R(n)){const o=n.splitText(e);if(o.length===0)return[t,n.getIndexWithinParent()];const i=e===0?0:1;return[t,o[0].getIndexWithinParent()+i]}if(!N(n)||e===0)return[t,n.getIndexWithinParent()];const r=n.getChildAtIndex(e);if(r){const o=new Dn(Re(n.__key,e,"element"),Re(n.__key,e,"element"),0,""),i=n.insertNewAfter(o);i&&i.append(r,...r.getNextSiblings())}return[t,n.getIndexWithinParent()+1]}function Oa(n,e,t,r,o="decorators-and-blocks"){if(e==="move"&&r==="character"&&!n.isCollapsed()){const[c,d]=t===n.isBackward()?[n.focus,n.anchor]:[n.anchor,n.focus];return d.set(c.key,c.offset,c.type),!0}const i=mt(n.focus,t?"previous":"next"),s=r==="lineboundary",l=e==="move";let a=i,u=o==="decorators-and-blocks";if(!Al(a)){for(const c of a){u=!1;const{origin:d}=c;if(!Z(d)||d.isIsolated()||(a=c,!s||!d.isInline()))break}if(u)for(const c of Dr(i).iterNodeCarets(e==="extend"?"shadowRoot":"root")){if(Ve(c))c.origin.isInline()||(a=c);else{if(N(c.origin))continue;Z(c.origin)&&!c.origin.isInline()&&(a=c)}break}}if(a===i)return!1;if(l&&!s&&Z(a.origin)&&a.origin.isKeyboardSelectable()){const c=fl();return c.add(a.origin.getKey()),fe(c),!0}return a=Be(a),l&&ut(n.anchor,a),ut(n.focus,a),u||!s}let Ae=null,Fe=null,Ye=!1,Pi=!1,Co=0;const Ra={characterData:!0,childList:!0,subtree:!0};function gr(){return Ye||Ae!==null&&Ae._readOnly}function $e(){Ye&&M(13)}function vf(){Co>99&&M(14)}function sn(){return Ae===null&&M(195,wf()),Ae}function ue(){return Fe===null&&M(196,wf()),Fe}function wf(){let n=0;const e=new Set,t=lr.version;if(typeof window<"u")for(const o of document.querySelectorAll("[contenteditable]")){const i=yi(o);if(_l(i))n++;else if(i){let s=String(i.constructor.version||"<0.17.1");s===t&&(s+=" (separately built, likely a bundler configuration issue)"),e.add(s)}}let r=` Detected on the page: ${n} compatible editor(s) with version ${t}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function Ch(){return Fe}function La(n,e,t){const r=e.__type,o=Ff(n,r);let i=t.get(r);i===void 0&&(i=Array.from(o.transforms),t.set(r,i));const s=i.length;for(let l=0;l<s&&(i[l](e),e.isAttached());l++);}function Ma(n,e){return n!==void 0&&n.__key!==e&&n.isAttached()}function Ef(n,e){if(!e)return;const t=n._updateTags;let r=e;Array.isArray(e)||(r=[e]);for(const o of r)t.add(o)}function vh(n){return dl(n,ue()._nodes)}function dl(n,e){const t=n.type,r=e.get(t);r===void 0&&M(17,t);const o=r.klass;n.type!==o.getType()&&M(18,o.name);const i=o.importJSON(n),s=n.children;if(N(i)&&Array.isArray(s))for(let l=0;l<s.length;l++){const a=dl(s[l],e);i.append(a)}return i}function Pa(n,e,t){const r=Ae,o=Ye,i=Fe;Ae=e,Ye=!0,Fe=n;try{return t()}finally{Ae=r,Ye=o,Fe=i}}function Lt(n,e){const t=n._pendingEditorState,r=n._rootElement,o=n._headless||r===null;if(t===null)return;const i=n._editorState,s=i._selection,l=t._selection,a=n._dirtyType!==0,u=Ae,c=Ye,d=Fe,f=n._updating,h=n._observer;let g=null;if(n._pendingEditorState=null,n._editorState=t,!o&&a&&h!==null){Fe=n,Ae=t,Ye=!1,n._updating=!0;try{const C=n._dirtyType,v=n._dirtyElements,E=n._dirtyLeaves;h.disconnect(),g=Xg(i,t,n,C,v,E)}catch(C){if(C instanceof Error&&n._onError(C),Pi)throw C;return $f(n,null,r,t),zc(n),n._dirtyType=2,Pi=!0,Lt(n,i),void(Pi=!1)}finally{h.observe(r,Ra),n._updating=f,Ae=u,Ye=c,Fe=d}}t._readOnly||(t._readOnly=!0);const m=n._dirtyLeaves,p=n._dirtyElements,y=n._normalizedNodes,_=n._updateTags,b=n._deferred;a&&(n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements=new Map,n._normalizedNodes=new Set,n._updateTags=new Set),(function(C,v){const E=C._decorators;let w=C._pendingDecorators||E;const $=v._nodeMap;let A;for(A in w)$.has(A)||(w===E&&(w=If(C)),delete w[A])})(n,t);const S=o?null:We(lt(n));if(n._editable&&S!==null&&(a||l===null||l.dirty||!l.is(s))&&r!==null&&!_.has(ch)){Fe=n,Ae=t;try{if(h!==null&&h.disconnect(),a||l===null||l.dirty){const C=n._blockCursorElement;C!==null&&vs(C,n,r),xh(s,l,n,S,_,r)}(function(C,v,E){let w=C._blockCursorElement;if(T(E)&&E.isCollapsed()&&E.anchor.type==="element"&&v.contains(document.activeElement)){const $=E.anchor,A=$.getNode(),O=$.offset;let L=!1,P=null;if(O===A.getChildrenSize())Di(A.getChildAtIndex(O-1))&&(L=!0);else{const I=A.getChildAtIndex(O);if(I!==null&&Di(I)){const q=I.getPreviousSibling();(q===null||Di(q))&&(L=!0,P=C.getElementByKey(I.__key))}}if(L){const I=C.getElementByKey(A.__key);return w===null&&(C._blockCursorElement=w=(function(q){const re=q.theme,J=document.createElement("div");J.contentEditable="false",J.setAttribute("data-lexical-cursor","true");let X=re.blockCursor;if(X!==void 0){if(typeof X=="string"){const xe=rn(X);X=re.blockCursor=xe}X!==void 0&&J.classList.add(...X)}return J})(C._config)),v.style.caretColor="transparent",void(P===null?I.appendChild(w):I.insertBefore(w,P))}}w!==null&&vs(w,C,v)})(n,r,l)}finally{h!==null&&h.observe(r,Ra),Fe=d,Ae=u}}g!==null&&(function(C,v,E,w,$){const A=Array.from(C._listeners.mutation),O=A.length;for(let L=0;L<O;L++){const[P,I]=A[L];for(const q of I){const re=v.get(q);re!==void 0&&P(re,{dirtyLeaves:w,prevEditorState:$,updateTags:E})}}})(n,g,_,m,i),T(l)||l===null||s!==null&&s.is(l)||n.dispatchCommand(Ut,void 0);const x=n._pendingDecorators;x!==null&&(n._decorators=x,n._pendingDecorators=null,Nr("decorator",n,!0,x)),(function(C,v,E){const w=Ka(v),$=Ka(E);w!==$&&Nr("textcontent",C,!0,$)})(n,e||i,t),Nr("update",n,!0,{dirtyElements:p,dirtyLeaves:m,editorState:t,mutatedNodes:g,normalizedNodes:y,prevEditorState:e||i,tags:_}),(function(C,v){if(C._deferred=[],v.length!==0){const E=C._updating;C._updating=!0;try{for(let w=0;w<v.length;w++)v[w]()}finally{C._updating=E}}})(n,b),(function(C){const v=C._updates;if(v.length!==0){const E=v.shift();if(E){const[w,$]=E;hi(C,w,$)}}})(n)}function Nr(n,e,t,...r){const o=e._updating;e._updating=t;try{const i=Array.from(e._listeners[n]);for(let s=0;s<i.length;s++)i[s].apply(null,r)}finally{e._updating=o}}function Ia(n,e){const t=n._updates;let r=e||!1;for(;t.length!==0;){const o=t.shift();if(o){const[i,s]=o,l=n._pendingEditorState;let a;s!==void 0&&(a=s.onUpdate,s.skipTransforms&&(r=!0),s.discrete&&(l===null&&M(191),l._flushSync=!0),a&&n._deferred.push(a),Ef(n,s.tag)),l==null?hi(n,i,s):i()}}return r}function hi(n,e,t){const r=n._updateTags;let o,i=!1,s=!1;t!==void 0&&(o=t.onUpdate,Ef(n,t.tag),i=t.skipTransforms||!1,s=t.discrete||!1),o&&n._deferred.push(o);const l=n._editorState;let a=n._pendingEditorState,u=!1;(a===null||a._readOnly)&&(a=n._pendingEditorState=Tf(a||l),u=!0),a._flushSync=s;const c=Ae,d=Ye,f=Fe,h=n._updating;Ae=a,Ye=!1,n._updating=!0,Fe=n;const g=n._headless||n.getRootElement()===null;pl(null);try{u&&(g?l._selection!==null&&(a._selection=l._selection.clone()):a._selection=(function(_,b){const S=_.getEditorState()._selection,x=We(lt(_));return T(S)||S==null?gi(S,x,_,b):S.clone()})(n,t&&t.event||null));const p=n._compositionKey;e(),i=Ia(n,i),(function(_,b){const S=b.getEditorState()._selection,x=_._selection;if(T(x)){const C=x.anchor,v=x.focus;let E;if(C.type==="text"&&(E=C.getNode(),E.selectionTransform(S,x)),v.type==="text"){const w=v.getNode();E!==w&&w.selectionTransform(S,x)}}})(a,n),n._dirtyType!==0&&(i?(function(_,b){const S=b._dirtyLeaves,x=_._nodeMap;for(const C of S){const v=x.get(C);R(v)&&v.isAttached()&&v.isSimpleText()&&!v.isUnmergeable()&&da(v)}})(a,n):(function(_,b){const S=b._dirtyLeaves,x=b._dirtyElements,C=_._nodeMap,v=Ht(),E=new Map;let w=S,$=w.size,A=x,O=A.size;for(;$>0||O>0;){if($>0){b._dirtyLeaves=new Set;for(const L of w){const P=C.get(L);R(P)&&P.isAttached()&&P.isSimpleText()&&!P.isUnmergeable()&&da(P),P!==void 0&&Ma(P,v)&&La(b,P,E),S.add(L)}if(w=b._dirtyLeaves,$=w.size,$>0){Co++;continue}}b._dirtyLeaves=new Set,b._dirtyElements=new Map,A.delete("root")&&A.set("root",!0);for(const L of A){const P=L[0],I=L[1];if(x.set(P,I),!I)continue;const q=C.get(P);q!==void 0&&Ma(q,v)&&La(b,q,E)}w=b._dirtyLeaves,$=w.size,A=b._dirtyElements,O=A.size,Co++}b._dirtyLeaves=S,b._dirtyElements=x})(a,n),Ia(n),(function(_,b,S,x){const C=_._nodeMap,v=b._nodeMap,E=[];for(const[w]of x){const $=v.get(w);$!==void 0&&($.isAttached()||(N($)&&Dc($,w,C,v,E,x),C.has(w)||x.delete(w),E.push(w)))}for(const w of E)v.delete(w);for(const w of S){const $=v.get(w);$===void 0||$.isAttached()||(C.has(w)||S.delete(w),v.delete(w))}})(l,a,n._dirtyLeaves,n._dirtyElements)),p!==n._compositionKey&&(a._flushSync=!0);const y=a._selection;if(T(y)){const _=a._nodeMap,b=y.anchor.key,S=y.focus.key;_.get(b)!==void 0&&_.get(S)!==void 0||M(19)}else Se(y)&&y._nodes.size===0&&(a._selection=null)}catch(p){return p instanceof Error&&n._onError(p),n._pendingEditorState=l,n._dirtyType=2,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),void Lt(n)}finally{Ae=c,Ye=d,Fe=f,n._updating=h,Co=0}n._dirtyType!==0||n._deferred.length>0||(function(p,y){const _=y.getEditorState()._selection,b=p._selection;if(b!==null){if(b.dirty||!b.is(_))return!0}else if(_!==null)return!0;return!1})(a,n)?a._flushSync?(a._flushSync=!1,Lt(n)):u&&Nh(()=>{Lt(n)}):(a._flushSync=!1,u&&(r.clear(),n._deferred=[],n._pendingEditorState=null))}function wt(n,e,t){Fe===n&&t===void 0?e():hi(n,e,t)}class kr{element;before;after;constructor(e,t,r){this.element=e,this.before=t||null,this.after=r||null}withBefore(e){return new kr(this.element,e,this.after)}withAfter(e){return new kr(this.element,this.before,e)}withElement(e){return this.element===e?this:new kr(e,this.before,this.after)}insertChild(e){const t=this.before||this.getManagedLineBreak();return t!==null&&t.parentElement!==this.element&&M(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&M(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&M(224),this.element.replaceChild(e,t),this}getFirstChild(){const e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(e===null)this.removeManagedLineBreak();else{const t=e==="decorator"&&(Hr||ar||Ur);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){const e=this.getManagedLineBreak();if(e){const t=this.element,r=e.nodeName==="IMG"?e.nextSibling:null;r&&t.removeChild(r),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){const t=this.getManagedLineBreak();if(t){if(e===(t.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,o=this.before,i=document.createElement("br");if(r.insertBefore(i,o),e){const s=document.createElement("img");s.setAttribute("data-lexical-linebreak","true"),s.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",s.alt="",r.insertBefore(s,i),r.__lexicalLineBreak=s}else r.__lexicalLineBreak=i}getFirstChildOffset(){let e=0;for(let t=this.after;t!==null;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,r,o){if(r===this.element){const a=this.getFirstChildOffset();return[e,Math.min(a+e.getChildrenSize(),Math.max(a,o))]}const i=Da(t,r);i.push(o);const s=Da(t,this.element);let l=e.getIndexWithinParent();for(let a=0;a<s.length;a++){const u=i[a],c=s[a];if(u===void 0||u<c)break;if(u>c){l+=1;break}}return[e.getParentOrThrow(),l]}}function Da(n,e){const t=[];let r=e;for(;r!==n&&r!==null;r=r.parentNode){let o=0;for(let i=r.previousSibling;i!==null;i=i.previousSibling)o++;t.push(o)}return r!==n&&M(225),t.reverse()}class ke extends vt{__first;__last;__size;__format;__style;__indent;__dir;__textFormat;__textStyle;constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__key===e.__key&&(this.__first=e.__first,this.__last=e.__last,this.__size=e.__size),this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return Bg[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;t!==null;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=ue()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return t!==null&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;t!==null;){if(R(t)&&e.push(t),N(t)){const r=t.getAllTextNodes();e.push(...r)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;N(e);){const t=e.getFirstChild();if(t===null)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;N(e);){const t=e.getLastChild();if(t===null)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),r=t.length;if(e>=r){const i=t[r-1];return N(i)&&i.getLastDescendant()||i||null}const o=t[e];return N(o)&&o.getFirstDescendant()||o||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:G(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&M(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:G(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&M(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let r,o;if(e<t/2){for(r=this.getFirstChild(),o=0;r!==null&&o<=e;){if(o===e)return r;r=r.getNextSibling(),o++}return null}for(r=this.getLastChild(),o=t-1;r!==null&&o>=e;){if(o===e)return r;r=r.getPreviousSibling(),o--}return null}getTextContent(){let e="";const t=this.getChildren(),r=t.length;for(let o=0;o<r;o++){const i=t[o];e+=i.getTextContent(),N(i)&&o!==r-1&&!i.isInline()&&(e+=si)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),r=t.length;for(let o=0;o<r;o++){const i=t[o];e+=i.getTextContentSize(),N(i)&&o!==r-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(e!==""){const t=oa[e];return(this.getFormat()&t)!==0}return!1}hasTextFormat(e){const t=Gt[e];return(this.getTextFormat()&t)!==0}getFormatFlags(e,t){return Uo(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){$e();const r=k();let o=e,i=t;const s=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&t===0){const a=this.getFirstChild();if(R(a)||N(a))return a.select(0,0)}else if(!(e!==void 0&&e!==s||t!==void 0&&t!==s)){const a=this.getLastChild();if(R(a)||N(a))return a.select()}}o===void 0&&(o=s),i===void 0&&(i=s);const l=this.__key;return T(r)?(r.anchor.set(l,o,"element"),r.focus.set(l,i,"element"),r.dirty=!0,r):xf(l,o,l,i,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(t=>t.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=e!==""?oa[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){const t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,r){Do(this)&&M(324,this.__key,this.__type);const o=this.getChildrenSize(),i=this.getWritable();e+t<=o||M(226,String(e),String(t),String(o));const s=i.__key,l=[],a=[],u=this.getChildAtIndex(e+t);let c=null,d=o-t+r.length;if(e!==0)if(e===o)c=this.getLastChild();else{const h=this.getChildAtIndex(e);h!==null&&(c=h.getPreviousSibling())}if(t>0){let h=c===null?this.getFirstChild():c.getNextSibling();for(let g=0;g<t;g++){h===null&&M(100);const m=h.getNextSibling(),p=h.__key;Cn(h.getWritable()),a.push(p),h=m}}let f=c;for(const h of r){f!==null&&h.is(f)&&(c=f=f.getPreviousSibling());const g=h.getWritable();g.__parent===s&&d--,Cn(g);const m=h.__key;if(f===null)i.__first=m,g.__prev=null;else{const p=f.getWritable();p.__next=m,g.__prev=p.__key}h.__key===s&&M(76),g.__parent=s,l.push(m),f=h}if(e+t===o)f!==null&&(f.getWritable().__next=null,i.__last=f.__key);else if(u!==null){const h=u.getWritable();if(f!==null){const g=f.getWritable();h.__prev=f.__key,g.__next=u.__key}else h.__prev=null}if(i.__size=d,a.length){const h=k();if(T(h)){const g=new Set(a),m=new Set(l),{anchor:p,focus:y}=h;Ba(p,g,m)&&Wo(p,p.getNode(),this,c,u),Ba(y,g,m)&&Wo(y,y.getNode(),this,c,u),d!==0||this.canBeEmpty()||Pe(this)||this.remove()}}return i}getDOMSlot(e){return new kr(e)}exportDOM(e){const{element:t}=super.exportDOM(e);if(Q(t)){const r=this.getIndent();r>0&&(t.style.paddingInlineStart=40*r+"px");const o=this.getDirection();o&&(t.dir=o)}return{element:t}}exportJSON(){const e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),r=this.getTextStyle();return t===0&&r===""||Pe(this)||this.getChildren().some(R)||(t!==0&&(e.textFormat=t),r!==""&&(e.textStyle=r)),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){const r=this.getDOMSlot(e);let o=r.getFirstChild();for(let i=this.getFirstChild();i;i=i.getNextSibling()){const s=t.getElementByKey(i.getKey());s!==null&&(o==null?(r.insertChild(s),o=s):o!==s&&r.replaceChild(s,o),o=o.nextSibling)}}}function N(n){return n instanceof ke}function Ba(n,e,t){let r=n.getNode();for(;r;){const o=r.__key;if(e.has(o)&&!t.has(o))return!0;r=r.getParent()}return!1}class pi extends vt{decorate(e,t){return null}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Z(n){return n instanceof pi}class hr extends ke{__cachedText;static getType(){return"root"}static clone(){return new hr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){M(51)}getTextContent(){const e=this.__cachedText;return!gr()&&ue()._dirtyType!==0||e===null?super.getTextContent():e}remove(){M(52)}replace(e){M(53)}insertBefore(e){M(54)}insertAfter(e){M(55)}updateDOM(e,t){return!1}splice(e,t,r){for(const o of r)N(o)||Z(o)||M(282);return super.splice(e,t,r)}static importJSON(e){return ge().updateFromJSON(e)}collapseAtStart(){return!0}}function ve(n){return n instanceof hr}function Tf(n){return new Gr(new Map(n._nodeMap))}function gl(){return new Gr(new Map([["root",new hr]]))}function Nf(n){const e=n.exportJSON(),t=n.constructor;if(e.type!==t.getType()&&M(130,t.name),N(n)){const r=e.children;Array.isArray(r)||M(59,t.name);const o=n.getChildren();for(let i=0;i<o.length;i++){const s=Nf(o[i]);r.push(s)}}return e}function wh(n){return n instanceof Gr}class Gr{_nodeMap;_selection;_flushSync;_readOnly;constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,t){return Pa(t&&t.editor||null,this,e)}clone(e){const t=new Gr(this._nodeMap,e===void 0?this._selection:e);return t._readOnly=!0,t}toJSON(){return Pa(null,this,()=>({root:Nf(ge())}))}}class hl extends ke{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class pr extends ke{static getType(){return"paragraph"}static clone(e){return new pr(e.__key)}createDOM(e){const t=document.createElement("p"),r=rr(e.theme,"paragraph");return r!==void 0&&t.classList.add(...r),t}updateDOM(e,t,r){return!1}static importDOM(){return{p:e=>({conversion:Eh,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(Q(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r)}return{element:t}}static importJSON(e){return Y().updateFromJSON(e)}exportJSON(){const e=super.exportJSON();if(e.textFormat===void 0||e.textStyle===void 0){const t=this.getChildren().find(R);t?(e.textFormat=t.getFormat(),e.textStyle=t.getStyle()):(e.textFormat=this.getTextFormat(),e.textStyle=this.getTextStyle())}return e}insertNewAfter(e,t){const r=Y();r.setTextFormat(e.format),r.setTextStyle(e.style);const o=this.getDirection();return r.setDirection(o),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,t),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||R(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function Eh(n){const e=Y();return n.style&&(e.setFormat(n.style.textAlign),wl(n,e)),{node:e}}function Y(){return Ie(new pr)}function ln(n){return n instanceof pr}const B=0,te=1,qe=3,kf=4;function $f(n,e,t,r){const o=n._keyToDOMMap;o.clear(),n._editorState=gl(),n._pendingEditorState=r,n._compositionKey=null,n._dirtyType=0,n._cloneNotNeeded.clear(),n._dirtyLeaves=new Set,n._dirtyElements.clear(),n._normalizedNodes=new Set,n._updateTags=new Set,n._updates=[],n._blockCursorElement=null;const i=n._observer;i!==null&&(i.disconnect(),n._observer=null),e!==null&&(e.textContent=""),t!==null&&(t.textContent="",o.set("root",t))}function bs(n){const e=new Set,t=new Set;let r=n;for(;r;){const{ownNodeConfig:o}=xi(r),i=r.transform;if(!t.has(i)){t.add(i);const s=r.transform();s&&e.add(s)}if(o){const s=o.$transform;s&&e.add(s),r=o.extends}else{const s=Object.getPrototypeOf(r);r=s.prototype instanceof vt&&s!==vt?s:void 0}}return e}function Af(n){const e=n||{},t=Ch(),r=e.theme||{},o=n===void 0?t:e.parentEditor||null,i=e.disableEvents||!1,s=gl(),l=e.namespace||(o!==null?o._config.namespace:Kf()),a=e.editorState,u=[hr,rt,cr,fr,pr,hl,...e.nodes||[]],{onError:c,html:d}=e,f=e.editable===void 0||e.editable;let h;if(n===void 0&&t!==null)h=t._nodes;else{h=new Map;for(let m=0;m<u.length;m++){let p=u[m],y=null,_=null;if(typeof p!="function"){const x=p;p=x.replace,y=x.with,_=x.withKlass||null}xi(p);const b=p.getType(),S=bs(p);h.set(b,{exportDOM:d&&d.export?d.export.get(p):void 0,klass:p,replace:y,replaceWithKlass:_,sharedNodeState:ns(u[m]),transforms:S})}}const g=new lr(s,o,h,{disableEvents:i,namespace:l,theme:r},c||console.error,(function(m,p){const y=new Map,_=new Set,b=S=>{Object.keys(S).forEach(x=>{let C=y.get(x);C===void 0&&(C=[],y.set(x,C)),C.push(S[x])})};return m.forEach(S=>{const x=S.klass.importDOM;if(x==null||_.has(x))return;_.add(x);const C=x.call(S.klass);C!==null&&b(C)}),p&&b(p),y})(h,d?d.import:void 0),f,n);return a!==void 0&&(g._pendingEditorState=a,g._dirtyType=2),(function(m){m.registerCommand(Zc,nh,B),m.registerCommand(Xc,rh,B),m.registerCommand(Qc,oh,B),m.registerCommand(ef,ih,B),m.registerCommand(tf,sh,B)})(g),g}class lr{static version;_headless;_parentEditor;_rootElement;_editorState;_pendingEditorState;_compositionKey;_deferred;_keyToDOMMap;_updates;_updating;_listeners;_commands;_nodes;_decorators;_pendingDecorators;_config;_dirtyType;_cloneNotNeeded;_dirtyLeaves;_dirtyElements;_normalizedNodes;_updateTags;_observer;_key;_onError;_htmlConversions;_window;_editable;_blockCursorElement;_createEditorArgs;constructor(e,t,r,o,i,s,l,a){this._createEditorArgs=a,this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=o,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Kf(),this._onError=i,this._htmlConversions=s,this._editable=l,this._headless=t!==null&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,r){r===void 0&&M(35);const o=this._commands;o.has(e)||o.set(e,[new Set,new Set,new Set,new Set,new Set]);const i=o.get(e);i===void 0&&M(36,String(e));const s=i[r];return s.add(t),()=>{s.delete(t),i.every(l=>l.size===0)&&o.delete(e)}}registerMutationListener(e,t,r){const o=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,i=this._listeners.mutation;let s=i.get(t);s===void 0&&(s=new Set,i.set(t,s)),s.add(o);const l=r&&r.skipInitialization;return l!==void 0&&l||this.initializeMutationListener(t,o),()=>{s.delete(o),s.size===0&&i.delete(t)}}getRegisteredNode(e){const t=this._nodes.get(e.getType());return t===void 0&&M(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){const r=this._editorState,o=qa(r).get(t.getType());if(!o)return;const i=new Map;for(const s of o.keys())i.set(s,"created");i.size>0&&e(i,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){const r=this.getRegisteredNode(e);return r.transforms.add(t),r}registerNodeTransform(e,t){const r=this.registerNodeTransformToKlass(e,t),o=[r],i=r.replaceWithKlass;if(i!=null){const s=this.registerNodeTransformToKlass(i,t);o.push(s)}return(function(s,l){const a=qa(s.getEditorState()),u=[];for(const c of l){const d=a.get(c);d&&u.push(d)}u.length!==0&&s.update(()=>{for(const c of u)for(const d of c.keys()){const f=G(d);f&&f.markDirty()}},s._pendingEditorState===null?{tag:xn}:void 0)})(this,o.map(s=>s.klass.getType())),()=>{o.forEach(s=>s.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return D(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const r=rr(this._config.theme,"root"),o=this._pendingEditorState||this._editorState;if(this._rootElement=e,$f(this,t,e,o),t!==null&&(this._config.disableEvents||lh(t),r!=null&&t.classList.remove(...r)),e!==null){const i=Cl(e),s=e.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=i,this._dirtyType=2,zc(this),this._updateTags.add(xn),Lt(this),this._config.disableEvents||(function(l,a){const u=l.ownerDocument;ds.set(l,u);const c=Po.get(u)??0;c<1&&u.addEventListener("selectionchange",gf),Po.set(u,c+1),l.__lexicalEditor=a;const d=df(l);for(let f=0;f<fs.length;f++){const[h,g]=fs[f],m=typeof g=="function"?p=>{ba(p)||(ya(p),(a.isEditable()||h==="click")&&g(p,a))}:p=>{if(ba(p))return;ya(p);const y=a.isEditable();switch(h){case"cut":return y&&D(a,Vr,p);case"copy":return D(a,Yr,p);case"paste":return y&&D(a,Jr,p);case"dragstart":return y&&D(a,ll,p);case"dragover":return y&&D(a,al,p);case"dragend":return y&&D(a,Qg,p);case"focus":return y&&D(a,rf,p);case"blur":return y&&D(a,of,p);case"drop":return y&&D(a,fi,p)}};l.addEventListener(h,m),d.push(()=>{l.removeEventListener(h,m)})}})(e,this),r!=null&&e.classList.add(...r)}else this._window=null,this._updateTags.add(xn),Lt(this);Nr("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&M(38);let r=e;r._readOnly&&(r=Tf(e),r._selection=e._selection?e._selection.clone():null),Kc(this);const o=this._pendingEditorState,i=this._updateTags,s=t!==void 0?t.tag:null;o===null||o.isEmpty()||(s!=null&&i.add(s),Lt(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,s!=null&&i.add(s),this._updating||Lt(this)}parseEditorState(e,t){return(function(r,o,i){const s=gl(),l=Ae,a=Ye,u=Fe,c=o._dirtyElements,d=o._dirtyLeaves,f=o._cloneNotNeeded,h=o._dirtyType;o._dirtyElements=new Map,o._dirtyLeaves=new Set,o._cloneNotNeeded=new Set,o._dirtyType=0,Ae=s,Ye=!1,Fe=o,pl(null);try{const g=o._nodes;dl(r.root,g),i&&i(),s._readOnly=!0}catch(g){g instanceof Error&&o._onError(g)}finally{o._dirtyElements=c,o._dirtyLeaves=d,o._cloneNotNeeded=f,o._dirtyType=h,Ae=l,Ye=a,Fe=u}return s})(typeof e=="string"?JSON.parse(e):e,this,t)}read(e){return Lt(this),this.getEditorState().read(e,{editor:this})}update(e,t){(function(r,o,i){r._updating?r._updates.push([o,i]):hi(r,o,i)})(this,e,t)}focus(e,t={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),wt(this,()=>{const o=k(),i=ge();o!==null?o.dirty||fe(o.clone()):i.getChildrenSize()!==0&&(t.defaultSelection==="rootStart"?i.selectStart():i.selectEnd()),Ah("focus"),jf(()=>{r.removeAttribute("autocapitalize"),e&&e()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const t=We(this._window);t!==null&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Nr("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}lr.version="0.40.0+prod.esm";let xs=null;function pl(n){xs=n}let Th=1;function Ff(n,e){const t=mi(n,e);return t===void 0&&M(30,e),t}function mi(n,e){return n._nodes.get(e)}const Nh=typeof queueMicrotask=="function"?queueMicrotask:n=>{Promise.resolve().then(n)};function Of(n){return Z(we(n))}function ml(n){const e=document.activeElement;if(!Q(e))return!1;const t=e.nodeName;return Z(we(n))&&(t==="INPUT"||t==="TEXTAREA"||e.contentEditable==="true"&&yi(e)==null)}function Zr(n,e,t){const r=n.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(t)&&e!==null&&!ml(e)&&_i(e)===n}catch{return!1}}function _l(n){return n instanceof lr}function _i(n){let e=n;for(;e!=null;){const t=yi(e);if(_l(t))return t;e=Xr(e)}return null}function yi(n){return n?n.__lexicalEditor:null}function kh(n){return Pg.test(n)?"rtl":Ig.test(n)?"ltr":null}function Sn(n){return He(n)||n.isToken()}function bt(n){return Sn(n)||n.isSegmented()}function Wt(n){return it(n)&&n.nodeType===3}function Rf(n){return it(n)&&n.nodeType===9}function Fn(n){let e=n;for(;e!=null;){if(Wt(e))return e;e=e.firstChild}return null}function Uo(n,e,t){const r=Gt[e];if(t!==null&&(n&r)===(t&r))return n;let o=n^r;return e==="subscript"?o&=-65:e==="superscript"?o&=-33:e==="lowercase"?(o&=-513,o&=-1025):e==="uppercase"?(o&=-257,o&=-1025):e==="capitalize"&&(o&=-257,o&=-513),o}function Lf(n){return R(n)||de(n)||Z(n)}function Mf(n,e){const t=(function(){const s=xs;return xs=null,s})();if((e=e||t&&t.__key)!=null)return void(n.__key=e);$e(),vf();const r=ue(),o=sn(),i=""+Th++;o._nodeMap.set(i,n),N(n)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=1,n.__key=i}function Cn(n){const e=n.getParent();if(e!==null){const t=n.getWritable(),r=e.getWritable(),o=n.getPreviousSibling(),i=n.getNextSibling(),s=i!==null?i.__key:null,l=o!==null?o.__key:null,a=o!==null?o.getWritable():null,u=i!==null?i.getWritable():null;o===null&&(r.__first=s),i===null&&(r.__last=l),a!==null&&(a.__next=s),u!==null&&(u.__prev=l),t.__prev=null,t.__next=null,t.__parent=null,r.__size--}}function Ho(n){vf(),Do(n)&&M(323,n.__key,n.__type);const e=n.getLatest(),t=e.__parent,r=sn(),o=ue(),i=r._nodeMap,s=o._dirtyElements;t!==null&&(function(a,u,c){let d=a;for(;d!==null;){if(c.has(d))return;const f=u.get(d);if(f===void 0)break;c.set(d,!1),d=f.__parent}})(t,i,s);const l=e.__key;o._dirtyType=1,N(n)?s.set(l,!0):o._dirtyLeaves.add(l)}function Me(n){$e();const e=ue(),t=e._compositionKey;if(n!==t){if(e._compositionKey=n,t!==null){const r=G(t);r!==null&&r.getWritable()}if(n!==null){const r=G(n);r!==null&&r.getWritable()}}}function Ht(){return gr()?null:ue()._compositionKey}function G(n,e){const t=(e||sn())._nodeMap.get(n);return t===void 0?null:t}function Pf(n,e){const t=bi(n,ue());return t!==void 0?G(t,e):null}function bi(n,e){return n[`__lexicalKey_${e._key}`]}function we(n,e){let t=n;for(;t!=null;){const r=Pf(t,e);if(r!==null)return r;t=Xr(t)}return null}function If(n){const e=n._decorators,t=Object.assign({},e);return n._pendingDecorators=t,t}function Ka(n){return n.read(()=>ge().getTextContent())}function ge(){return Df(sn())}function Df(n){return n._nodeMap.get("root")}function fe(n){$e();const e=sn();n!==null&&(n.dirty=!0,n.setCachedNodes(null)),e._selection=n}function Qn(n){const e=ue(),t=(function(r,o){let i=r;for(;i!=null;){const s=bi(i,o);if(s!==void 0)return s;i=Xr(i)}return null})(n,e);return t===null?n===e.getRootElement()?G("root"):null:G(t)}function Bf(n){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(n)}function yl(n){const e=[];let t=n;for(;t!==null;)e.push(t),t=t._parentEditor;return e}function Kf(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function zf(n){return Wt(n)?n.nodeValue:null}function bl(n,e,t){const r=We(lt(e));if(r===null)return;const o=r.anchorNode;let{anchorOffset:i,focusOffset:s}=r;if(o!==null){let l=zf(o);const a=we(o);if(l!==null&&R(a)){if(l===ii&&t){const u=t.length;l=t,i=u,s=u}l!==null&&xl(a,l,i,s,n)}}}function xl(n,e,t,r,o){let i=n;if(i.isAttached()&&(o||!i.isDirty())){const s=i.isComposing();let l=e;(s||o)&&e[e.length-1]===ii&&(l=e.slice(0,-1));const a=i.getTextContent();if(o||l!==a){if(l===""){if(Me(null),Ur||ar||Hr)i.remove();else{const m=ue();setTimeout(()=>{m.update(()=>{i.isAttached()&&i.remove()})},20)}return}const u=i.getParent(),c=kt(),d=i.getTextContentSize(),f=Ht(),h=i.getKey();if(i.isToken()||f!==null&&h===f&&!s||T(c)&&(u!==null&&!u.canInsertTextBefore()&&c.anchor.offset===0||c.anchor.key===n.__key&&c.anchor.offset===0&&!i.canInsertTextBefore()&&!s||c.focus.key===n.__key&&c.focus.offset===d&&!i.canInsertTextAfter()&&!s))return void i.markDirty();const g=k();if(!T(g)||t===null||r===null)return void za(i,l,g);if(g.setTextNodeRange(i,t,i,r),i.isSegmented()){const m=le(i.getTextContent());i.replace(m),i=m}za(i,l,g)}}}function za(n,e,t){if(n.setTextContent(e),T(t)){const r=n.getKey();for(const o of["anchor","focus"]){const i=t[o];i.type==="text"&&i.key===r&&(i.offset=Tt(n,i.offset,"clamp"))}}}function lo(n,e,t){const r=e[t]||!1;return r==="any"||r===n[t]}function $h(n,e){return lo(n,e,"altKey")&&lo(n,e,"ctrlKey")&&lo(n,e,"shiftKey")&&lo(n,e,"metaKey")}function se(n,e,t){return $h(n,t)&&n.key.toLowerCase()===e.toLowerCase()}const Ot={ctrlKey:!at,metaKey:at},Wa={altKey:at,ctrlKey:!at};function Ua(n){return n.key==="Backspace"}function Ha(n){return se(n,"a",Ot)}function Wf(n){const e=ge();if(T(n)){const t=n.anchor,r=n.focus,o=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();return t.set(o.getKey(),0,"element"),r.set(o.getKey(),o.getChildrenSize(),"element"),Zt(n),n}{const t=e.select(0,e.getChildrenSize());return fe(Zt(t)),t}}function rr(n,e){n.__lexicalClassNameCache===void 0&&(n.__lexicalClassNameCache={});const t=n.__lexicalClassNameCache,r=t[e];if(r!==void 0)return r;const o=n[e];if(typeof o=="string"){const i=rn(o);return t[e]=i,i}return o}function Sl(n,e,t,r,o){if(t.size===0)return;const i=r.__type,s=r.__key,l=e.get(i);l===void 0&&M(33,i);const a=l.klass;let u=n.get(a);u===void 0&&(u=new Map,n.set(a,u));const c=u.get(s),d=c==="destroyed"&&o==="created";(c===void 0||d)&&u.set(s,d?"updated":o)}function ja(n,e,t){const r=n.getParent();let o=t,i=n;return r!==null&&(e&&t===0?(o=i.getIndexWithinParent(),i=r):e||t!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(e?o-1:o)}function Ss(n,e){const t=n.offset;if(n.type==="element")return ja(n.getNode(),e,t);{const r=n.getNode();if(e&&t===0||!e&&t===r.getTextContentSize()){const o=e?r.getPreviousSibling():r.getNextSibling();return o===null?ja(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):o}}return null}function Uf(n){const e=lt(n).event,t=e&&e.inputType;return t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function D(n,e,t){return(function(r,o,i){const s=yl(r);for(let l=4;l>=0;l--)for(let a=0;a<s.length;a++){const u=s[a],c=u._commands.get(o);if(c!==void 0){const d=c[l];if(d!==void 0){const f=Array.from(d),h=f.length;let g=!1;if(wt(u,()=>{for(let m=0;m<h;m++)if(f[m](i,r))return void(g=!0)}),g)return g}}}return!1})(n,e,t)}function On(n,e){const t=n._keyToDOMMap.get(e);return t===void 0&&M(75,e),t}function Xr(n){const e=n.assignedSlot||n.parentElement;return ws(e)?e.host:e}function Hf(n){return Rf(n)?n:Q(n)?n.ownerDocument:null}function Ah(n){$e(),ue()._updateTags.add(n)}function jf(n){$e(),ue()._deferred.push(n)}function Cs(n,e){let t=n.getParent();for(;t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function Cl(n){const e=Hf(n);return e?e.defaultView:null}function lt(n){const e=n._window;return e===null&&M(78),e}function Fh(n){return N(n)&&n.isInline()||Z(n)&&n.isInline()}function Oh(n){let e=n.getParentOrThrow();for(;e!==null;){if(Pe(e))return e;e=e.getParentOrThrow()}return e}function Pe(n){return ve(n)||N(n)&&n.isShadowRoot()}function Rh(n){const e=n.constructor.clone(n);return Mf(e,null),e.afterCloneFrom(n),e}function Ie(n){const e=ue(),t=n.getType(),r=mi(e,t);r===void 0&&M(200,n.constructor.name,t);const{replace:o,replaceWithKlass:i}=r;if(o!==null){const s=o(n),l=s.constructor;return i!==null?s instanceof i||M(201,i.name,i.getType(),l.name,l.getType(),n.constructor.name,t):s instanceof n.constructor&&l!==n.constructor||M(202,l.name,l.getType(),n.constructor.name,t),s.__key===n.__key&&M(203,n.constructor.name,t,l.name,l.getType()),s}return n}function Ii(n,e){!ve(n.getParent())||N(e)||Z(e)||M(99)}function Lh(n){const e=G(n);return e===null&&M(63,n),e}function Di(n){return(Z(n)||N(n)&&!n.canBeEmpty())&&!n.isInline()}function vs(n,e,t){t.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=n.parentElement;r!==null&&r.removeChild(n)}function We(n){return _t?(n||window).getSelection():null}function Mh(n){const e=Cl(n);return e?e.getSelection():null}function vl(n){return Q(n)&&n.tagName==="A"}function Q(n){return it(n)&&n.nodeType===1}function it(n){return typeof n=="object"&&n!==null&&"nodeType"in n&&typeof n.nodeType=="number"}function ws(n){return it(n)&&n.nodeType===11}function Es(n){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return n.nodeName.match(e)!==null}function jo(n){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return n.nodeName.match(e)!==null}function ot(n){if(Z(n)&&!n.isInline())return!0;if(!N(n)||Pe(n))return!1;const e=n.getFirstChild(),t=e===null||de(e)||R(e)||e.isInline();return!n.isInline()&&n.canBeEmpty()!==!1&&t}function mr(){return ue()}const Ja=new WeakMap,Ph=new Map;function qa(n){if(!n._readOnly&&n.isEmpty())return Ph;n._readOnly||M(192);let e=Ja.get(n);return e||(e=(function(t){const r=new Map;for(const[o,i]of t._nodeMap){const s=i.__type;let l=r.get(s);l||(l=new Map,r.set(s,l)),l.set(o,i)}return r})(n),Ja.set(n,e)),e}function Jf(n){const e=n.constructor.clone(n);return e.afterCloneFrom(n),e}function Ih(n){return(e=Jf(n))[hf]=!0,e;var e}function wl(n,e){const t=parseInt(n.style.paddingInlineStart,10)||0,r=Math.round(t/40);e.setIndent(r)}function Dh(n){n.__lexicalUnmanaged=!0}function Bh(n){return n.__lexicalUnmanaged===!0}function yr(n,e){return(function(t,r){return Object.prototype.hasOwnProperty.call(t,r)})(n,e)&&n[e]!==vt[e]}function xi(n){const e=ia in n.prototype?n.prototype[ia]():void 0,t=(function(s){if(!(s===vt||s.prototype instanceof vt)){let l="<unknown>",a="<unknown>";try{l=s.getType()}catch{}try{lr.version&&(a=JSON.parse(lr.version))}catch{}M(290,s.name,l,a)}return s===pi||s===ke||s===vt})(n),r=!t&&yr(n,"getType")?n.getType():void 0;let o,i=r;if(e)if(r)o=e[r];else for(const[s,l]of Object.entries(e))i=s,o=l;if(!t&&i&&(yr(n,"getType")||(n.getType=()=>i),yr(n,"clone")||(n.clone=s=>(pl(s),new n)),yr(n,"importJSON")||(n.importJSON=o&&o.$importJSON||(s=>new n().updateFromJSON(s))),!yr(n,"importDOM")&&o)){const{importDOM:s}=o;s&&(n.importDOM=()=>s)}return{ownNodeConfig:o,ownNodeType:i}}function qf(n){const e=mr();return $e(),new(e.resolveRegisteredNodeAfterReplacements(e.getRegisteredNode(n))).klass}const H=(n,e)=>{let t=n;for(;t!=null&&!ve(t);){if(e(t))return t;t=t.getParent()}return null},Kh={next:"previous",previous:"next"};class El{origin;constructor(e){this.origin=e}[Symbol.iterator](){return kl({hasNext:tn,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return be(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return be(this.origin,this.direction)}remove(){const e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){const r=this.getNodeAtCaret();return e.is(this.origin)||e.is(r)||(r===null?this.insert(e):r.replace(e,t)),this}splice(e,t,r="next"){const o=r===this.direction?t:Array.from(t).reverse();let i=this;const s=this.getParentAtCaret(),l=new Map;for(let a=i.getAdjacentCaret();a!==null&&l.size<e;a=a.getAdjacentCaret()){const u=a.origin.getWritable();l.set(u.getKey(),u)}for(const a of o){if(l.size>0){const u=i.getNodeAtCaret();if(u){if(l.delete(u.getKey()),l.delete(a.getKey()),!(u.is(a)||i.origin.is(a))){const c=a.getParent();c&&c.is(s)&&a.remove(),u.replace(a)}}else u===null&&M(263,Array.from(l).join(" "))}else i.insert(a);i=be(a,this.direction)}for(const a of l.values())a.remove();return this}}class Ir extends El{type="child";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:je(e,this.direction)}getParentCaret(e="root"){return be(Tl(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Bn(this.direction);return be(this.getNodeAtCaret(),e)||je(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof Ir&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}const zh={root:ve,shadowRoot:Pe};function Bn(n){return Kh[n]}function Tl(n,e="root"){return zh[e](n)?null:n}class Rn extends El{type="sibling";getLatest(){const e=this.origin.getLatest();return e===this.origin?this:be(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return N(this.origin)?je(this.origin,this.direction):null}getParentCaret(e="root"){return be(Tl(this.getParentAtCaret(),e),this.direction)}getFlipped(){const e=Bn(this.direction);return be(this.getNodeAtCaret(),e)||je(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof Rn&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof Rn||e instanceof Ln)&&this.direction===e.direction&&this.origin.is(e.origin)}}class Ln extends El{type="text";offset;constructor(e,t){super(e),this.offset=t}getLatest(){const e=this.origin.getLatest();return e===this.origin?this:nn(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return be(Tl(this.getParentAtCaret(),e),this.direction)}getFlipped(){return nn(this.origin,Bn(this.direction),this.offset)}isSamePointCaret(e){return e instanceof Ln&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof Rn||e instanceof Ln)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return be(this.origin,this.direction)}}function Et(n){return n instanceof Ln}function tn(n){return n instanceof Rn}function Ve(n){return n instanceof Ir}const Wh={next:class extends Ln{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(n){return this.origin.insertAfter(n),this}},previous:class extends Ln{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(n){return this.origin.insertBefore(n),this}}},Uh={next:class extends Rn{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(n){return this.origin.insertAfter(n),this}},previous:class extends Rn{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(n){return this.origin.insertBefore(n),this}}},Hh={next:class extends Ir{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(n){return this.origin.splice(0,0,[n]),this}},previous:class extends Ir{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(n){return this.origin.splice(this.origin.getChildrenSize(),0,[n]),this}}};function be(n,e){return n?new Uh[e](n):null}function nn(n,e,t){return n?new Wh[e](n,Tt(n,t)):null}function Tt(n,e,t="error"){const r=n.getTextContentSize();let o=e==="next"?r:e==="previous"?0:e;return(o<0||o>r)&&(t!=="clamp"&&Rc(284,String(e),String(r),n.getKey()),o=o<0?0:r),o}function Ya(n,e){return new Jh(n,e)}function je(n,e){return N(n)?new Hh[e](n):null}function jh(n){return n&&n.getChildCaret()||n}function Qr(n){return n&&jh(n.getAdjacentCaret())}class Nl{type="node-caret-range";direction;anchor;focus;constructor(e,t,r){this.anchor=e,this.focus=t,this.direction=r}getLatest(){const e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new Nl(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const e=o=>{const i=this[o].getLatest();return Et(i)?(function(s,l){const{direction:a,origin:u}=s,c=Tt(u,l==="focus"?Bn(a):a);return Ya(s,c-s.offset)})(i,o):null},t=e("anchor"),r=e("focus");if(t&&r){const{caret:o}=t,{caret:i}=r;if(o.isSameNodeCaret(i))return[Ya(o,i.offset-o.offset),null]}return[t,r]}iterNodeCarets(e="root"){const t=Et(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),o=Et(r),i=s=>s.isSameNodeCaret(r)?null:Qr(s)||s.getParentCaret(e);return kl({hasNext:s=>s!==null&&!(o&&r.isSameNodeCaret(s)),initial:t.isSameNodeCaret(r)?null:i(t),map:s=>s,step:i})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class Jh{type="slice";caret;distance;constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){const{distance:e,caret:{offset:t}}=this,r=t+e;return r<t?[r,t]:[t,r]}getTextContent(){const[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:e,direction:t}}=this,[r,o]=this.getSliceIndices(),i=e.getTextContent();return nn(e.setTextContent(i.slice(0,r)+i.slice(o)),t,r)}}function Dr(n){return Kt(n,be(ge(),n.direction))}function Yf(n){return Kt(n,n)}function Kt(n,e){return n.direction!==e.direction&&M(265),new Nl(n,e,n.direction)}function kl(n){const{initial:e,hasNext:t,step:r,map:o}=n;let i=e;return{[Symbol.iterator](){return this},next(){if(!t(i))return{done:!0,value:void 0};const s={done:!1,value:o(i)};return i=r(i),s}}}function Vf(n,e){const t=vo(n.origin,e.origin);switch(t===null&&M(275,n.origin.getKey(),e.origin.getKey()),t.type){case"same":{const r=n.type==="text",o=e.type==="text";return r&&o?(function(i,s){return Math.sign(i-s)})(n.offset,e.offset):n.type===e.type?0:r?-1:o?1:n.type==="child"?-1:1}case"ancestor":return n.type==="child"?-1:1;case"descendant":return e.type==="child"?1:-1;case"branch":return Gf(t)}}function Gf(n){const{a:e,b:t}=n,r=e.__key,o=t.__key;let i=e,s=t;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===o)return-1;if(s.__key===r)return 1}return i===null?1:-1}function ao(n,e){return e.is(n)}function Va(n){return N(n)?[n.getLatest(),null]:[n.getParent(),n.getLatest()]}function vo(n,e){if(n.is(e))return{commonAncestor:n,type:"same"};const t=new Map;for(let[r,o]=Va(n);r;o=r,r=r.getParent())t.set(r,o);for(let[r,o]=Va(e);r;o=r,r=r.getParent()){const i=t.get(r);if(i!==void 0)return i===null?(ao(n,r)||M(276),{commonAncestor:r,type:"ancestor"}):o===null?(ao(e,r)||M(277),{commonAncestor:r,type:"descendant"}):((N(i)||ao(n,i))&&(N(o)||ao(e,o))&&r.is(i.getParent())&&r.is(o.getParent())||M(278),{a:i,b:o,commonAncestor:r,type:"branch"})}return null}function mt(n,e){const{type:t,key:r,offset:o}=n,i=Lh(n.key);return t==="text"?(R(i)||M(266,i.getType(),r),nn(i,e,o)):(N(i)||M(267,i.getType(),r),Yh(i,n.offset,e))}function ut(n,e){const{origin:t,direction:r}=e,o=r==="next";Et(e)?n.set(t.getKey(),e.offset,"text"):tn(e)?R(t)?n.set(t.getKey(),Tt(t,r),"text"):n.set(t.getParentOrThrow().getKey(),t.getIndexWithinParent()+(o?1:0),"element"):(Ve(e)&&N(t)||M(268),n.set(t.getKey(),o?0:t.getChildrenSize(),"element"))}function $l(n){const e=k(),t=T(e)?e:dr();return wo(t,n),fe(t),t}function wo(n,e){ut(n.anchor,e.anchor),ut(n.focus,e.focus)}function Ts(n){const{anchor:e,focus:t}=n,r=mt(e,"next"),o=mt(t,"next"),i=Vf(r,o)<=0?"next":"previous";return Kt(zt(r,i),zt(o,i))}function eo(n){const{direction:e,origin:t}=n,r=be(t,Bn(e)).getNodeAtCaret();return r?be(r,e):je(t.getParentOrThrow(),e)}function Ga(n,e="root"){const t=[n];for(let r=Ve(n)?n.getParentCaret(e):n.getSiblingCaret();r!==null;r=r.getParentCaret(e))t.push(eo(r));return t}function Bi(n){return!!n&&n.origin.isAttached()}function qh(n,e="removeEmptySlices"){if(n.isCollapsed())return n;const t="root",r="next";let o=e;const i=Fl(n,r),s=Ga(i.anchor,t),l=Ga(i.focus.getFlipped(),t),a=new Set,u=[];for(const g of i.iterNodeCarets(t))if(Ve(g))a.add(g.origin.getKey());else if(tn(g)){const{origin:m}=g;N(m)&&!a.has(m.getKey())||u.push(m)}for(const g of u)g.remove();for(const g of i.getTextSlices()){if(!g)continue;const{origin:m}=g.caret,p=m.getTextContentSize(),y=eo(be(m,r)),_=m.getMode();if(Math.abs(g.distance)===p&&o==="removeEmptySlices"||_==="token"&&g.distance!==0)y.remove();else if(g.distance!==0){o="removeEmptySlices";let b=g.removeTextSlice();const S=g.caret.origin;if(_==="segmented"){const x=b.origin,C=le(x.getTextContent()).setStyle(x.getStyle()).setFormat(x.getFormat());y.replaceOrInsert(C),b=nn(C,r,b.offset)}S.is(s[0].origin)&&(s[0]=b),S.is(l[0].origin)&&(l[0]=b.getFlipped())}}let c,d;for(const g of s)if(Bi(g)){c=Be(g);break}for(const g of l)if(Bi(g)){d=Be(g);break}const f=(function(g,m,p){if(!g||!m)return null;const y=g.getParentAtCaret(),_=m.getParentAtCaret();if(!y||!_)return null;const b=y.getParents().reverse();b.push(y);const S=_.getParents().reverse();S.push(_);const x=Math.min(b.length,S.length);let C;for(C=0;C<x&&b[C]===S[C];C++);const v=($,A)=>{let O;for(let L=C;L<$.length;L++){const P=$[L];if(Pe(P))return;!O&&A(P)&&(O=P)}return O},E=v(b,ot),w=E&&v(S,$=>p.has($.getKey())&&ot($));return E&&w?[E,w]:null})(c,d,a);if(f){const[g,m]=f;je(g,"previous").splice(0,m.getChildren()),m.remove()}const h=[c,d,...s,...l].find(Bi);if(h)return Yf(zt(Be(h),n.direction));M(269,JSON.stringify(s.map(g=>g.origin.__key)))}function Be(n){const e=(function(o){let i=o;for(;Ve(i);){const s=Qr(i);if(!Ve(s))break;i=s}return i})(n.getLatest()),{direction:t}=e;if(R(e.origin))return Et(e)?e:nn(e.origin,t,t);const r=e.getAdjacentCaret();return tn(r)&&R(r.origin)?nn(r.origin,t,Bn(t)):e}function Al(n){return Et(n)&&n.offset!==Tt(n.origin,n.direction)}function zt(n,e){return n.direction===e?n:n.getFlipped()}function Fl(n,e){return n.direction===e?n:Kt(zt(n.focus,e),zt(n.anchor,e))}function Yh(n,e,t){let r=je(n,"next");for(let o=0;o<e;o++){const i=r.getAdjacentCaret();if(i===null)break;r=i}return zt(r,t)}function Vh(n){const{origin:e,offset:t,direction:r}=n;if(t===Tt(e,r))return n.getSiblingCaret();if(t===Tt(e,Bn(r)))return eo(n.getSiblingCaret());const[o]=e.splitText(t);return R(o)||M(281),zt(be(o,"next"),r)}function Gh(n,e){return!0}function Zh(n,{$copyElementNode:e=Rh,$splitTextPointCaretNext:t=Vh,rootMode:r="shadowRoot",$shouldSplit:o=Gh}={}){if(Et(n))return t(n);const i=n.getParentCaret(r);if(i){const{origin:s}=i;if(Ve(n)&&(!s.canBeEmpty()||!o(s,"first")))return eo(i);const l=(function(a){const u=[];for(let c=a.getAdjacentCaret();c;c=c.getAdjacentCaret())u.push(c.origin);return u})(n);(l.length>0||s.canBeEmpty()&&o(s,"last"))&&i.insert(e(s).splice(0,0,l))}return i}function Xh(...n){return n}function Qh(n,e){if(!e||n===e)return n;for(const t in e)if(n[t]!==e[t])return{...n,...e};return n}function rn(...n){const e=[];for(const t of n)if(t&&typeof t=="string")for(const[r]of t.matchAll(/\S+/g))e.push(r);return e}function he(n,...e){const t=rn(...e);t.length>0&&n.classList.add(...t)}function ht(n,...e){const t=rn(...e);t.length>0&&n.classList.remove(...t)}function ae(...n){return()=>{for(let e=n.length-1;e>=0;e--)n[e]();n.length=0}}function Zf(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Jo=new Map;function ep(n,e){const t=n.getRootElement();if(t===null)return[];const r=t.getBoundingClientRect(),o=getComputedStyle(t),i=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),s=Array.from(e.getClientRects());let l,a=s.length;s.sort((u,c)=>{const d=u.top-c.top;return Math.abs(d)<=3?u.left-c.left:d});for(let u=0;u<a;u++){const c=s[u],d=l&&l.top<=c.top&&l.top+l.height>c.top&&l.left+l.width>c.left,f=c.width+i===r.width;d||f?(s.splice(u--,1),a--):l=c}return s}function Xf(n){const e={};if(!n)return e;const t=n.split(";");for(const r of t)if(r!==""){const[o,i]=r.split(/:([^]+)/);o&&i&&(e[o.trim()]=i.trim())}return e}function Br(n){let e=Jo.get(n);return e===void 0&&(e=Xf(n),Jo.set(n,e)),e}function tp(n){let e="";for(const t in n)t&&(e+=`${t}: ${n[t]};`);return e}function Qf(n){const e=mr().getElementByKey(n.getKey());if(e===null)return null;const t=e.ownerDocument.defaultView;return t===null?null:t.getComputedStyle(e)}function ed(n){return Qf(ve(n)?n:n.getParentOrThrow())}function Za(n){const e=ed(n);return e!==null&&e.direction==="rtl"}function td(n,e,t="self"){const r=n.getStartEndPoints();if(e.isSelected(n)&&!bt(e)&&r!==null){const[o,i]=r,s=n.isBackward(),l=o.getNode(),a=i.getNode(),u=e.is(l),c=e.is(a);if(u||c){const[d,f]=ys(n),h=l.is(a),g=e.is(s?a:l),m=e.is(s?l:a);let p,y=0;h?(y=d>f?f:d,p=d>f?d:f):g?(y=s?f:d,p=void 0):m&&(y=0,p=s?d:f);const _=e.__text.slice(y,p);_!==e.__text&&(t==="clone"&&(e=Ih(e)),e.__text=_)}}return e}function Qy(n){if(n.type==="text")return n.offset===n.getNode().getTextContentSize();const e=n.getNode();return N(e)||Zf(177),n.offset===e.getChildrenSize()}function np(n){const e=n.getStyle(),t=Xf(e);Jo.set(e,t)}function uo(n,e){(T(n)?n.isCollapsed():R(n)||N(n))||Zf(280);const t=Br(T(n)?n.style:R(n)?n.getStyle():n.getTextStyle()),r=Object.entries(e).reduce((i,[s,l])=>(typeof l=="function"?i[s]=l(t[s],n):l===null?delete i[s]:i[s]=l,i),{...t}),o=tp(r);T(n)||R(n)?n.setStyle(o):n.setTextStyle(o),Jo.set(o,r)}function eb(n,e){if(T(n)&&n.isCollapsed()){uo(n,e);const r=n.anchor.getNode();N(r)&&r.isEmpty()&&uo(r,e)}rp(r=>{uo(r,e)});const t=n.getNodes();if(t.length>0){const r=new Set;for(const o of t){if(!N(o)||!o.canBeEmpty()||o.getChildrenSize()!==0)continue;const i=o.getKey();r.has(i)||(r.add(i),uo(o,e))}}}function rp(n){const e=k();if(!e)return;const t=new Map,r=i=>t.get(i.getKey())||[0,i.getTextContentSize()];if(T(e))for(const i of Ts(e).getTextSlices())i&&t.set(i.caret.origin.getKey(),i.getSliceIndices());const o=e.getNodes();for(const i of o){if(!R(i)||!i.canHaveFormat())continue;const[s,l]=r(i);l!==s&&(bt(i)||s===0&&l===i.getTextContentSize()?n(i):n(i.splitText(s,l)[s===0?0:1]))}T(e)&&e.anchor.type==="text"&&e.focus.type==="text"&&e.anchor.key===e.focus.key&&op(e)}function op(n){if(n.isBackward()){const{anchor:e,focus:t}=n,{key:r,offset:o,type:i}=e;e.set(t.key,t.offset,t.type),t.set(r,o,i)}}function ip(n,e){const t=n.getFormatType(),r=n.getIndent();t!==e.getFormatType()&&e.setFormat(t),r!==e.getIndent()&&e.setIndent(r)}function tb(n,e,t=ip){if(n===null)return;const r=n.getStartEndPoints(),o=new Map;let i=null;if(r){const[s,l]=r;i=dr(),i.anchor.set(s.key,s.offset,s.type),i.focus.set(l.key,l.offset,l.type);const a=H(s.getNode(),ot),u=H(l.getNode(),ot);N(a)&&o.set(a.getKey(),a),N(u)&&o.set(u.getKey(),u)}for(const s of n.getNodes())if(N(s)&&ot(s))o.set(s.getKey(),s);else if(r===null){const l=H(s,ot);N(l)&&o.set(l.getKey(),l)}for(const[s,l]of o){const a=e();t(l,a),l.replace(a,!0),i&&(s===i.anchor.key&&i.anchor.set(a.getKey(),i.anchor.offset,i.anchor.type),s===i.focus.key&&i.focus.set(a.getKey(),i.focus.offset,i.focus.type))}i&&n.is(k())&&fe(i)}function nd(n){const e=rd(n);return e!==null&&e.writingMode==="vertical-rl"}function rd(n){const e=n.anchor.getNode();return N(e)?Qf(e):ed(e)}function qo(n,e){let t=nd(n)?!e:e;od(n)&&(t=!t);const r=mt(n.focus,t?"previous":"next");if(Al(r))return!1;for(const o of Dr(r)){if(Ve(o))return!o.origin.isInline();if(!N(o.origin)){if(Z(o.origin))return!0;break}}return!1}function sp(n,e,t,r){n.modify(e?"extend":"move",t,r)}function od(n){const e=rd(n);return e!==null&&e.direction==="rtl"}function Yo(n,e,t){const r=od(n);let o;o=nd(n)||r?!t:t,sp(n,e,o,"character")}function lp(n,e,t){const r=Br(n.getStyle());return r!==null&&r[e]||t}function nb(n,e,t=""){let r=null;const o=n.getNodes(),i=n.anchor,s=n.focus,l=n.isBackward(),a=l?s.offset:i.offset,u=l?s.getNode():i.getNode();if(T(n)&&n.isCollapsed()&&n.style!==""){const c=Br(n.style);if(c!==null&&e in c)return c[e]}for(let c=0;c<o.length;c++){const d=o[c];if((c===0||a!==0||!d.is(u))&&R(d)){const f=lp(d,e,t);if(r===null)r=f;else if(r!==f){r="";break}}}return r===null?t:r}function Vo(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const to=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ap=to&&"documentMode"in document?document.documentMode:null,up=to&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!to||!("InputEvent"in window)||ap)&&"getTargetRanges"in new window.InputEvent("input");const cp=to&&/^(?=.*Chrome).*/i.test(navigator.userAgent);function xt(n){return`${n}px`}const fp={attributes:!0,characterData:!0,childList:!0,subtree:!0};function dp(n,e,t){let r=null,o=null,i=null,s=[];const l=document.createElement("div");function a(){r===null&&Vo(182),o===null&&Vo(183);const{left:d,top:f}=o.getBoundingClientRect(),h=ep(n,e);var g,m;l.isConnected||(m=l,(g=o).insertBefore(m,g.firstChild));let p=!1;for(let y=0;y<h.length;y++){const _=h[y],b=s[y]||document.createElement("div"),S=b.style;S.position!=="absolute"&&(S.position="absolute",p=!0);const x=xt(_.left-d);S.left!==x&&(S.left=x,p=!0);const C=xt(_.top-f);S.top!==C&&(b.style.top=C,p=!0);const v=xt(_.width);S.width!==v&&(b.style.width=v,p=!0);const E=xt(_.height);S.height!==E&&(b.style.height=E,p=!0),b.parentNode!==l&&(l.append(b),p=!0),s[y]=b}for(;s.length>h.length;)s.pop();p&&t(s)}function u(){o=null,r=null,i!==null&&i.disconnect(),i=null,l.remove();for(const d of s)d.remove();s=[]}l.style.position="relative";const c=n.registerRootListener(function d(){const f=n.getRootElement();if(f===null)return u();const h=f.parentElement;if(!Q(h))return u();u(),r=f,o=h,i=new MutationObserver(g=>{const m=n.getRootElement(),p=m&&m.parentElement;if(m!==r||p!==o)return d();for(const y of g)if(!l.contains(y.target))return a()}),i.observe(h,fp),a()});return()=>{c(),u()}}function Xa(n,e,t){if(n.type!=="text"&&N(e)){const r=e.getDOMSlot(t);return[r.element,r.getFirstChildOffset()+n.offset]}return[Fn(t)||t,n.offset]}function gp(n,e){let t=null,r=null,o=null,i=null,s=null,l=null,a=()=>{};function u(c){c.read(()=>{const d=k();if(!T(d))return t=null,o=null,i=null,l=null,a(),void(a=()=>{});const[f,h]=(function(E){const w=E.getStartEndPoints();return E.isBackward()?[w[1],w[0]]:w})(d),g=f.getNode(),m=g.getKey(),p=f.offset,y=h.getNode(),_=y.getKey(),b=h.offset,S=n.getElementByKey(m),x=n.getElementByKey(_),C=t===null||S!==r||p!==o||m!==t.getKey(),v=i===null||x!==s||b!==l||_!==i.getKey();if((C||v)&&S!==null&&x!==null){const E=(function(w,$,A,O,L,P,I){const q=(w._window?w._window.document:document).createRange();return q.setStart(...Xa($,A,O)),q.setEnd(...Xa(L,P,I)),q})(n,f,g,S,h,y,x);a(),a=dp(n,E,w=>{if(e===void 0)for(const $ of w){const A=$.style;A.background!=="Highlight"&&(A.background="Highlight"),A.color!=="HighlightText"&&(A.color="HighlightText"),A.marginTop!==xt(-1.5)&&(A.marginTop=xt(-1.5)),A.paddingTop!==xt(4)&&(A.paddingTop=xt(4)),A.paddingBottom!==xt(0)&&(A.paddingBottom=xt(0))}else e(w)})}t=g,r=S,o=p,i=y,s=x,l=b})}return u(n.getEditorState()),ae(n.registerUpdateListener(({editorState:c})=>u(c)),()=>{a()})}function hp(n,e){let t=null;const r=()=>{const o=getSelection(),i=o&&o.anchorNode,s=n.getRootElement();i!==null&&s!==null&&s.contains(i)?t!==null&&(t(),t=null):t===null&&(t=gp(n,e))};return document.addEventListener("selectionchange",r),()=>{t!==null&&t(),document.removeEventListener("selectionchange",r)}}const pp=to,rb=cp,mp=up;function _p(n,e){for(const t of e)if(n.type.startsWith(t))return!0;return!1}function ob(n,e){const t=n[Symbol.iterator]();return new Promise((r,o)=>{const i=[],s=()=>{const{done:l,value:a}=t.next();if(l)return r(i);const u=new FileReader;u.addEventListener("error",o),u.addEventListener("load",()=>{const c=u.result;typeof c=="string"&&i.push({file:a,result:c}),s()}),_p(a,e)?u.readAsDataURL(a):s()};s()})}function yp(n){return n?n.getAdjacentCaret():null}function bp(n,e){let t=n;for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null}function Go(n){const e=H(n,t=>N(t)&&!t.isInline());return N(e)||Vo(4,n.__key),e}function id(n){const e=k()||kt();let t;if(T(e))t=mt(e.focus,"next");else{if(e!=null){const s=e.getNodes(),l=s[s.length-1];l&&(t=be(l,"next"))}t=t||je(ge(),"previous").getFlipped().insert(Y())}const r=xp(n,t),o=Qr(r),i=Ve(o)?Be(o):r;return $l(Yf(i)),n.getLatest()}function xp(n,e,t){let r=zt(e,"next");for(let o=r;o;o=Zh(o,t))r=o;return Et(r)&&Vo(283),r.insert(n.isInline()?Y().append(n):n),zt(be(n.getLatest(),"next"),e.direction)}function ib(n,e){const t=e();return n.replace(t),t.append(n),t}function ct(n,e){return n!==null&&Object.getPrototypeOf(n).constructor.name===e.name}function Sp(n,e){je(n,"next").insert(e)}let Ki=!(mp||!pp)&&void 0;function vn(n,e=!1){let t=1;if((function(){if(Ki===void 0){const r=document.createElement("div");r.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(r);const o=r.getBoundingClientRect();r.style.setProperty("zoom","2"),Ki=r.getBoundingClientRect().width===o.width,document.body.removeChild(r)}return Ki})()||e)for(;n;)t*=Number(window.getComputedStyle(n).getPropertyValue("zoom")),n=n.parentElement;return t}function sb(n){return n._parentEditor!==null}function sd(n,e){return ld(n,e,null)}function ld(n,e,t){let r=!1;for(const o of ud(n))e(o)?t!==null&&t(o):(r=!0,N(o)&&ld(o,e,t||(i=>o.insertAfter(i))),o.remove());return r}function ad(n,e){const t=[],r=Array.from(n).reverse();for(let o=r.pop();o!==void 0;o=r.pop())if(e(o))t.push(o);else if(N(o))for(const i of ud(o))r.push(i);return t}function ud(n){return Cp(je(n,"previous"))}function Cp(n){return kl({hasNext:tn,initial:n.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}var zi={exports:{}},Qa;function vp(){return Qa||(Qa=1,(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var t=(function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},l={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function _(b){return b instanceof a?new a(b.type,_(b.content),b.alias):Array.isArray(b)?b.map(_):b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(_){return Object.prototype.toString.call(_).slice(8,-1)},objId:function(_){return _.__id||Object.defineProperty(_,"__id",{value:++i}),_.__id},clone:function _(b,S){S=S||{};var x,C;switch(l.util.type(b)){case"Object":if(C=l.util.objId(b),S[C])return S[C];x={},S[C]=x;for(var v in b)b.hasOwnProperty(v)&&(x[v]=_(b[v],S));return x;case"Array":return C=l.util.objId(b),S[C]?S[C]:(x=[],S[C]=x,b.forEach(function(E,w){x[w]=_(E,S)}),x);default:return b}},getLanguage:function(_){for(;_;){var b=o.exec(_.className);if(b)return b[1].toLowerCase();_=_.parentElement}return"none"},setLanguage:function(_,b){_.className=_.className.replace(RegExp(o,"gi"),""),_.classList.add("language-"+b)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(x){var _=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(x.stack)||[])[1];if(_){var b=document.getElementsByTagName("script");for(var S in b)if(b[S].src==_)return b[S]}return null}},isActive:function(_,b,S){for(var x="no-"+b;_;){var C=_.classList;if(C.contains(b))return!0;if(C.contains(x))return!1;_=_.parentElement}return!!S}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(_,b){var S=l.util.clone(l.languages[_]);for(var x in b)S[x]=b[x];return S},insertBefore:function(_,b,S,x){x=x||l.languages;var C=x[_],v={};for(var E in C)if(C.hasOwnProperty(E)){if(E==b)for(var w in S)S.hasOwnProperty(w)&&(v[w]=S[w]);S.hasOwnProperty(E)||(v[E]=C[E])}var $=x[_];return x[_]=v,l.languages.DFS(l.languages,function(A,O){O===$&&A!=_&&(this[A]=v)}),v},DFS:function _(b,S,x,C){C=C||{};var v=l.util.objId;for(var E in b)if(b.hasOwnProperty(E)){S.call(b,E,b[E],x||E);var w=b[E],$=l.util.type(w);$==="Object"&&!C[v(w)]?(C[v(w)]=!0,_(w,S,null,C)):$==="Array"&&!C[v(w)]&&(C[v(w)]=!0,_(w,S,E,C))}}},plugins:{},highlightAll:function(_,b){l.highlightAllUnder(document,_,b)},highlightAllUnder:function(_,b,S){var x={callback:S,container:_,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",x),x.elements=Array.prototype.slice.apply(x.container.querySelectorAll(x.selector)),l.hooks.run("before-all-elements-highlight",x);for(var C=0,v;v=x.elements[C++];)l.highlightElement(v,b===!0,x.callback)},highlightElement:function(_,b,S){var x=l.util.getLanguage(_),C=l.languages[x];l.util.setLanguage(_,x);var v=_.parentElement;v&&v.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(v,x);var E=_.textContent,w={element:_,language:x,grammar:C,code:E};function $(O){w.highlightedCode=O,l.hooks.run("before-insert",w),w.element.innerHTML=w.highlightedCode,l.hooks.run("after-highlight",w),l.hooks.run("complete",w),S&&S.call(w.element)}if(l.hooks.run("before-sanity-check",w),v=w.element.parentElement,v&&v.nodeName.toLowerCase()==="pre"&&!v.hasAttribute("tabindex")&&v.setAttribute("tabindex","0"),!w.code){l.hooks.run("complete",w),S&&S.call(w.element);return}if(l.hooks.run("before-highlight",w),!w.grammar){$(l.util.encode(w.code));return}if(b&&r.Worker){var A=new Worker(l.filename);A.onmessage=function(O){$(O.data)},A.postMessage(JSON.stringify({language:w.language,code:w.code,immediateClose:!0}))}else $(l.highlight(w.code,w.grammar,w.language))},highlight:function(_,b,S){var x={code:_,grammar:b,language:S};if(l.hooks.run("before-tokenize",x),!x.grammar)throw new Error('The language "'+x.language+'" has no grammar.');return x.tokens=l.tokenize(x.code,x.grammar),l.hooks.run("after-tokenize",x),a.stringify(l.util.encode(x.tokens),x.language)},tokenize:function(_,b){var S=b.rest;if(S){for(var x in S)b[x]=S[x];delete b.rest}var C=new d;return f(C,C.head,_),c(_,C,b,C.head,0),g(C)},hooks:{all:{},add:function(_,b){var S=l.hooks.all;S[_]=S[_]||[],S[_].push(b)},run:function(_,b){var S=l.hooks.all[_];if(!(!S||!S.length))for(var x=0,C;C=S[x++];)C(b)}},Token:a};r.Prism=l;function a(_,b,S,x){this.type=_,this.content=b,this.alias=S,this.length=(x||"").length|0}a.stringify=function _(b,S){if(typeof b=="string")return b;if(Array.isArray(b)){var x="";return b.forEach(function($){x+=_($,S)}),x}var C={type:b.type,content:_(b.content,S),tag:"span",classes:["token",b.type],attributes:{},language:S},v=b.alias;v&&(Array.isArray(v)?Array.prototype.push.apply(C.classes,v):C.classes.push(v)),l.hooks.run("wrap",C);var E="";for(var w in C.attributes)E+=" "+w+'="'+(C.attributes[w]||"").replace(/"/g,"&quot;")+'"';return"<"+C.tag+' class="'+C.classes.join(" ")+'"'+E+">"+C.content+"</"+C.tag+">"};function u(_,b,S,x){_.lastIndex=b;var C=_.exec(S);if(C&&x&&C[1]){var v=C[1].length;C.index+=v,C[0]=C[0].slice(v)}return C}function c(_,b,S,x,C,v){for(var E in S)if(!(!S.hasOwnProperty(E)||!S[E])){var w=S[E];w=Array.isArray(w)?w:[w];for(var $=0;$<w.length;++$){if(v&&v.cause==E+","+$)return;var A=w[$],O=A.inside,L=!!A.lookbehind,P=!!A.greedy,I=A.alias;if(P&&!A.pattern.global){var q=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,q+"g")}for(var re=A.pattern||A,J=x.next,X=C;J!==b.tail&&!(v&&X>=v.reach);X+=J.value.length,J=J.next){var xe=J.value;if(b.length>_.length)return;if(!(xe instanceof a)){var Ee=1,U;if(P){if(U=u(re,X,_,L),!U||U.index>=_.length)break;var Le=U.index,_e=U.index+U[0].length,me=X;for(me+=J.value.length;Le>=me;)J=J.next,me+=J.value.length;if(me-=J.value.length,X=me,J.value instanceof a)continue;for(var Ze=J;Ze!==b.tail&&(me<_e||typeof Ze.value=="string");Ze=Ze.next)Ee++,me+=Ze.value.length;Ee--,xe=_.slice(X,me),U.index-=X}else if(U=u(re,0,xe,L),!U)continue;var Le=U.index,Je=U[0],Xe=xe.slice(0,Le),$t=xe.slice(Le+Je.length),De=X+xe.length;v&&De>v.reach&&(v.reach=De);var Un=J.prev;Xe&&(Un=f(b,Un,Xe),X+=Xe.length),h(b,Un,Ee);var Ni=new a(E,O?l.tokenize(Je,O):Je,I,Je);if(J=f(b,Un,Ni),$t&&f(b,J,$t),Ee>1){var cn={cause:E+","+$,reach:De};c(_,b,S,J.prev,X,cn),v&&cn.reach>v.reach&&(v.reach=cn.reach)}}}}}}function d(){var _={value:null,prev:null,next:null},b={value:null,prev:_,next:null};_.next=b,this.head=_,this.tail=b,this.length=0}function f(_,b,S){var x=b.next,C={value:S,prev:b,next:x};return b.next=C,x.prev=C,_.length++,C}function h(_,b,S){for(var x=b.next,C=0;C<S&&x!==_.tail;C++)x=x.next;b.next=x,x.prev=b,_.length-=C}function g(_){for(var b=[],S=_.head.next;S!==_.tail;)b.push(S.value),S=S.next;return b}if(!r.document)return r.addEventListener&&(l.disableWorkerMessageHandler||r.addEventListener("message",function(_){var b=JSON.parse(_.data),S=b.language,x=b.code,C=b.immediateClose;r.postMessage(l.highlight(x,l.languages[S],S)),C&&r.close()},!1)),l;var m=l.util.currentScript();m&&(l.filename=m.src,m.hasAttribute("data-manual")&&(l.manual=!0));function p(){l.manual||l.highlightAll()}if(!l.manual){var y=document.readyState;y==="loading"||y==="interactive"&&m&&m.defer?document.addEventListener("DOMContentLoaded",p):window.requestAnimationFrame?window.requestAnimationFrame(p):window.setTimeout(p,16)}return l})(e);n.exports&&(n.exports=t),typeof na<"u"&&(na.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(o,i){var s={};s["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[i]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};l["language-"+i]={pattern:/[\s\S]+/,inside:t.languages[i]};var a={};a[o]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return o}),"i"),lookbehind:!0,greedy:!0,inside:l},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(r,o){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:t.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,(function(r){var o=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+o.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+o.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+o.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+o.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:o,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var i=r.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))})(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,(function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading…",o=function(m,p){return"✖ Error "+m+" while fetching file: "+p},i="✖ Error: File does not exist or is empty",s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",a="loading",u="loaded",c="failed",d="pre[data-src]:not(["+l+'="'+u+'"]):not(['+l+'="'+a+'"])';function f(m,p,y){var _=new XMLHttpRequest;_.open("GET",m,!0),_.onreadystatechange=function(){_.readyState==4&&(_.status<400&&_.responseText?p(_.responseText):_.status>=400?y(o(_.status,_.statusText)):y(i))},_.send(null)}function h(m){var p=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(m||"");if(p){var y=Number(p[1]),_=p[2],b=p[3];return _?b?[y,Number(b)]:[y,void 0]:[y,y]}}t.hooks.add("before-highlightall",function(m){m.selector+=", "+d}),t.hooks.add("before-sanity-check",function(m){var p=m.element;if(p.matches(d)){m.code="",p.setAttribute(l,a);var y=p.appendChild(document.createElement("CODE"));y.textContent=r;var _=p.getAttribute("data-src"),b=m.language;if(b==="none"){var S=(/\.(\w+)$/.exec(_)||[,"none"])[1];b=s[S]||S}t.util.setLanguage(y,b),t.util.setLanguage(p,b);var x=t.plugins.autoloader;x&&x.loadLanguages(b),f(_,function(C){p.setAttribute(l,u);var v=h(p.getAttribute("data-range"));if(v){var E=C.split(/\r\n?|\n/g),w=v[0],$=v[1]==null?E.length:v[1];w<0&&(w+=E.length),w=Math.max(0,Math.min(w-1,E.length)),$<0&&($+=E.length),$=Math.max(0,Math.min($,E.length)),C=E.slice(w,$).join(`
`),p.hasAttribute("data-start")||p.setAttribute("data-start",String(w+1))}y.textContent=C,t.highlightElement(y)},function(C){p.setAttribute(l,c),y.textContent=C})}}),t.plugins.fileHighlight={highlight:function(p){for(var y=(p||document).querySelectorAll(d),_=0,b;b=y[_++];)t.highlightElement(b)}};var g=!1;t.fileHighlight=function(){g||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),g=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(zi)),zi.exports}vp();Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var r={};r["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:o},Prism.languages.insertBefore("markup","cdata",i)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(n,e){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:Prism.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(n){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function t(c){return c=c.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+c+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:t(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:t(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:t(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:t(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(c){["url","bold","italic","strike","code-snippet"].forEach(function(d){c!==d&&(n.languages.markdown[c].inside.content.inside[d]=n.languages.markdown[d])})}),n.hooks.add("after-tokenize",function(c){if(c.language!=="markdown"&&c.language!=="md")return;function d(f){if(!(!f||typeof f=="string"))for(var h=0,g=f.length;h<g;h++){var m=f[h];if(m.type!=="code"){d(m.content);continue}var p=m.content[1],y=m.content[3];if(p&&y&&p.type==="code-language"&&y.type==="code-block"&&typeof p.content=="string"){var _=p.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");_=(/[a-z][\w-]*/i.exec(_)||[""])[0].toLowerCase();var b="language-"+_;y.alias?typeof y.alias=="string"?y.alias=[y.alias,b]:y.alias.push(b):y.alias=[b]}}}d(c.tokens)}),n.hooks.add("wrap",function(c){if(c.type==="code-block"){for(var d="",f=0,h=c.classes.length;f<h;f++){var g=c.classes[f],m=/language-(.+)/.exec(g);if(m){d=m[1];break}}var p=n.languages[d];if(p)c.content=n.highlight(u(c.content),p,d);else if(d&&d!=="none"&&n.plugins.autoloader){var y="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);c.attributes.id=y,n.plugins.autoloader.loadLanguages(d,function(){var _=document.getElementById(y);_&&(_.innerHTML=n.highlight(_.textContent,n.languages[d],d))})}}});var s=RegExp(n.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;function u(c){var d=c.replace(s,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(f,h){if(h=h.toLowerCase(),h[0]==="#"){var g;return h[1]==="x"?g=parseInt(h.slice(2),16):g=Number(h.slice(1)),a(g)}else{var m=l[h];return m||f}}),d}n.languages.md=n.languages.markdown})(Prism);Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(n){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var t=n.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(Prism);Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/});delete Prism.languages.objectivec["class-name"];Prism.languages.objc=Prism.languages.objectivec;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};(function(n){var e=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};e.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:e},boolean:e.boolean,variable:e.variable}})(Prism);var eu={},tu;function wp(){return tu||(tu=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),eu}wp();var nu={},ru;function Ep(){return ru||(ru=1,(function(n){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,t=0;t<2;t++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(Prism)),nu}Ep();Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=Prism.languages.swift});var ou={},iu;function Tp(){return iu||(iu=1,(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var e=n.languages.extend("typescript",{});delete e["class-name"],n.languages.typescript["class-name"].inside=e,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),n.languages.ts=n.languages.typescript})(Prism)),ou}Tp();var su={},lu;function Np(){return lu||(lu=1,(function(n){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,t=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+t+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+t+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+t+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism)),su}Np();var au={},uu;function kp(){return uu||(uu=1,(function(n){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,t=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});n.languages.cpp=n.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),n.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return t})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),n.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n.languages.cpp}}}}),n.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),n.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:n.languages.extend("cpp",{})}}),n.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},n.languages.cpp["base-clause"])})(Prism)),au}kp();function Si(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const $p="javascript";function cd(n,e){for(const t of n.childNodes){if(Q(t)&&t.tagName===e)return!0;cd(t,e)}return!1}const wr="data-language",br="data-highlight-language",co="data-theme";let or=class fd extends ke{__language;__theme;__isSyntaxHighlightSupported;static getType(){return"code"}static clone(e){return new fd(e.__language,e.__key)}constructor(e,t){super(t),this.__language=e||void 0,this.__isSyntaxHighlightSupported=!1,this.__theme=void 0}afterCloneFrom(e){super.afterCloneFrom(e),this.__language=e.__language,this.__theme=e.__theme,this.__isSyntaxHighlightSupported=e.__isSyntaxHighlightSupported}createDOM(e){const t=document.createElement("code");he(t,e.theme.code),t.setAttribute("spellcheck","false");const r=this.getLanguage();r&&(t.setAttribute(wr,r),this.getIsSyntaxHighlightSupported()&&t.setAttribute(br,r));const o=this.getTheme();o&&t.setAttribute(co,o);const i=this.getStyle();return i&&t.setAttribute("style",i),t}updateDOM(e,t,r){const o=this.__language,i=e.__language;o?o!==i&&t.setAttribute(wr,o):i&&t.removeAttribute(wr);const s=this.__isSyntaxHighlightSupported;e.__isSyntaxHighlightSupported&&i?s&&o?o!==i&&t.setAttribute(br,o):t.removeAttribute(br):s&&o&&t.setAttribute(br,o);const l=this.__theme,a=e.__theme;l?l!==a&&t.setAttribute(co,l):a&&t.removeAttribute(co);const u=this.__style,c=e.__style;return u?u!==c&&t.setAttribute("style",u):c&&t.removeAttribute("style"),!1}exportDOM(e){const t=document.createElement("pre");he(t,e._config.theme.code),t.setAttribute("spellcheck","false");const r=this.getLanguage();r&&(t.setAttribute(wr,r),this.getIsSyntaxHighlightSupported()&&t.setAttribute(br,r));const o=this.getTheme();o&&t.setAttribute(co,o);const i=this.getStyle();return i&&t.setAttribute("style",i),{element:t}}static importDOM(){return{code:e=>e.textContent!=null&&(/\r?\n/.test(e.textContent)||cd(e,"BR"))?{conversion:cu,priority:1}:null,div:()=>({conversion:Ap,priority:1}),pre:()=>({conversion:cu,priority:0}),table:e=>Wi(e)?{conversion:Fp,priority:3}:null,td:e=>{const t=e,r=t.closest("table");return t.classList.contains("js-file-line")||r&&Wi(r)?{conversion:fu,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&Wi(t)?{conversion:fu,priority:3}:null}}}static importJSON(e){return It().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setLanguage(e.language).setTheme(e.theme)}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),theme:this.getTheme()}}insertNewAfter(e,t=!0){const r=this.getChildren(),o=r.length;if(o>=2&&r[o-1].getTextContent()===`
`&&r[o-2].getTextContent()===`
`&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===o){r[o-1].remove(),r[o-2].remove();const a=Y();return this.insertAfter(a,t),a}const{anchor:i,focus:s}=e,l=(i.isBefore(s)?i:s).getNode();if(R(l)){let a=wn(l);const u=[];for(;;)if(He(a))u.push(gt()),a=a.getNextSibling();else{if(!Ce(a))break;{let p=0;const y=a.getTextContent(),_=a.getTextContentSize();for(;p<_&&y[p]===" ";)p++;if(p!==0&&u.push(Ol(" ".repeat(p))),p!==_)break;a=a.getNextSibling()}}const c=l.splitText(i.offset)[0],d=i.offset===0?0:1,f=c.getIndexWithinParent()+d,h=l.getParentOrThrow(),g=[tt(),...u];h.splice(f,0,g);const m=u[u.length-1];m?m.select():i.offset===0?c.selectPrevious():c.getNextSibling().selectNext(0,0)}if(st(l)){const{offset:a}=e.anchor;l.splice(a,0,[tt()]),l.select(a+1,a+1)}return null}canIndent(){return!1}collapseAtStart(){const e=Y();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}setLanguage(e){const t=this.getWritable();return t.__language=e||void 0,t}getLanguage(){return this.getLatest().__language}setIsSyntaxHighlightSupported(e){const t=this.getWritable();return t.__isSyntaxHighlightSupported=e,t}getIsSyntaxHighlightSupported(){return this.getLatest().__isSyntaxHighlightSupported}setTheme(e){const t=this.getWritable();return t.__theme=e||void 0,t}getTheme(){return this.getLatest().__theme}};function It(n,e){return qf(or).setLanguage(n).setTheme(e)}function st(n){return n instanceof or}function cu(n){return{node:It(n.getAttribute(wr))}}function Ap(n){const e=n,t=du(e);return t||(function(r){let o=r.parentElement;for(;o!==null;){if(du(o))return!0;o=o.parentElement}return!1})(e)?{node:t?It():null}:{node:null}}function Fp(){return{node:It()}}function fu(){return{node:null}}function du(n){return n.style.fontFamily.match("monospace")!==null}function Wi(n){return n.classList.contains("js-file-line-container")}let Zo=class dd extends rt{__highlightType;constructor(e="",t,r){super(e,r),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new dd(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}setHighlightType(e){const t=this.getWritable();return t.__highlightType=e||void 0,t}canHaveFormat(){return!1}createDOM(e){const t=super.createDOM(e),r=Ui(e.theme,this.__highlightType);return he(t,r),t}updateDOM(e,t,r){const o=super.updateDOM(e,t,r),i=Ui(r.theme,e.__highlightType),s=Ui(r.theme,this.__highlightType);return i!==s&&(i&&ht(t,i),s&&he(t,s)),o}static importJSON(e){return Ol().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHighlightType(e.highlightType)}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType()}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return It()}};function Ui(n,e){return e&&n&&n.codeHighlight&&n.codeHighlight[e]}function Ol(n="",e){return Ie(new Zo(n,e))}function Ce(n){return n instanceof Zo}function gd(n,e){let t=n;for(let r=be(n,e);r&&(Ce(r.origin)||He(r.origin));r=yp(r))t=r.origin;return t}function wn(n){return gd(n,"previous")}function ir(n){return gd(n,"next")}function Op(n){const e=wn(n),t=ir(n);let r=e;for(;r!==null;){if(Ce(r)){const i=kh(r.getTextContent());if(i!==null)return i}if(r===t)break;r=r.getNextSibling()}const o=e.getParent();if(N(o)){const i=o.getDirection();if(i==="ltr"||i==="rtl")return i}return null}function Rp(n,e){let t=null,r=null,o=n,i=e,s=n.getTextContent();for(;;){if(i===0){if(o=o.getPreviousSibling(),o===null)break;if(Ce(o)||He(o)||de(o)||Si(167),de(o)){t={node:o,offset:1};break}i=Math.max(0,o.getTextContentSize()-1),s=o.getTextContent()}else i--;const a=s[i];Ce(o)&&a!==" "&&(r={node:o,offset:i})}if(r!==null)return r;let l=null;if(e<n.getTextContentSize())Ce(n)&&(l=n.getTextContent()[e]);else{const a=n.getNextSibling();Ce(a)&&(l=a.getTextContent()[0])}if(l!==null&&l!==" ")return t;{const a=(function(u,c){let d=u,f=c,h=u.getTextContent(),g=u.getTextContentSize();for(;;){if(!Ce(d)||f===g){if(d=d.getNextSibling(),d===null||de(d))return null;Ce(d)&&(f=0,h=d.getTextContent(),g=d.getTextContentSize())}if(Ce(d)){if(h[f]!==" ")return{node:d,offset:f};f++}}})(n,e);return a!==null?a:t}}function Lp(n){const e=ir(n);return de(e)&&Si(168),e}(function(n){n.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var e={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(e).forEach(function(t){var r=e[t],o=[];/^\w+$/.test(t)||o.push(/\w+/.exec(t)[0]),t==="diff"&&o.push("bold"),n.languages.diff[t]={pattern:RegExp("^(?:["+r+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:o,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(t)[0]}}}}),Object.defineProperty(n.languages.diff,"PREFIXES",{value:e})})(Prism);const St=globalThis.Prism||window.Prism,hd={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",powershell:"PowerShell",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},Mp={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function Pp(n){return Mp[n]||n}function lb(n){const e=Pp(n);return hd[e]||e}function ab(){const n=[];for(const[e,t]of Object.entries(hd))n.push([e,t]);return n}function Ns(n){return typeof n=="string"?n:Array.isArray(n)?n.map(Ns).join(""):Ns(n.content)}function Ip(n,e){const t=/^diff-([\w-]+)/i.exec(e),r=n.getTextContent();let o=St.tokenize(r,St.languages[t?"diff":e]);return t&&(o=(function(i,s){const l=s,a=St.languages[l],u={tokens:i},c=St.languages.diff.PREFIXES;for(const d of u.tokens){if(typeof d=="string"||!(d.type in c)||!Array.isArray(d.content))continue;const f=d.type;let h=0;const g=()=>(h++,new St.Token("prefix",c[f],f.replace(/^(\w+).*/,"$1"))),m=d.content.filter(x=>typeof x=="string"||x.type!=="prefix"),p=d.content.length-m.length,y=St.tokenize(Ns(m),a);y.unshift(g());const _=/\r\n|\n/g,b=x=>{const C=[];_.lastIndex=0;let v,E=0;for(;h<p&&(v=_.exec(x));){const w=v.index+v[0].length;C.push(x.slice(E,w)),E=w,C.push(g())}if(C.length!==0)return E<x.length&&C.push(x.slice(E)),C},S=x=>{for(let C=0;C<x.length&&h<p;C++){const v=x[C];if(typeof v=="string"){const E=b(v);E&&(x.splice(C,1,...E),C+=E.length-1)}else if(typeof v.content=="string"){const E=b(v.content);E&&(v.content=E)}else Array.isArray(v.content)?S(v.content):S([v.content])}};S(y),h<p&&y.push(g()),d.content=y}return u.tokens})(o,t[1])),ks(o)}function ks(n,e){const t=[];for(const r of n)if(typeof r=="string"){const o=r.split(/(\n|\t)/),i=o.length;for(let s=0;s<i;s++){const l=o[s];l===`
`||l===`\r
`?t.push(tt()):l==="	"?t.push(gt()):l.length>0&&t.push(Ol(l,e))}}else{const{content:o,alias:i}=r;typeof o=="string"?t.push(...ks([o],r.type==="prefix"&&typeof i=="string"?i:r.type)):Array.isArray(o)&&t.push(...ks(o,r.type==="unchanged"?void 0:r.type))}return t}const Dp={$tokenize(n,e){return Ip(n,e||this.defaultLanguage)},defaultLanguage:$p,tokenize(n,e){return St.tokenize(n,St.languages[e||""]||St.languages[this.defaultLanguage])}};function gu(n,e,t){const r=n.getParent();st(r)?pd(r,e,t):Ce(n)&&n.replace(le(n.__text))}function Bp(n,e){const t=e.getElementByKey(n.getKey());if(t===null)return;const r=n.getChildren(),o=r.length;if(o===t.__cachedChildrenLength)return;t.__cachedChildrenLength=o;let i="1",s=1;for(let l=0;l<o;l++)de(r[l])&&(i+=`
`+ ++s);t.setAttribute("data-gutter",i)}const Hi=new Set;function pd(n,e,t){const r=n.getKey(),o=e.getKey()+"/"+r;n.getLanguage()===void 0&&n.setLanguage(t.defaultLanguage);const i=n.getLanguage()||t.defaultLanguage;if(!(function(s){const l=(function(u){const c=/^diff-([\w-]+)/i.exec(u);return c?c[1]:null})(s),a=l||s;try{return!!a&&St.languages.hasOwnProperty(a)}catch{return!1}})(i))return n.getIsSyntaxHighlightSupported()&&n.setIsSyntaxHighlightSupported(!1),void(async function(){})();n.getIsSyntaxHighlightSupported()||n.setIsSyntaxHighlightSupported(!0),Hi.has(o)||(Hi.add(o),e.update(()=>{(function(s,l){const a=G(s);if(!st(a)||!a.isAttached())return;const u=k();if(!T(u))return void l();const c=u.anchor,d=c.offset,f=c.type==="element"&&de(a.getChildAtIndex(c.offset-1));let h=0;if(!f){const g=c.getNode();h=d+g.getPreviousSiblings().reduce((m,p)=>m+p.getTextContentSize(),0)}if(l()){if(f)return void c.getNode().select(d,d);a.getChildren().some(g=>{const m=R(g);if(m||de(g)){const p=g.getTextContentSize();if(m&&p>=h)return g.select(h,h),!0;h-=p}return!1})}})(r,()=>{const s=G(r);if(!st(s)||!s.isAttached())return!1;const l=s.getLanguage()||t.defaultLanguage,a=t.$tokenize(s,l),u=(function(h,g){let m=0;for(;m<h.length&&hu(h[m],g[m]);)m++;const p=h.length,y=g.length,_=Math.min(p,y)-m;let b=0;for(;b<_;)if(b++,!hu(h[p-b],g[y-b])){b--;break}const S=m,x=p-b,C=g.slice(m,y-b);return{from:S,nodesForReplacement:C,to:x}})(s.getChildren(),a),{from:c,to:d,nodesForReplacement:f}=u;return!(c===d&&!f.length)&&(n.splice(c,d-c,f),!0)})},{onUpdate:()=>{Hi.delete(o)},skipTransforms:!0}))}function hu(n,e){return Ce(n)&&Ce(e)&&n.__text===e.__text&&n.__highlightType===e.__highlightType||He(n)&&He(e)||de(n)&&de(e)}function bn(n){if(!T(n))return!1;const e=n.anchor.getNode(),t=st(e)?e:e.getParent(),r=n.focus.getNode(),o=st(r)?r:r.getParent();return st(t)&&t.is(o)}function md(n){const e=n.getNodes(),t=[];if(e.length===1&&st(e[0]))return t;let r=[];for(let o=0;o<e.length;o++){const i=e[o];Ce(i)||He(i)||de(i)||Si(169),de(i)?r.length>0&&(t.push(r),r=[]):r.push(i)}if(r.length>0){const o=n.isBackward()?n.anchor:n.focus,i=Re(r[0].getKey(),0,"text");o.is(i)||t.push(r)}return t}function pu(n){const e=k();if(!T(e)||!bn(e))return!1;const t=md(e),r=t.length;if(r===0&&e.isCollapsed())return n===Bt&&e.insertNodes([gt()]),!0;if(r===0&&n===Bt&&e.getTextContent()===`
`){const o=gt(),i=tt(),s=e.isBackward()?"previous":"next";return e.insertNodes([o,i]),$l(Fl(Kt(nn(o,"next",0),Be(be(i,"next"))),s)),!0}for(let o=0;o<r;o++){const i=t[o];if(i.length>0){let s=i[0];if(o===0&&(s=wn(s)),n===Bt){const l=gt();if(s.insertBefore(l),o===0){const a=e.isBackward()?"focus":"anchor",u=Re(s.getKey(),0,"text");e[a].is(u)&&e[a].set(l.getKey(),0,"text")}}else He(s)&&s.remove()}}return!0}function mu(n,e){const t=k();if(!T(t))return!1;const{anchor:r,focus:o}=t,i=r.offset,s=o.offset,l=r.getNode(),a=o.getNode(),u=n===Nt;if(!bn(t)||!Ce(l)&&!He(l)||!Ce(a)&&!He(a))return!1;if(!e.altKey){if(t.isCollapsed()){const y=l.getParentOrThrow();if(u&&i===0&&l.getPreviousSibling()===null){if(y.getPreviousSibling()===null)return y.selectPrevious(),e.preventDefault(),!0}else if(!u&&i===l.getTextContentSize()&&l.getNextSibling()===null&&y.getNextSibling()===null)return y.selectNext(),e.preventDefault(),!0}return!1}let c,d;if(l.isBefore(a)?(c=wn(l),d=ir(a)):(c=wn(a),d=ir(l)),c==null||d==null)return!1;const f=c.getNodesBetween(d);for(let y=0;y<f.length;y++){const _=f[y];if(!Ce(_)&&!He(_)&&!de(_))return!1}e.preventDefault(),e.stopPropagation();const h=u?c.getPreviousSibling():d.getNextSibling();if(!de(h))return!0;const g=u?h.getPreviousSibling():h.getNextSibling();if(g==null)return!0;const m=Ce(g)||He(g)||de(g)?u?wn(g):ir(g):null;let p=m??g;return h.remove(),f.forEach(y=>y.remove()),n===Nt?(f.forEach(y=>p.insertBefore(y)),p.insertBefore(h)):(p.insertAfter(h),p=h,f.forEach(y=>{p.insertAfter(y),p=y})),t.setTextNodeRange(l,i,a,s),!0}function _u(n,e){const t=k();if(!T(t))return!1;const{anchor:r,focus:o}=t,i=r.getNode(),s=o.getNode(),l=n===Lo;if(!bn(t)||!Ce(i)&&!He(i)||!Ce(s)&&!He(s))return!1;const a=s;if(Op(a)==="rtl"?!l:l){const u=Rp(a,o.offset);if(u!==null){const{node:c,offset:d}=u;de(c)?c.selectNext(0,0):t.setTextNodeRange(c,d,c,d)}else a.getParentOrThrow().selectStart()}else Lp(a).select();return e.preventDefault(),e.stopPropagation(),!0}function ub(n,e){if(!n.hasNodes([or,Zo]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");e==null&&(e=Dp);const t=[];return n._headless!==!0&&t.push(n.registerMutationListener(or,r=>{n.getEditorState().read(()=>{for(const[o,i]of r)if(i!=="destroyed"){const s=G(o);s!==null&&Bp(s,n)}})},{skipInitialization:!1})),t.push(n.registerNodeTransform(or,r=>pd(r,n,e)),n.registerNodeTransform(rt,r=>gu(r,n,e)),n.registerNodeTransform(Zo,r=>gu(r,n,e)),n.registerCommand(In,r=>{const o=(function(i){const s=k();if(!T(s)||!bn(s))return null;const l=i?yn:Bt,a=i?yn:Mo,u=s.anchor,c=s.focus;if(u.is(c))return a;const d=md(s);if(d.length!==1)return l;const f=d[0];let h,g;f.length===0&&Si(285),s.isBackward()?(h=c,g=u):(h=u,g=c);const m=wn(f[0]),p=ir(f[0]),y=Re(m.getKey(),0,"text"),_=Re(p.getKey(),p.getTextContentSize(),"text");return h.isBefore(y)||_.isBefore(g)?l:y.isBefore(h)||g.isBefore(_)?a:l})(r.shiftKey);return o!==null&&(r.preventDefault(),n.dispatchCommand(o,void 0),!0)},te),n.registerCommand(Mo,()=>!!bn(k())&&(Cf([gt()]),!0),te),n.registerCommand(Bt,r=>pu(Bt),te),n.registerCommand(yn,r=>pu(yn),te),n.registerCommand(Nt,r=>{const o=k();if(!T(o))return!1;const{anchor:i}=o,s=i.getNode();return!!bn(o)&&(o.isCollapsed()&&i.offset===0&&s.getPreviousSibling()===null&&st(s.getParentOrThrow())?(r.preventDefault(),!0):mu(Nt,r))},te),n.registerCommand(en,r=>{const o=k();if(!T(o))return!1;const{anchor:i}=o,s=i.getNode();return!!bn(o)&&(o.isCollapsed()&&i.offset===s.getTextContentSize()&&s.getNextSibling()===null&&st(s.getParentOrThrow())?(r.preventDefault(),!0):mu(en,r))},te),n.registerCommand(Lo,r=>_u(Lo,r),te),n.registerCommand(cs,r=>_u(cs,r),te)),ae(...t)}function Kp(){return ge().getTextContent()}function zp(n,e=!0){if(n)return!1;let t=Kp();return e&&(t=t.trim()),t===""}function Wp(n){if(!zp(n,!1))return!1;const e=ge().getChildren(),t=e.length;if(t>1)return!1;for(let r=0;r<t;r++){const o=e[r];if(Z(o))return!1;if(N(o)){if(!ln(o)||o.__indent!==0)return!1;const i=o.getChildren(),s=i.length;for(let l=0;l<s;l++){const a=i[r];if(!R(a))return!1}}}return!0}function Rl(n){return()=>Wp(n)}function Up(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function _d(n,e,t,r){const o=s=>s instanceof t,i=s=>{const l=le(s.getTextContent());l.setFormat(s.getFormat()),s.replace(l)};return[n.registerNodeTransform(rt,s=>{if(!s.isSimpleText())return;let l,a=s.getPreviousSibling(),u=s.getTextContent(),c=s;if(R(a)){const f=a.getTextContent(),h=e(f+u);if(o(a)){if(h===null||(g=>g.getLatest().__mode)(a)!==0)return void i(a);{const g=h.end-f.length;if(g>0){const m=f+u.slice(0,g);if(a.select(),a.setTextContent(m),g===u.length)s.remove();else{const p=u.slice(g);s.setTextContent(p)}return}}}else if(h===null||h.start<f.length)return}let d=0;for(;;){l=e(u);let f,h=l===null?"":u.slice(l.end);if(u=h,h===""){const m=c.getNextSibling();if(R(m)){h=c.getTextContent()+m.getTextContent();const p=e(h);if(p===null)return void(o(m)?i(m):m.markDirty());if(p.start!==0)return}}if(l===null)return;if(l.start===0&&R(a)&&a.isTextEntity()){d+=l.end;continue}l.start===0?[f,c]=c.splitText(l.end):[,f,c]=c.splitText(l.start+d,l.end+d),f===void 0&&Up(165,"nodeToReplace");const g=r(f);if(g.setFormat(f.getFormat()),f.replace(g),c==null)return;d=0,a=g}}),n.registerNodeTransform(t,s=>{const l=s.getTextContent(),a=e(l);if(a===null||a.start!==0)return void i(s);if(l.length>a.end)return void s.splitText(a.end);const u=s.getPreviousSibling();R(u)&&u.isTextEntity()&&(i(u),i(s));const c=s.getNextSibling();R(c)&&c.isTextEntity()&&(i(c),o(s)&&i(s))})]}let Ll=class yd extends rt{static getType(){return"hashtag"}static clone(e){return new yd(e.__text,e.__key)}createDOM(e){const t=super.createDOM(e);return he(t,e.theme.hashtag),t}static importJSON(e){return bd().updateFromJSON(e)}canInsertTextBefore(){return!1}isTextEntity(){return!0}};function bd(n=""){return Ie(new Ll(n))}const Hp=new RegExp((function(){const{alpha:n,alphanumeric:e,hashChars:t}=(function(){const o=String.fromCharCode,i="A-Za-zªµºÀ-ÖØ-öø-Ɂɐ-ˁˆ-ˑˠ-ˤˮͺΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϵϷ-ҁҊ-ӎӐ-ӹԀ-ԏԱ-Ֆՙա-ևא-תװ-ײء-غـ-يٮ-ٯٱ-ۓەۥ-ۦۮ-ۯۺ-ۼۿܐܒ-ܯݍ-ݭހ-ޥޱऄ-हऽॐक़-ॡॽঅ-ঌএ-ঐও-নপ-রলশ-হঽৎড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽૐૠ-ૡଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽଡ଼-ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡඅ-ඖක-නඳ-රලව-ෆก-ะา-ำเ-ๆກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆໜ-ໝༀཀ-ཇཉ-ཪྈ-ྋက-အဣ-ဧဩ-ဪၐ-ၕႠ-Ⴥა-ჺჼᄀ-ᅙᅟ-ᆢᆨ-ᇹሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙶᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦩᧁ-ᧇᨀ-ᨖᴀ-ᶿḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₔℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℱℳ-ℹℼ-ℿⅅ-ⅉⰀ-Ⱞⰰ-ⱞⲀ-ⳤⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〆〱-〵〻-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄬㄱ-ㆎㆠ-ㆷㇰ-ㇿ㐀-䶵一-龻ꀀ-ꒌꠀ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢ가-힣豈-鶴侮-頻並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜÀ-ÖØ-öø-ÿĀ-ɏɓ-ɔɖ-ɗəɛɣɨɯɲʉʋʻ̀-ͯḀ-ỿЀ-ӿԀ-ԧⷠ-ⷿꙀ-֑ꚟ-ֿׁ-ׂׄ-ׇׅא-תװ-״﬒-ﬨשׁ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﭏؐ-ؚؠ-ٟٮ-ۓە-ۜ۞-۪ۨ-ۯۺ-ۼۿݐ-ݿࢠࢢ-ࢬࣤ-ࣾﭐ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼ‌-‌ก-ฺเ-๎ᄀ-ᇿ㄰-ㆅꥠ-꥿가-힯ힰ-퟿ﾡ-ￜァ-ヺー-ヾｦ-ﾟ０-９Ａ-Ｚａ-ｚぁ-ゖ゙-ゞ㐀-䶿一-鿿"+o(173824)+"-"+o(177983)+o(177984)+"-"+o(178207)+o(194560)+"-"+o(195103)+"〃々〻";return{alpha:i,alphanumeric:i+"̀-ͯ҃-֑҆-ֹֻ-ֽֿׁ-ׂׄ-ׇׅؐ-ًؕ-ٰٞۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ްँ-ः़ा-्॑-॔ॢ-ॣঁ-ঃ়া-ৄে-ৈো-্ৗৢ-ৣਁ-ਃ਼ਾ-ੂੇ-ੈੋ-੍ੰ-ੱઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣଁ-ଃ଼ା-ୃେ-ୈୋ-୍ୖ-ୗஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕ-ౖಂ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕ-ೖം-ഃാ-ൃെ-ൈൊ-്ൗං-ඃ්ා-ුූෘ-ෟෲ-ෳัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-༹༙༵༷༾-༿ཱ-྄྆-྇ྐ-ྗྙ-ྼ࿆ာ-ဲံ-္ၖ-ၙ፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈ-ᧉᨗ-ᨛ᷀-᷃⃐-⃥⃜⃡-⃫〪-゙〯-゚ꠂ꠆ꠋꠣ-ꠧﬞ︀-️︠-︣0-9٠-٩۰-۹०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉០-៩᠐-᠙᥆-᥏᧐-᧙０-９_",hashChars:"#\\uFF03"}})(),r="["+e+"]";return"("+("^|$|[^&/"+e+"]")+")("+("["+t+"]")+")("+r+"*"+("["+n+"]")+r+"*)"})(),"i"),jp={getHashtagMatch:function(n){const e=Hp.exec(n);if(e===null)return null;const t=e[3].length+1,r=e.index+e[1].length;return{end:r+t,start:r}}};function Jp(n,e=jp){return ae(..._d(n,e.getHashtagMatch,Ll,t=>bd(t.getTextContent())))}const qp=Symbol.for("preact-signals");function Ci(){if(Yt>1)return void Yt--;let n,e=!1;for(;$r!==void 0;){let t=$r;for($r=void 0,$s++;t!==void 0;){const r=t.o;if(t.o=void 0,t.f&=-3,!(8&t.f)&&xd(t))try{t.c()}catch(o){e||(n=o,e=!0)}t=r}}if($s=0,Yt--,e)throw n}function Yp(n){if(Yt>0)return n();Yt++;try{return n()}finally{Ci()}}let ie,$r;function yu(n){const e=ie;ie=void 0;try{return n()}finally{ie=e}}let Yt=0,$s=0,Eo=0;function bu(n){if(ie===void 0)return;let e=n.n;return e===void 0||e.t!==ie?(e={i:0,S:n,p:ie.s,n:void 0,t:ie,e:void 0,x:void 0,r:e},ie.s!==void 0&&(ie.s.n=e),ie.s=e,n.n=e,32&ie.f&&n.S(e),e):e.i===-1?(e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=ie.s,e.n=void 0,ie.s.n=e,ie.s=e),e):void 0}function Ue(n,e){this.v=n,this.i=0,this.n=void 0,this.t=void 0,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}function Ml(n,e){return new Ue(n,e)}function xd(n){for(let e=n.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function xu(n){for(let e=n.s;e!==void 0;e=e.n){const t=e.S.n;if(t!==void 0&&(e.r=t),e.S.n=e,e.i=-1,e.n===void 0){n.s=e;break}}}function Sd(n){let e,t=n.s;for(;t!==void 0;){const r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):e=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}n.s=e}function Hn(n,e){Ue.call(this,void 0),this.x=n,this.s=void 0,this.g=Eo-1,this.f=4,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}function Cd(n){const e=n.u;if(n.u=void 0,typeof e=="function"){Yt++;const t=ie;ie=void 0;try{e()}catch(r){throw n.f&=-2,n.f|=8,Pl(n),r}finally{ie=t,Ci()}}}function Pl(n){for(let e=n.s;e!==void 0;e=e.n)e.S.U(e);n.x=void 0,n.s=void 0,Cd(n)}function Vp(n){if(ie!==this)throw new Error("Out-of-order effect");Sd(this),ie=n,this.f&=-2,8&this.f&&Pl(this),Ci()}function Zn(n,e){this.x=n,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e?.name}function Kr(n,e){const t=new Zn(n,e);try{t.c()}catch(o){throw t.d(),o}const r=t.d.bind(t);return r[Symbol.dispose]=r,r}function Il(n,e={}){const t={};for(const r in n){const o=e[r],i=Ml(o===void 0?n[r]:o);t[r]=i}return t}Ue.prototype.brand=qp,Ue.prototype.h=function(){return!0},Ue.prototype.S=function(n){const e=this.t;e!==n&&n.e===void 0&&(n.x=e,this.t=n,e!==void 0?e.e=n:yu(()=>{var t;(t=this.W)==null||t.call(this)}))},Ue.prototype.U=function(n){if(this.t!==void 0){const e=n.e,t=n.x;e!==void 0&&(e.x=t,n.e=void 0),t!==void 0&&(t.e=e,n.x=void 0),n===this.t&&(this.t=t,t===void 0&&yu(()=>{var r;(r=this.Z)==null||r.call(this)}))}},Ue.prototype.subscribe=function(n){return Kr(()=>{const e=this.value,t=ie;ie=void 0;try{n(e)}finally{ie=t}},{name:"sub"})},Ue.prototype.valueOf=function(){return this.value},Ue.prototype.toString=function(){return this.value+""},Ue.prototype.toJSON=function(){return this.value},Ue.prototype.peek=function(){const n=ie;ie=void 0;try{return this.value}finally{ie=n}},Object.defineProperty(Ue.prototype,"value",{get(){const n=bu(this);return n!==void 0&&(n.i=this.i),this.v},set(n){if(n!==this.v){if($s>100)throw new Error("Cycle detected");this.v=n,this.i++,Eo++,Yt++;try{for(let e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Ci()}}}}),Hn.prototype=new Ue,Hn.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Eo))return!0;if(this.g=Eo,this.f|=1,this.i>0&&!xd(this))return this.f&=-2,!0;const n=ie;try{xu(this),ie=this;const e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return ie=n,Sd(this),this.f&=-2,!0},Hn.prototype.S=function(n){if(this.t===void 0){this.f|=36;for(let e=this.s;e!==void 0;e=e.n)e.S.S(e)}Ue.prototype.S.call(this,n)},Hn.prototype.U=function(n){if(this.t!==void 0&&(Ue.prototype.U.call(this,n),this.t===void 0)){this.f&=-33;for(let e=this.s;e!==void 0;e=e.n)e.S.U(e)}},Hn.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let n=this.t;n!==void 0;n=n.x)n.t.N()}},Object.defineProperty(Hn.prototype,"value",{get(){if(1&this.f)throw new Error("Cycle detected");const n=bu(this);if(this.h(),n!==void 0&&(n.i=this.i),16&this.f)throw this.v;return this.v}}),Zn.prototype.c=function(){const n=this.S();try{if(8&this.f||this.x===void 0)return;const e=this.x();typeof e=="function"&&(this.u=e)}finally{n()}},Zn.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,Cd(this),xu(this),Yt++;const n=ie;return ie=this,Vp.bind(this,n)},Zn.prototype.N=function(){2&this.f||(this.f|=2,this.o=$r,$r=this)},Zn.prototype.d=function(){this.f|=8,1&this.f||Pl(this)},Zn.prototype.dispose=function(){this.d()};function Gp(){const n=ge(),e=k(),t=Y();n.clear(),n.append(t),e!==null&&t.select(),T(e)&&(e.format=0)}function Zp(n,e=Gp){return n.registerCommand(nf,t=>(n.update(e),!0),B)}function Xp(n){return(typeof n.nodes=="function"?n.nodes():n.nodes)||[]}function ce(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function vd(n,e){if(n&&e&&!Array.isArray(e)&&typeof n=="object"&&typeof e=="object"){const t=n,r=e;for(const o in r)t[o]=vd(t[o],r[o]);return n}return e}const Dl=0,As=1,wd=2,ji=3,fo=4,jn=5,Ji=6,xr=7;function qi(n){return n.id===Dl}function Ed(n){return n.id===wd}function Qp(n){return(function(e){return e.id===As})(n)||ce(305,String(n.id),String(As)),Object.assign(n,{id:wd})}const em=new Set;let tm=class{builder;configs;_dependency;_peerNameSet;extension;state;_signal;constructor(e,t){this.builder=e,this.extension=t,this.configs=new Set,this.state={id:Dl}}mergeConfigs(){let e=this.extension.config||{};const t=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):Qh;for(const r of this.configs)e=t(e,r);return e}init(e){const t=this.state;Ed(t)||ce(306,String(t.id));const r={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},o={...r,getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)},i=(function(l,a,u){return Object.assign(l,{config:a,id:ji,registerState:u})})(t,this.mergeConfigs(),r);let s;this.state=i,this.extension.init&&(s=this.extension.init(e,i.config,r)),this.state=(function(l,a,u){return Object.assign(l,{id:fo,initResult:a,registerState:u})})(i,s,o)}build(e){const t=this.state;let r;t.id!==fo&&ce(307,String(t.id),String(jn)),this.extension.build&&(r=this.extension.build(e,t.config,t.registerState));const o={...t.registerState,getOutput:()=>r,getSignal:this.getSignal.bind(this)};this.state=(function(i,s,l){return Object.assign(i,{id:jn,output:s,registerState:l})})(t,r,o)}register(e,t){this._signal=t;const r=this.state;r.id!==jn&&ce(308,String(r.id),String(jn));const o=this.extension.register&&this.extension.register(e,r.config,r.registerState);return this.state=(function(i){return Object.assign(i,{id:Ji})})(r),()=>{const i=this.state;i.id!==xr&&ce(309,String(r.id),String(xr)),this.state=(function(s){return Object.assign(s,{id:jn})})(i),o&&o()}}afterRegistration(e){const t=this.state;let r;return t.id!==Ji&&ce(310,String(t.id),String(Ji)),this.extension.afterRegistration&&(r=this.extension.afterRegistration(e,t.config,t.registerState)),this.state=(function(o){return Object.assign(o,{id:xr})})(t),r}getSignal(){return this._signal===void 0&&ce(311),this._signal}getInitResult(){this.extension.init===void 0&&ce(312,this.extension.name);const e=this.state;return(function(t){return t.id>=fo})(e)||ce(313,String(e.id),String(fo)),e.initResult}getInitPeer(e){const t=this.builder.extensionNameMap.get(e);return t?t.getExtensionInitDependency():void 0}getExtensionInitDependency(){const e=this.state;return(function(t){return t.id>=ji})(e)||ce(314,String(e.id),String(ji)),{config:e.config}}getPeer(e){const t=this.builder.extensionNameMap.get(e);return t?t.getExtensionDependency():void 0}getInitDependency(e){const t=this.builder.getExtensionRep(e);return t===void 0&&ce(315,this.extension.name,e.name),t.getExtensionInitDependency()}getDependency(e){const t=this.builder.getExtensionRep(e);return t===void 0&&ce(315,this.extension.name,e.name),t.getExtensionDependency()}getState(){const e=this.state;return(function(t){return t.id>=xr})(e)||ce(316,String(e.id),String(xr)),e}getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||em}getPeerNameSet(){let e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map(([t])=>t)),this._peerNameSet=e),e}getExtensionDependency(){if(!this._dependency){const e=this.state;(function(t){return t.id>=jn})(e)||ce(317,this.extension.name),this._dependency={config:e.config,init:e.initResult,output:e.output}}return this._dependency}};const Su={tag:xn};function nm(){const n=ge();n.isEmpty()&&n.append(Y())}const rm={config:{setOptions:Su,updateOptions:Su},init:({$initialEditorState:n=nm})=>({$initialEditorState:n,initialized:!1}),afterRegistration(n,{updateOptions:e,setOptions:t},r){const o=r.getInitResult();if(!o.initialized){o.initialized=!0;const{$initialEditorState:i}=o;if(wh(i))n.setEditorState(i,t);else if(typeof i=="function")n.update(()=>{i(n)},e);else if(i&&(typeof i=="string"||typeof i=="object")){const s=n.parseEditorState(i);n.setEditorState(s,t)}}return()=>{}},name:"@lexical/extension/InitialState",nodes:[hr,rt,cr,fr,pr]},Cu=Symbol.for("@lexical/extension/LexicalBuilder");function vu(){}function om(n){throw n}function go(n){return Array.isArray(n)?n:[n]}const Yi="0.40.0+prod.esm";let Bl=class To{roots;extensionNameMap;outgoingConfigEdges;incomingEdges;conflicts;_sortedExtensionReps;PACKAGE_VERSION;constructor(e){this.outgoingConfigEdges=new Map,this.incomingEdges=new Map,this.extensionNameMap=new Map,this.conflicts=new Map,this.PACKAGE_VERSION=Yi,this.roots=e;for(const t of e)this.addExtension(t)}static fromExtensions(e){const t=[go(rm)];for(const r of e)t.push(go(r));return new To(t)}static maybeFromEditor(e){const t=e[Cu];return t&&(t.PACKAGE_VERSION!==Yi&&ce(292,t.PACKAGE_VERSION,Yi),t instanceof To||ce(293)),t}static fromEditor(e){const t=To.maybeFromEditor(e);return t===void 0&&ce(294),t}constructEditor(){const{$initialEditorState:e,onError:t,...r}=this.buildCreateEditorArgs(),o=Object.assign(Af({...r,...t?{onError:i=>{t(i,o)}}:{}}),{[Cu]:this});for(const i of this.sortedExtensionReps())i.build(o);return o}buildEditor(){let e=vu;function t(){try{e()}finally{e=vu}}const r=Object.assign(this.constructEditor(),{dispose:t,[Symbol.dispose]:t});return e=ae(this.registerEditor(r),()=>r.setRootElement(null)),r}hasExtensionByName(e){return this.extensionNameMap.has(e)}getExtensionRep(e){const t=this.extensionNameMap.get(e.name);if(t)return t.extension!==e&&ce(295,e.name),t}addEdge(e,t,r){const o=this.outgoingConfigEdges.get(e);o?o.set(t,r):this.outgoingConfigEdges.set(e,new Map([[t,r]]));const i=this.incomingEdges.get(t);i?i.add(e):this.incomingEdges.set(t,new Set([e]))}addExtension(e){this._sortedExtensionReps!==void 0&&ce(296);const t=go(e),[r]=t;typeof r.name!="string"&&ce(297,typeof r.name);let o=this.extensionNameMap.get(r.name);if(o!==void 0&&o.extension!==r&&ce(298,r.name),!o){o=new tm(this,r),this.extensionNameMap.set(r.name,o);const i=this.conflicts.get(r.name);typeof i=="string"&&ce(299,r.name,i);for(const s of r.conflictsWith||[])this.extensionNameMap.has(s)&&ce(299,r.name,s),this.conflicts.set(s,r.name);for(const s of r.dependencies||[]){const l=go(s);this.addEdge(r.name,l[0].name,l.slice(1)),this.addExtension(l)}for(const[s,l]of r.peerDependencies||[])this.addEdge(r.name,s,l?[l]:[])}}sortedExtensionReps(){if(this._sortedExtensionReps)return this._sortedExtensionReps;const e=[],t=(r,o)=>{let i=r.state;if(Ed(i))return;const s=r.extension.name;var l;qi(i)||ce(300,s,o||"[unknown]"),qi(l=i)||ce(304,String(l.id),String(Dl)),i=Object.assign(l,{id:As}),r.state=i;const a=this.outgoingConfigEdges.get(s);if(a)for(const u of a.keys()){const c=this.extensionNameMap.get(u);c&&t(c,s)}i=Qp(i),r.state=i,e.push(r)};for(const r of this.extensionNameMap.values())qi(r.state)&&t(r);for(const r of e)for(const[o,i]of this.outgoingConfigEdges.get(r.extension.name)||[])if(i.length>0){const s=this.extensionNameMap.get(o);if(s)for(const l of i)s.configs.add(l)}for(const[r,...o]of this.roots)if(o.length>0){const i=this.extensionNameMap.get(r.name);i===void 0&&ce(301,r.name);for(const s of o)i.configs.add(s)}return this._sortedExtensionReps=e,this._sortedExtensionReps}registerEditor(e){const t=this.sortedExtensionReps(),r=new AbortController,o=[()=>r.abort()],i=r.signal;for(const s of t){const l=s.register(e,i);l&&o.push(l)}for(const s of t){const l=s.afterRegistration(e);l&&o.push(l)}return ae(...o)}buildCreateEditorArgs(){const e={},t=new Set,r=new Map,o=new Map,i={},s={},l=this.sortedExtensionReps();for(const c of l){const{extension:d}=c;if(d.onError!==void 0&&(e.onError=d.onError),d.disableEvents!==void 0&&(e.disableEvents=d.disableEvents),d.parentEditor!==void 0&&(e.parentEditor=d.parentEditor),d.editable!==void 0&&(e.editable=d.editable),d.namespace!==void 0&&(e.namespace=d.namespace),d.$initialEditorState!==void 0&&(e.$initialEditorState=d.$initialEditorState),d.nodes)for(const f of Xp(d)){if(typeof f!="function"){const h=r.get(f.replace);h&&ce(302,d.name,f.replace.name,h.extension.name),r.set(f.replace,c)}t.add(f)}if(d.html){if(d.html.export)for(const[f,h]of d.html.export.entries())o.set(f,h);d.html.import&&Object.assign(i,d.html.import)}d.theme&&vd(s,d.theme)}Object.keys(s).length>0&&(e.theme=s),t.size&&(e.nodes=[...t]);const a=Object.keys(i).length>0,u=o.size>0;(a||u)&&(e.html={},a&&(e.html.import=i),u&&(e.html.export=o));for(const c of l)c.init(e);return e.onError||(e.onError=om),e}};function im(n,e){const t=Bl.fromEditor(n).extensionNameMap.get(e);return t?t.getExtensionDependency():void 0}const sm=K("INSERT_HORIZONTAL_RULE_COMMAND");let Kl=class Td extends pi{static getType(){return"horizontalrule"}static clone(e){return new Td(e.__key)}static importJSON(e){return Nd().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:lm,priority:0})}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const t=document.createElement("hr");return he(t,e.theme.hr),t}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}};function lm(){return{node:Nd()}}function Nd(){return qf(Kl)}function am(n){return n instanceof Kl}function um(n,e){return ae(n.registerCommand(In,t=>{const r=k();if(!T(r))return!1;t.preventDefault();const o=(function(i){if(i.getNodes().filter(d=>Ko(d)&&d.canIndent()).length>0)return!0;const s=i.anchor,l=i.focus,a=l.isBefore(s)?l:s,u=a.getNode(),c=Go(u);if(c.canIndent()){const d=c.getKey();let f=dr();if(f.anchor.set(d,0,"element"),f.focus.set(d,0,"element"),f=Zt(f),f.anchor.is(a))return!0}return!1})(r)?t.shiftKey?yn:Bt:Mo;return n.dispatchCommand(o,void 0)},B),n.registerCommand(Bt,()=>{const t=typeof e=="number"?e:e?e.peek():null;if(t==null)return!1;const r=k();if(!T(r))return!1;const o=r.getNodes().map(i=>Go(i).getIndent());return Math.max(...o)+1>=t},kf))}const cm=new Set(["http:","https:","mailto:","sms:","tel:"]);let _r=class kd extends ke{__url;__target;__rel;__title;static getType(){return"link"}static clone(e){return new kd(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e="",t={},r){super(r);const{target:o=null,rel:i=null,title:s=null}=t;this.__url=e,this.__target=o,this.__rel=i,this.__title=s}createDOM(e){const t=document.createElement("a");return this.updateLinkDOM(null,t,e),he(t,e.theme.link),t}updateLinkDOM(e,t,r){if(vl(t)){e&&e.__url===this.__url||(t.href=this.sanitizeUrl(this.__url));for(const o of["target","rel","title"]){const i=`__${o}`,s=this[i];e&&e[i]===s||(s?t[o]=s:t.removeAttribute(o))}}}updateDOM(e,t,r){return this.updateLinkDOM(e,t,r),!1}static importDOM(){return{a:e=>({conversion:fm,priority:1})}}static importJSON(e){return En().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setURL(e.url).setRel(e.rel||null).setTarget(e.target||null).setTitle(e.title||null)}sanitizeUrl(e){e=Eu(e);try{const t=new URL(Eu(e));if(!cm.has(t.protocol))return"about:blank"}catch{return e}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(e){const t=this.getWritable();return t.__url=e,t}getTarget(){return this.getLatest().__target}setTarget(e){const t=this.getWritable();return t.__target=e,t}getRel(){return this.getLatest().__rel}setRel(e){const t=this.getWritable();return t.__rel=e,t}getTitle(){return this.getLatest().__title}setTitle(e){const t=this.getWritable();return t.__title=e,t}insertNewAfter(e,t=!0){const r=En(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,t),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,r){if(!T(t))return!1;const o=t.anchor.getNode(),i=t.focus.getNode();return this.isParentOf(o)&&this.isParentOf(i)&&t.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function fm(n){let e=null;if(vl(n)){const t=n.textContent;(t!==null&&t!==""||n.children.length>0)&&(e=En(n.getAttribute("href")||"",{rel:n.getAttribute("rel"),target:n.getAttribute("target"),title:n.getAttribute("title")}))}return{node:e}}function En(n="",e){return Ie(new _r(n,e))}function et(n){return n instanceof _r}let vi=class $d extends _r{__isUnlinked;constructor(e="",t={},r){super(e,t,r),this.__isUnlinked=t.isUnlinked!==void 0&&t.isUnlinked!==null&&t.isUnlinked}static getType(){return"autolink"}static clone(e){return new $d(e.__url,{isUnlinked:e.__isUnlinked,rel:e.__rel,target:e.__target,title:e.__title},e.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(e){const t=this.getWritable();return t.__isUnlinked=e,t}createDOM(e){return this.__isUnlinked?document.createElement("span"):super.createDOM(e)}updateDOM(e,t,r){return super.updateDOM(e,t,r)||e.__isUnlinked!==this.__isUnlinked}static importJSON(e){return Fs().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIsUnlinked(e.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(e,t=!0){const r=this.getParentOrThrow().insertNewAfter(e,t);if(N(r)){const o=Fs(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return r.append(o),o}return null}};function Fs(n="",e){return Ie(new vi(n,e))}function Qe(n){return n instanceof vi}const Os=K("TOGGLE_LINK_COMMAND");function wu(n,e){if(n.type==="element"){const t=n.getNode();return N(t)||(function(r,...o){const i=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",r);for(const l of o)s.append("v",l);throw i.search=s.toString(),Error(`Minified Lexical error #${r}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(252),t.getChildren()[n.offset+e]||null}return null}function Vi(n,e={}){let t;if(n&&typeof n=="object"){const{url:c,...d}=n;t=c,e={...d,...e}}else t=n;const{target:r,title:o}=e,i=e.rel===void 0?"noreferrer":e.rel,s=k();if(s===null||!T(s)&&!Se(s))return;if(Se(s)){const c=s.getNodes();return c.length===0?void 0:void c.forEach(d=>{if(t===null){const f=H(d,h=>!Qe(h)&&et(h));f&&(f.insertBefore(d),f.getChildren().length===0&&f.remove())}else{const f=H(d,h=>!Qe(h)&&et(h));if(f)f.setURL(t),r!==void 0&&f.setTarget(r),i!==void 0&&f.setRel(i);else{const h=En(t,{rel:i,target:r});d.insertBefore(h),h.append(d)}}})}const l=s.extract();if(t===null){const c=new Set;return void l.forEach(d=>{const f=H(d,h=>!Qe(h)&&et(h));if(f!==null){const h=f.getKey();if(c.has(h))return;(function(g,m){const p=new Set(m.filter(E=>g.isParentOf(E)).map(E=>E.getKey())),y=g.getChildren(),_=E=>p.has(E.getKey())||N(E)&&m.some(w=>g.isParentOf(w)&&E.isParentOf(w)),b=y.filter(_);if(b.length===y.length)return y.forEach(E=>g.insertBefore(E)),void g.remove();const S=y.findIndex(_),x=y.findLastIndex(_),C=S===0,v=x===y.length-1;if(C)b.forEach(E=>g.insertBefore(E));else if(v)for(let E=b.length-1;E>=0;E--)g.insertAfter(b[E]);else{for(let w=b.length-1;w>=0;w--)g.insertAfter(b[w]);const E=y.slice(x+1);if(E.length>0){const w=En(g.getURL(),{rel:g.getRel(),target:g.getTarget(),title:g.getTitle()});b[b.length-1].insertAfter(w),E.forEach($=>w.append($))}}})(f,l),c.add(h)}})}const a=new Set,u=c=>{a.has(c.getKey())||(a.add(c.getKey()),c.setURL(t),r!==void 0&&c.setTarget(r),i!==void 0&&c.setRel(i),o!==void 0&&c.setTitle(o))};if(l.length===1){const c=l[0],d=H(c,et);if(d!==null)return u(d)}(function(c){const d=k();if(!T(d))return c();const f=Zt(d),h=f.isBackward(),g=wu(f.anchor,h?-1:0),m=wu(f.focus,h?0:-1);if(c(),g||m){const p=k();if(T(p)){const y=p.clone();if(g){const _=g.getParent();_&&y.anchor.set(_.getKey(),g.getIndexWithinParent()+(h?1:0),"element")}if(m){const _=m.getParent();_&&y.focus.set(_.getKey(),m.getIndexWithinParent()+(h?0:1),"element")}fe(Zt(y))}}})(()=>{let c=null;for(const d of l){if(!d.isAttached())continue;const f=H(d,et);if(f){u(f);continue}if(N(d)){if(!d.isInline())continue;if(et(d)){if(!(Qe(d)||c!==null&&c.getParentOrThrow().isParentOf(d))){u(d),c=d;continue}for(const g of d.getChildren())d.insertBefore(g);d.remove();continue}}const h=d.getPreviousSibling();et(h)&&h.is(c)?h.append(d):(c=En(t,{rel:i,target:r,title:o}),d.insertAfter(c),c.append(d))}})}const dm=/^\+?[0-9\s()-]{5,}$/;function Eu(n){return n.match(/^[a-z][a-z0-9+.-]*:/i)||n.match(/^[/#.]/)?n:n.includes("@")?`mailto:${n}`:dm.test(n)?`tel:${n}`:`https://${n}`}function gm(n,e){return ae(Kr(()=>n.registerCommand(Os,t=>{const r=e.validateUrl.peek(),o=e.attributes.peek();if(t===null)return Vi(null),!0;if(typeof t=="string")return!(r!==void 0&&!r(t))&&(Vi(t,o),!0);{const{url:i,target:s,rel:l,title:a}=t;return Vi(i,{...o,rel:l,target:s,title:a}),!0}},te)),Kr(()=>{const t=e.validateUrl.value;if(!t)return;const r=e.attributes.value;return n.registerCommand(Jr,o=>{const i=k();if(!T(i)||i.isCollapsed()||!ct(o,ClipboardEvent)||o.clipboardData===null)return!1;const s=o.clipboardData.getData("text");return!!t(s)&&!i.getNodes().some(l=>N(l))&&(n.dispatchCommand(Os,{...r,url:s}),o.preventDefault(),!0)},te)}))}function hm(n,e,t={}){const r=i=>{const s=i.target;if(!it(s))return;const l=_i(s);if(l===null)return;let a=null,u=null;if(l.update(()=>{const f=we(s);if(f!==null){const h=H(f,N);if(!e.disabled.peek())if(et(h))a=h.sanitizeUrl(h.getURL()),u=h.getTarget();else{const g=(function(m,p){let y=m;for(;y!=null;){if(p(y))return y;y=y.parentNode}return null})(s,vl);g!==null&&(a=g.href,u=g.target)}}}),a===null||a==="")return;const c=n.getEditorState().read(k);if(T(c)&&!c.isCollapsed())return void i.preventDefault();const d=i.type==="auxclick"&&i.button===1;window.open(a,e.newTab.peek()||d||i.metaKey||i.ctrlKey||u==="_blank"?"_blank":"_self"),i.preventDefault()},o=i=>{i.button===1&&r(i)};return n.registerRootListener((i,s)=>{s!==null&&(s.removeEventListener("click",r),s.removeEventListener("mouseup",o)),i!==null&&(i.addEventListener("click",r,t),i.addEventListener("mouseup",o,t))})}function fb(n,e=t=>t){return t=>{const r=n.exec(t);return r===null?null:{index:r.index,length:r[0].length,text:r[0],url:e(r[0])}}}function Rs(n,e){for(let t=0;t<e.length;t++){const r=e[t](n);if(r)return r}return null}const pm=/[.,;\s]/;function Xo(n){return pm.test(n)}function Ad(n){return Xo(n[n.length-1])}function Ls(n){return Xo(n[0])}function Fd(n){let e=n.getPreviousSibling();return N(e)&&(e=e.getLastDescendant()),e===null||de(e)||R(e)&&Ad(e.getTextContent())}function Od(n){let e=n.getNextSibling();return N(e)&&(e=e.getFirstDescendant()),e===null||de(e)||R(e)&&Ls(e.getTextContent())}function mm(n,e,t,r){return(n>0?Xo(t[n-1]):Fd(r[0]))?e<t.length?Xo(t[e]):Od(r[r.length-1]):!1}function _m(n,e,t){const r=[],o=[],i=[];let s=0,l=0;const a=[...n];for(;a.length>0;){const u=a[0],c=u.getTextContent().length,d=l;l+c<=e?(r.push(u),s+=c):d>=t?i.push(u):o.push(u),l+=c,a.shift()}return[s,r,o,i]}function ym(n,e,t,r){const o=Fs(r.url,r.attributes);if(n.length===1){let i,s=n[0];e===0?[i,s]=s.splitText(t):[,i,s]=s.splitText(e,t);const l=le(r.text);return l.setFormat(i.getFormat()),l.setDetail(i.getDetail()),l.setStyle(i.getStyle()),o.append(l),i.replace(o),s}if(n.length>1){const i=n[0];let s,l=i.getTextContent().length;e===0?s=i:[,s]=i.splitText(e);const a=[];let u;for(let h=1;h<n.length;h++){const g=n[h],m=g.getTextContent().length,p=l;if(p<t)if(l+m<=t)a.push(g);else{const[y,_]=g.splitText(t-p);a.push(y),u=_}l+=m}const c=k(),d=c?c.getNodes().find(R):void 0,f=le(s.getTextContent());return f.setFormat(s.getFormat()),f.setDetail(s.getDetail()),f.setStyle(s.getStyle()),o.append(f,...a),d&&d===s&&(T(c)?f.select(c.anchor.offset,c.focus.offset):Se(c)&&f.select(0,f.getTextContent().length)),s.replace(o),u}}function Tu(n,e,t){const r=n.getChildren(),o=r.length;for(let a=0;a<o;a++){const u=r[a];if(!R(u)||!u.isSimpleText())return Ar(n),void t(null,n.getURL())}const i=n.getTextContent(),s=Rs(i,e);if(s===null||s.text!==i||!Fd(n)||!Od(n))return Ar(n),void t(null,n.getURL());const l=n.getURL();if(l!==s.url&&(n.setURL(s.url),t(s.url,l)),s.attributes){const a=n.getRel();a!==s.attributes.rel&&(n.setRel(s.attributes.rel||null),t(s.attributes.rel||null,a));const u=n.getTarget();u!==s.attributes.target&&(n.setTarget(s.attributes.target||null),t(s.attributes.target||null,u))}}function Ar(n){const e=n.getChildren();for(let t=e.length-1;t>=0;t--)n.insertAfter(e[t]);return n.remove(),e.map(t=>t.getLatest())}const bm={changeHandlers:[],matchers:[]};function xm(n,e=bm){const{matchers:t,changeHandlers:r}=e,o=(i,s)=>{for(const l of r)l(i,s)};return ae(n.registerNodeTransform(rt,i=>{const s=i.getParentOrThrow(),l=i.getPreviousSibling();if(Qe(s)&&!s.getIsUnlinked())Tu(s,t,o);else if(!et(s)){if(i.isSimpleText()&&(Ls(i.getTextContent())||!Qe(l))){const a=(function(u){const c=[u];let d=u.getNextSibling();for(;d!==null&&R(d)&&d.isSimpleText()&&(c.push(d),!/[\s]/.test(d.getTextContent()));)d=d.getNextSibling();return c})(i);(function(u,c,d){for(const y of u){const _=y.getParent();if(Qe(_)&&!_.getIsUnlinked())return}let f=[...u];const h=f.map(y=>y.getTextContent()).join("");let g,m=h,p=0;for(;(g=Rs(m,c))&&g!==null;){const y=g.index,_=y+g.length;if(mm(p+y,p+_,h,f)){const[b,,S,x]=_m(f,p+y,p+_);let C=!1;for(const E of S){const w=E.getParent();if(Qe(w)&&!w.getIsUnlinked()){C=!0;break}}if(C){p+=_,m=m.substring(_);continue}const v=ym(S,p+y-b,p+_-b,g);f=v?[v,...x]:x,d(g.url,null),p=0}else p+=_;m=m.substring(_)}})(a,t,o)}(function(a,u,c){const d=a.getParent(),f=a.getPreviousSibling(),h=a.getNextSibling(),g=a.getTextContent();if(!Qe(d)||d.getIsUnlinked()){if(Qe(f)&&!f.getIsUnlinked()&&f.is(a.getPreviousSibling())&&a.getParent()===f.getParent()){if(!Ls(g))return Ar(f),void c(null,f.getURL());if(m=g,f.isEmailURI()?/^\.[a-zA-Z]{2,}/.test(m):/^\.[a-zA-Z0-9]{1,}/.test(m)){const p=f.getTextContent()+g,y=Rs(p,u);y!==null&&y.text===p&&(f.append(a),Tu(f,u,c),c(null,f.getURL()))}}var m;!Qe(h)||h.getIsUnlinked()||Ad(g)||h.is(a.getNextSibling())&&a.getParent()===h.getParent()&&(Ar(h),c(null,h.getURL()))}})(i,t,o)}}),n.registerCommand(Os,i=>{const s=k();return i!==null||!T(s)||s.extract().forEach(l=>{const a=l.getParent();Qe(a)&&(a.setIsUnlinked(!a.getIsUnlinked()),a.markDirty())}),!1},te))}function jt(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Ms(n){let e=1,t=n.getParent();for(;t!=null;){if(V(t)){const r=t.getParent();if(j(r)){e++,t=r.getParent();continue}jt(40)}return e}return e}function Ps(n){let e=n.getParent();j(e)||jt(40);let t=e;for(;t!==null;)t=t.getParent(),j(t)&&(e=t);return e}function Rd(n){let e=[];const t=n.getChildren().filter(V);for(let r=0;r<t.length;r++){const o=t[r],i=o.getFirstChild();j(i)?e=e.concat(Rd(i)):e.push(o)}return e}function Ct(n){return V(n)&&j(n.getFirstChild())}function Nu(n){return nt().append(n)}function Ld(n,e){return V(n)&&(e.length===0||e.length===1&&n.is(e[0])&&n.getChildrenSize()===0)}function Is(n){const e=k();if(e!==null){let t=e.getNodes();if(T(e)){const o=e.getStartEndPoints();o===null&&jt(143);const[i]=o,s=i.getNode(),l=s.getParent();if(Pe(s)){const a=s.getFirstChild();if(a)t=a.selectStart().getNodes();else{const u=Y();s.append(u),t=u.select().getNodes()}}else if(Ld(s,t)){const a=Ge(n);if(Pe(l)){s.replace(a);const u=nt();N(s)&&(u.setFormat(s.getFormatType()),u.setIndent(s.getIndent())),a.append(u)}else if(V(s)){const u=s.getParentOrThrow();Mn(a,u.getChildren()),u.replace(a)}return}}const r=new Set;for(let o=0;o<t.length;o++){const i=t[o];if(N(i)&&i.isEmpty()&&!V(i)&&!r.has(i.getKey())){ku(i,n);continue}let s=Lf(i)?i.getParent():V(i)&&i.isEmpty()?i:null;for(;s!=null;){const l=s.getKey();if(j(s)){if(!r.has(l)){const a=Ge(n);Mn(a,s.getChildren()),s.replace(a),r.add(l)}break}{const a=s.getParent();if(Pe(a)&&!r.has(l)){r.add(l),ku(s,n);break}s=a}}}}}function Mn(n,e){n.splice(n.getChildrenSize(),0,e)}function ku(n,e){if(j(n))return n;const t=n.getPreviousSibling(),r=n.getNextSibling(),o=nt();let i;if(Mn(o,n.getChildren()),j(t)&&e===t.getListType())t.append(o),j(r)&&e===r.getListType()&&(Mn(t,r.getChildren()),r.remove()),i=t;else if(j(r)&&e===r.getListType())r.getFirstChildOrThrow().insertBefore(o),i=r;else{const l=Ge(e);l.append(o),n.replace(l),i=l}o.setFormat(n.getFormatType()),o.setIndent(n.getIndent());const s=k();return T(s)&&(i.getKey()===s.anchor.key&&s.anchor.set(o.getKey(),s.anchor.offset,"element"),i.getKey()===s.focus.key&&s.focus.set(o.getKey(),s.focus.offset,"element")),n.remove(),i}function zl(n,e){const t=n.getLastChild(),r=e.getFirstChild();t&&r&&Ct(t)&&Ct(r)&&(zl(t.getFirstChild(),r.getFirstChild()),r.remove());const o=e.getChildren();o.length>0&&n.append(...o),e.remove()}function Sm(){const n=k();if(T(n)){const e=new Set,t=n.getNodes(),r=n.anchor.getNode();if(Ld(r,t))e.add(Ps(r));else for(let o=0;o<t.length;o++){const i=t[o];if(Lf(i)){const s=bp(i,an);s!=null&&e.add(Ps(s))}}for(const o of e){let i=o;const s=Rd(o);for(const l of s){const a=Y().setTextStyle(n.style).setTextFormat(n.format);Mn(a,l.getChildren()),i.insertAfter(a),i=a,l.__key===n.anchor.key&&ut(n.anchor,Be(je(a,"next"))),l.__key===n.focus.key&&ut(n.focus,Be(je(a,"next"))),l.remove()}o.remove()}}}function Md(n){const e=n.getListType()!=="check";let t=n.getStart();for(const r of n.getChildren())V(r)&&(r.getValue()!==t&&r.setValue(t),e&&r.getLatest().__checked!=null&&r.setChecked(void 0),j(r.getFirstChild())||t++)}function Cm(n){const e=new Set;if(Ct(n)||e.has(n.getKey()))return;const t=n.getParent(),r=n.getNextSibling(),o=n.getPreviousSibling();if(Ct(r)&&Ct(o)){const i=o.getFirstChild();if(j(i)){i.append(n);const s=r.getFirstChild();j(s)&&(Mn(i,s.getChildren()),r.remove(),e.add(r.getKey()))}}else if(Ct(r)){const i=r.getFirstChild();if(j(i)){const s=i.getFirstChild();s!==null&&s.insertBefore(n)}}else if(Ct(o)){const i=o.getFirstChild();j(i)&&i.append(n)}else if(j(t)){const i=nt().setTextFormat(n.getTextFormat()).setTextStyle(n.getTextStyle()),s=Ge(t.getListType()).setTextFormat(t.getTextFormat()).setTextStyle(t.getTextStyle());i.append(s),s.append(n),o?o.insertAfter(i):r?r.insertBefore(i):t.append(i)}}function vm(n){if(Ct(n))return;const e=n.getParent(),t=e?e.getParent():void 0;if(j(t?t.getParent():void 0)&&V(t)&&j(e)){const r=e?e.getFirstChild():void 0,o=e?e.getLastChild():void 0;if(n.is(r))t.insertBefore(n),e.isEmpty()&&t.remove();else if(n.is(o))t.insertAfter(n),e.isEmpty()&&t.remove();else{const i=e.getListType(),s=nt(),l=Ge(i);s.append(l),n.getPreviousSiblings().forEach(c=>l.append(c));const a=nt(),u=Ge(i);a.append(u),Mn(u,n.getNextSiblings()),t.insertBefore(s),t.insertAfter(a),t.replace(n)}}}function wm(){const n=k();if(!T(n)||!n.isCollapsed())return!1;const e=n.anchor.getNode();let t=null;if(V(e)&&e.getChildrenSize()===0)t=e;else if(R(e)){const a=e.getParent();V(a)&&a.getChildren().every(u=>R(u)&&u.getTextContent().trim()==="")&&(t=a)}if(t===null)return!1;const r=Ps(t),o=t.getParent();j(o)||jt(40);const i=o.getParent();let s;if(Pe(i))s=Y(),r.insertAfter(s);else{if(!V(i))return!1;s=nt(),i.insertAfter(s)}s.setTextStyle(n.style).setTextFormat(n.format).select();const l=t.getNextSiblings();if(l.length>0){const a=Ge(o.getListType());if(V(s)){const u=nt();u.append(a),s.insertAfter(u)}else s.insertAfter(a);a.append(...l)}return(function(a){let u=a;for(;u.getNextSibling()==null&&u.getPreviousSibling()==null;){const c=u.getParent();if(c==null||!V(c)&&!j(c))break;u=c}u.remove()})(t),!0}class an extends ke{__value;__checked;$config(){return this.config("listitem",{$transform:e=>{if(e.__checked==null)return;const t=e.getParent();j(t)&&t.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)},extends:ke,importDOM:{li:()=>({conversion:Em,priority:0})}})}constructor(e=1,t=void 0,r){super(r),this.__value=e===void 0?1:e,this.__checked=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__value=e.__value,this.__checked=e.__checked}createDOM(e){const t=document.createElement("li");return this.updateListItemDOM(null,t,e),t}updateListItemDOM(e,t,r){(function(s,l,a){const u=l.getParent();!j(u)||u.getListType()!=="check"||j(l.getFirstChild())?(s.removeAttribute("role"),s.removeAttribute("tabIndex"),s.removeAttribute("aria-checked")):(s.setAttribute("role","checkbox"),s.setAttribute("tabIndex","-1"),a&&l.__checked===a.__checked||s.setAttribute("aria-checked",l.getChecked()?"true":"false"))})(t,this,e),t.value=this.__value,(function(s,l,a){const u=[],c=[],d=l.list,f=d?d.listitem:void 0;let h;if(d&&d.nested&&(h=d.nested.listitem),f!==void 0&&u.push(...rn(f)),d){const g=a.getParent(),m=j(g)&&g.getListType()==="check",p=a.getChecked();m&&!p||c.push(d.listitemUnchecked),m&&p||c.push(d.listitemChecked),m&&u.push(p?d.listitemChecked:d.listitemUnchecked)}if(h!==void 0){const g=rn(h);a.getChildren().some(m=>j(m))?u.push(...g):c.push(...g)}c.length>0&&ht(s,...c),u.length>0&&he(s,...u)})(t,r.theme,this);const o=e?e.__style:"",i=this.__style;o!==i&&(i===""?t.removeAttribute("style"):t.style.cssText=i),(function(s,l,a){const u=Br(l.__textStyle);for(const c in u)s.style.setProperty(`--listitem-marker-${c}`,u[c]);if(a)for(const c in Br(a.__textStyle))c in u||s.style.removeProperty(`--listitem-marker-${c}`)})(t,this,e)}updateDOM(e,t,r){const o=t;return this.updateListItemDOM(e,o,r),!1}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){const t=this.createDOM(e._config),r=this.getFormatType();r&&(t.style.textAlign=r);const o=this.getDirection();return o&&(t.dir=o),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let t=0;t<e.length;t++){const r=e[t];if(N(r)&&this.canMergeWith(r)){const o=r.getChildren();this.append(...o),r.remove()}else super.append(r)}return this}replace(e,t){if(V(e))return super.replace(e);this.setIndent(0);const r=this.getParentOrThrow();if(!j(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{const o=Ge(r.getListType());let i=this.getNextSibling();for(;i;){const s=i;i=i.getNextSibling(),o.append(s)}r.insertAfter(e),e.insertAfter(o)}return t&&(N(e)||jt(139),this.getChildren().forEach(o=>{e.append(o)})),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,t=!0){const r=this.getParentOrThrow();if(j(r)||jt(39),V(e))return super.insertAfter(e,t);const o=this.getNextSiblings();if(r.insertAfter(e,t),o.length!==0){const i=Ge(r.getListType());o.forEach(s=>i.append(s)),e.insertAfter(i,t)}return e}remove(e){const t=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),t&&r&&Ct(t)&&Ct(r)&&(zl(t.getFirstChild(),r.getFirstChild()),r.remove())}insertNewAfter(e,t=!0){const r=nt().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(r,t),r}collapseAtStart(e){const t=Y();this.getChildren().forEach(s=>t.append(s));const r=this.getParentOrThrow(),o=r.getParentOrThrow(),i=V(o);if(r.getChildrenSize()===1)if(i)r.remove(),o.select();else{r.insertBefore(t),r.remove();const s=e.anchor,l=e.focus,a=t.getKey();s.type==="element"&&s.getNode().is(this)&&s.set(a,s.offset,"element"),l.type==="element"&&l.getNode().is(this)&&l.set(a,l.offset,"element")}else r.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){const t=this.getWritable();return t.__value=e,t}getChecked(){const e=this.getLatest();let t;const r=this.getParent();return j(r)&&(t=r.getListType()),t==="check"?!!e.__checked:void 0}setChecked(e){const t=this.getWritable();return t.__checked=e,t}toggleChecked(){const e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){const e=this.getParent();if(e===null||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),r=0;for(;V(t);)t=t.getParentOrThrow().getParentOrThrow(),r++;return r}setIndent(e){typeof e!="number"&&jt(117),(e=Math.floor(e))>=0||jt(199);let t=this.getIndent();for(;t!==e;)t<e?(Cm(this),t++):(vm(this),t--);return this}canInsertAfter(e){return V(e)}canReplaceWith(e){return V(e)}canMergeWith(e){return V(e)||ln(e)}extractWithChild(e,t){if(!T(t))return!1;const r=t.anchor.getNode(),o=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(o)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Ge("bullet")}canMergeWhenEmpty(){return!0}}function Em(n){if(n.classList.contains("task-list-item")){for(const t of n.children)if(t.tagName==="INPUT")return $u(t)}if(n.classList.contains("joplin-checkbox")){for(const t of n.children)if(t.classList.contains("checkbox-wrapper")&&t.children.length>0&&t.children[0].tagName==="INPUT")return $u(t.children[0])}const e=n.getAttribute("aria-checked");return{node:nt(e==="true"||e!=="false"&&void 0)}}function $u(n){return n.getAttribute("type")!=="checkbox"?{node:null}:{node:nt(n.hasAttribute("checked"))}}function nt(n){return Ie(new an(void 0,n))}function V(n){return n instanceof an}class Kn extends ke{__tag;__start;__listType;$config(){return this.config("list",{$transform:e=>{(function(t){const r=t.getNextSibling();j(r)&&t.getListType()===r.getListType()&&zl(t,r)})(e),Md(e)},extends:ke,importDOM:{ol:()=>({conversion:Fu,priority:0}),ul:()=>({conversion:Fu,priority:0})}})}constructor(e="number",t=1,r){super(r);const o=Nm[e]||e;this.__listType=o,this.__tag=o==="number"?"ol":"ul",this.__start=t}afterCloneFrom(e){super.afterCloneFrom(e),this.__listType=e.__listType,this.__tag=e.__tag,this.__start=e.__start}getTag(){return this.getLatest().__tag}setListType(e){const t=this.getWritable();return t.__listType=e,t.__tag=e==="number"?"ol":"ul",t}getListType(){return this.getLatest().__listType}getStart(){return this.getLatest().__start}setStart(e){const t=this.getWritable();return t.__start=e,t}createDOM(e,t){const r=this.__tag,o=document.createElement(r);return this.__start!==1&&o.setAttribute("start",String(this.__start)),o.__lexicalListType=this.__listType,Au(o,e.theme,this),o}updateDOM(e,t,r){return e.__tag!==this.__tag||e.__listType!==this.__listType||(Au(t,r.theme,this),!1)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){const t=this.createDOM(e._config,e);return Q(t)&&(this.__start!==1&&t.setAttribute("start",String(this.__start)),this.__listType==="check"&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,r){let o=r;for(let i=0;i<r.length;i++){const s=r[i];V(s)||(o===r&&(o=[...r]),o[i]=nt().append(!N(s)||j(s)||s.isInline()?s:le(s.getTextContent())))}return super.splice(e,t,o)}extractWithChild(e){return V(e)}}function Au(n,e,t){const r=[],o=[],i=e.list;if(i!==void 0){const s=i[`${t.__tag}Depth`]||[],l=Ms(t)-1,a=l%s.length,u=s[a],c=i[t.__tag];let d;const f=i.nested,h=i.checklist;if(f!==void 0&&f.list&&(d=f.list),c!==void 0&&r.push(c),h!==void 0&&t.__listType==="check"&&r.push(h),u!==void 0){r.push(...rn(u));for(let g=0;g<s.length;g++)g!==a&&o.push(t.__tag+g)}if(d!==void 0){const g=rn(d);l>1?r.push(...g):o.push(...g)}}o.length>0&&ht(n,...o),r.length>0&&he(n,...r)}function Tm(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];if(V(r)){e.push(r);const o=r.getChildren();o.length>1&&o.forEach(i=>{j(i)&&e.push(Nu(i))})}else e.push(Nu(r))}return e}function Fu(n){const e=n.nodeName.toLowerCase();let t=null;return e==="ol"?t=Ge("number",n.start):e==="ul"&&(t=(function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list")||r.getAttribute("data-is-checklist")==="1")return!0;for(const o of r.childNodes)if(Q(o)&&o.hasAttribute("aria-checked"))return!0;return!1})(n)?Ge("check"):Ge("bullet")),{after:Tm,node:t}}const Nm={ol:"number",ul:"bullet"};function Ge(n="number",e=1){return Ie(new Kn(n,e))}function j(n){return n instanceof Kn}const km=K("INSERT_CHECK_LIST_COMMAND");function $m(n){return ae(n.registerCommand(km,()=>(Is("check"),!0),te),n.registerCommand(en,e=>Lu(e,n,!1),te),n.registerCommand(Nt,e=>Lu(e,n,!0),te),n.registerCommand(ur,()=>{if(Ds()!=null){const e=n.getRootElement();return e?.focus(),!0}return!1},te),n.registerCommand(il,e=>{const t=Ds();return!(t==null||!n.isEditable())&&(n.update(()=>{const r=we(t);V(r)&&(e.preventDefault(),r.toggleChecked())}),!0)},te),n.registerCommand(qr,e=>n.getEditorState().read(()=>{const t=k();if(T(t)&&t.isCollapsed()){const{anchor:r}=t,o=r.type==="element";if(o||r.offset===0){const i=r.getNode(),s=H(i,l=>N(l)&&!l.isInline());if(V(s)){const l=s.getParent();if(j(l)&&l.getListType()==="check"&&(o||s.getFirstDescendant()===i)){const a=n.getElementByKey(s.__key);if(a!=null&&document.activeElement!==a)return a.focus(),e.preventDefault(),!0}}}}return!1}),te),n.registerRootListener((e,t)=>{e!==null&&(e.addEventListener("click",Ou),e.addEventListener("pointerdown",Ru)),t!==null&&(t.removeEventListener("click",Ou),t.removeEventListener("pointerdown",Ru))}))}function Pd(n,e){const t=n.target;if(!Q(t))return;const r=t.firstChild;if(Q(r)&&(r.tagName==="UL"||r.tagName==="OL"))return;const o=t.parentNode;if(!o||o.__lexicalListType!=="check")return;const i=t.getBoundingClientRect(),s=vn(t),l=n.clientX/s,a=window.getComputedStyle?window.getComputedStyle(t,"::before"):{width:"0px"},u=parseFloat(a.width),c=n.pointerType==="touch"?32:0;(t.dir==="rtl"?l<i.right+c&&l>i.right-u-c:l>i.left-c&&l<i.left+u+c)&&e()}function Ou(n){Pd(n,()=>{if(Q(n.target)){const e=n.target,t=_i(e);t!=null&&t.isEditable()&&t.update(()=>{const r=we(e);V(r)&&(e.focus(),r.toggleChecked())})}})}function Ru(n){Pd(n,()=>{n.preventDefault()})}function Ds(){const n=document.activeElement;return Q(n)&&n.tagName==="LI"&&n.parentNode!=null&&n.parentNode.__lexicalListType==="check"?n:null}function Lu(n,e,t){const r=Ds();return r!=null&&e.update(()=>{const o=we(r);if(!V(o))return;const i=(function(s,l){let a=l?s.getPreviousSibling():s.getNextSibling(),u=s;for(;a==null&&V(u);)u=u.getParentOrThrow().getParent(),u!=null&&(a=l?u.getPreviousSibling():u.getNextSibling());for(;V(a);){const c=l?a.getLastChild():a.getFirstChild();if(!j(c))return a;a=l?c.getLastChild():c.getFirstChild()}return null})(o,t);if(i!=null){i.selectStart();const s=e.getElementByKey(i.__key);s!=null&&(n.preventDefault(),setTimeout(()=>{s.focus()},0))}}),!1}const Am=K("UPDATE_LIST_START_COMMAND"),Fm=K("INSERT_UNORDERED_LIST_COMMAND"),Om=K("INSERT_ORDERED_LIST_COMMAND"),Rm=K("REMOVE_LIST_COMMAND");function Lm(n){return ae(n.registerCommand(Om,()=>(Is("number"),!0),te),n.registerCommand(Am,e=>{const{listNodeKey:t,newStart:r}=e,o=G(t);return!!j(o)&&(o.getListType()==="number"&&(o.setStart(r),Md(o)),!0)},te),n.registerCommand(Fm,()=>(Is("bullet"),!0),te),n.registerCommand(Rm,()=>(Sm(),!0),te),n.registerCommand(Xt,()=>wm(),te),n.registerNodeTransform(an,e=>{const t=e.getFirstChild();if(t){if(R(t)){const r=t.getStyle(),o=t.getFormat();e.getTextStyle()!==r&&e.setTextStyle(r),e.getTextFormat()!==o&&e.setTextFormat(o)}}else{const r=k();T(r)&&(r.style!==e.getTextStyle()||r.format!==e.getTextFormat())&&r.isCollapsed()&&e.is(r.anchor.getNode())&&e.setTextStyle(r.style).setTextFormat(r.format)}}),n.registerNodeTransform(rt,e=>{const t=e.getParent();if(V(t)&&e.is(t.getFirstChild())){const r=e.getStyle(),o=e.getFormat();r===t.getTextStyle()&&o===t.getTextFormat()||t.setTextStyle(r).setTextFormat(o)}}))}function Mm(n){const e=t=>{const r=t.getParent();if(j(t.getFirstChild())||!j(r))return;const o=H(t,i=>V(i)&&j(i.getParent())&&V(i.getPreviousSibling()));if(o===null&&t.getIndent()>0)t.setIndent(0);else if(V(o)){const i=o.getPreviousSibling();if(V(i)){const s=(function(a){let u=a,c=u.getFirstChild();for(;j(c);){const d=c.getLastChild();if(!V(d))break;u=d,c=u.getFirstChild()}return u})(i),l=s.getParent();if(j(l)){const a=Ms(l);a+1<Ms(r)&&t.setIndent(a)}}}};return n.registerNodeTransform(Kn,t=>{const r=[t];for(;r.length>0;){const o=r.shift();if(j(o)){for(const i of o.getChildren())if(V(i)){e(i);const s=i.getFirstChild();j(s)&&r.push(s)}}}})}const Id=[];let Pm=class Dd extends ke{__ids;static getType(){return"mark"}static clone(e){return new Dd(e.__ids,e.__key)}static importDOM(){return null}static importJSON(e){return Mu().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setIDs(e.ids)}exportJSON(){return{...super.exportJSON(),ids:this.getIDs()}}constructor(e=Id,t){super(t),this.__ids=e}createDOM(e){const t=document.createElement("mark");return he(t,e.theme.mark),this.__ids.length>1&&he(t,e.theme.markOverlap),t}updateDOM(e,t,r){const o=e.__ids,i=this.__ids,s=o.length,l=i.length,a=r.theme.markOverlap;return s!==l&&(s===1?l===2&&he(t,a):l===1&&ht(t,a)),!1}hasID(e){return this.getIDs().includes(e)}getIDs(){return Array.from(this.getLatest().__ids)}setIDs(e){const t=this.getWritable();return t.__ids=e,t}addID(e){const t=this.getWritable();return t.__ids.includes(e)?t:t.setIDs([...t.__ids,e])}deleteID(e){const t=this.getWritable(),r=t.__ids.indexOf(e);if(r===-1)return t;const o=Array.from(t.__ids);return o.splice(r,1),t.setIDs(o)}insertNewAfter(e,t=!0){const r=Mu(this.__ids);return this.insertAfter(r,t),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t,r){if(!T(t)||r==="html")return!1;const o=t.anchor,i=t.focus,s=o.getNode(),l=i.getNode(),a=t.isBackward()?o.offset-i.offset:i.offset-o.offset;return this.isParentOf(s)&&this.isParentOf(l)&&this.getTextContent().length===a}excludeFromCopy(e){return e!=="clone"}};function Mu(n=Id){return Ie(new Pm(n))}let db=class extends ke{$config(){return this.config("overflow",{$transform(e){e.isEmpty()&&e.remove()},extends:ke})}createDOM(e){const t=document.createElement("span"),r=e.theme.characterLimit;return typeof r=="string"&&(t.className=r),t}updateDOM(e,t){return!1}insertNewAfter(e,t=!0){return this.getParentOrThrow().insertNewAfter(e,t)}excludeFromCopy(){return!0}};const Qo=F.createContext(null);function Bd(n,e){let t=null;return n!=null&&(t=n[1]),{getTheme:function(){return e??(t!=null?t.getTheme():null)}}}function ee(){const n=F.useContext(Qo);return n==null&&(function(e,...t){const r=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams;o.append("code",e);for(const i of t)o.append("v",i);throw r.search=o.toString(),Error(`Minified Lexical error #${e}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(8),n}function Pu(n,e){return n.getEditorState().read(()=>{const t=G(e);return t!==null&&t.isSelected()})}function Kd(n){const[e]=ee(),[t,r]=F.useState(()=>Pu(e,n));return F.useEffect(()=>{let o=!0;const i=e.registerUpdateListener(()=>{o&&r(Pu(e,n))});return()=>{o=!1,i()}},[e,n]),[t,F.useCallback(o=>{e.update(()=>{let i=k();Se(i)||(i=fl(),fe(i)),Se(i)&&(o?i.add(n):i.delete(n))})},[e,n]),F.useCallback(()=>{e.update(()=>{const o=k();Se(o)&&o.clear()})},[e])]}function Im({nodeKey:n}){const[e]=ee(),[t,r,o]=Kd(n);return F.useEffect(()=>ae(e.registerCommand(jr,i=>{const s=e.getElementByKey(n);return i.target===s&&(i.shiftKey||o(),r(!t),!0)},te)),[o,e,t,n,r]),F.useEffect(()=>{const i=e.getElementByKey(n),s=e._config.theme.hrSelected??"selected";i!==null&&(t?he(i,s):ht(i,s))},[e,t,n]),null}let zd=class Wd extends Kl{static getType(){return"horizontalrule"}static clone(e){return new Wd(e.__key)}static importJSON(e){return wi().updateFromJSON(e)}static importDOM(){return{hr:()=>({conversion:Dm,priority:0})}}decorate(){return ne.jsx(Im,{nodeKey:this.__key})}};function Dm(){return{node:wi()}}function wi(){return Ie(new zd)}function Bm(n,e){const t=Rf(e)?e.body.childNodes:e.childNodes;let r=[];const o=[];for(const i of t)if(!Hd.has(i.nodeName)){const s=jd(i,n,o,!1);s!==null&&(r=r.concat(s))}return(function(i){for(const s of i)s.getNextSibling()instanceof hl&&s.insertAfter(tt());for(const s of i){const l=s.getChildren();for(const a of l)s.insertBefore(a);s.remove()}})(o),r}function Km(n,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),r=ge().getChildren();for(let o=0;o<r.length;o++)Ud(n,r[o],t,e);return t.innerHTML}function Ud(n,e,t,r=null){let o=r===null||e.isSelected(r);const i=N(e)&&e.excludeFromCopy("html");let s=e;r!==null&&R(e)&&(s=td(r,e,"clone"));const l=N(s)?s.getChildren():[],a=mi(n,s.getType());let u;u=a&&a.exportDOM!==void 0?a.exportDOM(n,s):s.exportDOM(n);const{element:c,after:d}=u;if(!c)return!1;const f=document.createDocumentFragment();for(let h=0;h<l.length;h++){const g=l[h],m=Ud(n,g,f,r);!o&&N(e)&&m&&e.extractWithChild(g,r,"html")&&(o=!0)}if(o&&!i){if((Q(c)||ws(c))&&c.append(f),t.append(c),d){const h=d.call(s,c);h&&(ws(c)?c.replaceChildren(h):c.replaceWith(h))}}else t.append(f);return o}const Hd=new Set(["STYLE","SCRIPT"]);function jd(n,e,t,r,o=new Map,i){let s=[];if(Hd.has(n.nodeName))return s;let l=null;const a=(function(g,m){const{nodeName:p}=g,y=m._htmlConversions.get(p.toLowerCase());let _=null;if(y!==void 0)for(const b of y){const S=b(g);S!==null&&(_===null||(_.priority||0)<=(S.priority||0))&&(_=S)}return _!==null?_.conversion:null})(n,e),u=a?a(n):null;let c=null;if(u!==null){c=u.after;const g=u.node;if(l=Array.isArray(g)?g[g.length-1]:g,l!==null){for(const[,m]of o)if(l=m(l,i),!l)break;l&&s.push(...Array.isArray(g)?g:[l])}u.forChild!=null&&o.set(n.nodeName,u.forChild)}const d=n.childNodes;let f=[];const h=(l==null||!Pe(l))&&(l!=null&&Ko(l)||r);for(let g=0;g<d.length;g++)f.push(...jd(d[g],e,t,h,new Map(o),l));return c!=null&&(f=c(f)),jo(n)&&(f=zm(n,f,h?()=>{const g=new hl;return t.push(g),g}:Y)),l==null?f.length>0?s=s.concat(f):jo(n)&&(function(g){return g.nextSibling==null||g.previousSibling==null?!1:Es(g.nextSibling)&&Es(g.previousSibling)})(n)&&(s=s.concat(tt())):N(l)&&l.append(...f),s}function zm(n,e,t){const r=n.style.textAlign,o=[];let i=[];for(let s=0;s<e.length;s++){const l=e[s];if(Ko(l))r&&!l.getFormat()&&l.setFormat(r),o.push(l);else if(i.push(l),s===e.length-1||s<e.length-1&&Ko(e[s+1])){const a=t();a.setFormat(r),a.append(...i),o.push(a),i=[]}}return o}function ei(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function Jd(n,e=k()){return e==null&&ei(166),T(e)&&e.isCollapsed()||e.getNodes().length===0?"":Km(n,e)}function Wm(n,e=k()){return e==null&&ei(166),T(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(Um(n,e))}function Iu(n,e){const t=n.getData("text/plain")||n.getData("text/uri-list");t!=null&&e.insertRawText(t)}function Du(n,e,t){const r=n.getData("application/x-lexical-editor");if(r)try{const l=JSON.parse(r);if(l.namespace===t._config.namespace&&Array.isArray(l.nodes))return Bu(t,Hm(l.nodes),e)}catch(l){console.error(l)}const o=n.getData("text/html"),i=n.getData("text/plain");if(o&&i!==o)try{const l=new DOMParser().parseFromString((function(a){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:u=>u}).createHTML(a):a})(o),"text/html");return Bu(t,Bm(t,l),e)}catch(l){console.error(l)}const s=i||n.getData("text/uri-list");if(s!=null)if(T(e)){const l=s.split(/(\r?\n|\t)/);l[l.length-1]===""&&l.pop();for(let a=0;a<l.length;a++){const u=k();if(T(u)){const c=l[a];c===`
`||c===`\r
`?u.insertParagraph():c==="	"?u.insertNodes([gt()]):u.insertText(c)}}}else e.insertRawText(s)}function Bu(n,e,t){n.dispatchCommand(Gc,{nodes:e,selection:t})||(t.insertNodes(e),(function(r){if(T(r)&&r.isCollapsed()){const o=r.anchor;let i=null;const s=mt(o,"previous");if(s)if(Et(s))i=s.origin;else{const l=Kt(s,je(ge(),"next").getFlipped());for(const a of l){if(R(a.origin)){i=a.origin;break}if(N(a.origin)&&!a.origin.isInline())break}}if(i&&R(i)){const l=i.getFormat(),a=i.getStyle();r.format===l&&r.style===a||(r.format=l,r.style=a,r.dirty=!0)}}})(t))}function qd(n,e,t,r=[]){let o=e===null||t.isSelected(e);const i=N(t)&&t.excludeFromCopy("html");let s=t;e!==null&&R(s)&&(s=td(e,s,"clone"));const l=N(s)?s.getChildren():[],a=(function(u){const c=u.exportJSON(),d=u.constructor;if(c.type!==d.getType()&&ei(58,d.name),N(u)){const f=c.children;Array.isArray(f)||ei(59,d.name)}return c})(s);R(s)&&s.getTextContentSize()===0&&(o=!1);for(let u=0;u<l.length;u++){const c=l[u],d=qd(n,e,c,a.children);!o&&N(t)&&d&&t.extractWithChild(c,e,"clone")&&(o=!0)}if(o&&!i)r.push(a);else if(Array.isArray(a.children))for(let u=0;u<a.children.length;u++){const c=a.children[u];r.push(c)}return o}function Um(n,e){const t=[],r=ge().getChildren();for(let o=0;o<r.length;o++)qd(n,e,r[o],t);return{namespace:n._config.namespace,nodes:t}}function Hm(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t],o=vh(r);R(o)&&np(o),e.push(o)}return e}let Jn=null;async function Bs(n,e,t){if(Jn!==null)return!1;if(e!==null)return new Promise((u,c)=>{n.update(()=>{u(Ku(n,e,t))})});const r=n.getRootElement(),o=n._window||window,i=o.document,s=We(o);if(r===null||s===null)return!1;const l=i.createElement("span");l.style.cssText="position: fixed; top: -1000px;",l.append(i.createTextNode("#")),r.append(l);const a=new Range;return a.setStart(l,0),a.setEnd(l,1),s.removeAllRanges(),s.addRange(a),new Promise((u,c)=>{const d=n.registerCommand(Yr,f=>(ct(f,ClipboardEvent)&&(d(),Jn!==null&&(o.clearTimeout(Jn),Jn=null),u(Ku(n,f,t))),!0),kf);Jn=o.setTimeout(()=>{d(),Jn=null,u(!1)},50),i.execCommand("copy"),l.remove()})}function Ku(n,e,t){if(t===void 0){const o=We(n._window),i=k();if(!i||i.isCollapsed()||!o)return!1;const s=o.anchorNode,l=o.focusNode;if(s!==null&&l!==null&&!Zr(n,s,l))return!1;t=Vd(i)}e.preventDefault();const r=e.clipboardData;return r!==null&&(jm(r,t),!0)}const Yd=[["text/html",Jd],["application/x-lexical-editor",Wm]];function Vd(n=k()){const e={"text/plain":n?n.getTextContent():""};if(n){const t=mr();for(const[r,o]of Yd){const i=o(t,n);i!==null&&(e[r]=i)}}return e}function jm(n,e){for(const[t]of Yd)e[t]===void 0&&n.setData(t,"");for(const t in e){const r=e[t];r!==void 0&&n.setData(t,r)}}function Gd(n){const e=window.location.origin,t=r=>{if(r.origin!==e)return;const o=n.getRootElement();if(document.activeElement!==o)return;const i=r.data;if(typeof i=="string"){let s;try{s=JSON.parse(i)}catch{return}if(s&&s.protocol==="nuanria_messaging"&&s.type==="request"){const l=s.payload;if(l&&l.functionId==="makeChanges"){const a=l.args;if(a){const[u,c,d,f,h]=a;n.update(()=>{const g=k();if(T(g)){const m=g.anchor;let p=m.getNode(),y=0,_=0;if(R(p)&&u>=0&&c>=0&&(y=u,_=u+c,g.setTextNodeRange(p,y,p,_)),y===_&&d===""||(g.insertRawText(d),p=m.getNode()),R(p)){y=f,_=f+h;const b=p.getTextContentSize();y=y>b?b:y,_=_>b?b:_,g.setTextNodeRange(p,y,p,_)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",t,!0),()=>{window.removeEventListener("message",t,!0)}}function zu(n,e){if(document.caretRangeFromPoint!==void 0){const t=document.caretRangeFromPoint(n,e);return t===null?null:{node:t.startContainer,offset:t.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const t=document.caretPositionFromPoint(n,e);return t===null?null:{node:t.offsetNode,offset:t.offset}}return null}const zn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Jm=zn&&"documentMode"in document?document.documentMode:null,qm=zn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Ym=!(!zn||!("InputEvent"in window)||Jm)&&"getTargetRanges"in new window.InputEvent("input"),Vm=zn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Wu=zn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Gm=zn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Zm=zn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&qm&&!Gm,Uu=K("DRAG_DROP_PASTE_FILE");let Wl=class Zd extends ke{static getType(){return"quote"}static clone(e){return new Zd(e.__key)}createDOM(e){const t=document.createElement("blockquote");return he(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:Xm,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(Q(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r);const o=this.getDirection();o&&(t.dir=o)}return{element:t}}static importJSON(e){return Ul().updateFromJSON(e)}insertNewAfter(e,t){const r=Y(),o=this.getDirection();return r.setDirection(o),this.insertAfter(r,t),r}collapseAtStart(){const e=Y();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}};function Ul(){return Ie(new Wl)}function Ks(n){return n instanceof Wl}let Hl=class Xd extends ke{__tag;static getType(){return"heading"}static clone(e){return new Xd(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){const t=this.getWritable();return this.__tag=e,t}createDOM(e){const t=this.__tag,r=document.createElement(t),o=e.theme.heading;if(o!==void 0){const i=o[t];he(r,i)}return r}updateDOM(e,t,r){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:qn,priority:0}),h2:e=>({conversion:qn,priority:0}),h3:e=>({conversion:qn,priority:0}),h4:e=>({conversion:qn,priority:0}),h5:e=>({conversion:qn,priority:0}),h6:e=>({conversion:qn,priority:0}),p:e=>{const t=e.firstChild;return t!==null&&Hu(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>Hu(e)?{conversion:t=>({node:er("h1")}),priority:3}:null}}exportDOM(e){const{element:t}=super.exportDOM(e);if(Q(t)){this.isEmpty()&&t.append(document.createElement("br"));const r=this.getFormatType();r&&(t.style.textAlign=r);const o=this.getDirection();o&&(t.dir=o)}return{element:t}}static importJSON(e){return er(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){const r=e?e.anchor.offset:0,o=this.getLastDescendant(),i=!o||e&&e.anchor.key===o.getKey()&&r===o.getTextContentSize()||!e?Y():er(this.getTag()),s=this.getDirection();if(i.setDirection(s),this.insertAfter(i,t),r===0&&!this.isEmpty()&&e){const l=Y();l.select(),this.replace(l,!0)}return i}collapseAtStart(){const e=this.isEmpty()?Y():er(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}};function Hu(n){return n.nodeName.toLowerCase()==="span"&&n.style.fontSize==="26pt"}function qn(n){const e=n.nodeName.toLowerCase();let t=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(t=er(e),n.style!==null&&(wl(n,t),t.setFormat(n.style.textAlign))),{node:t}}function Xm(n){const e=Ul();return n.style!==null&&(e.setFormat(n.style.textAlign),wl(n,e)),{node:e}}function er(n="h1"){return Ie(new Hl(n))}function Qm(n){return n instanceof Hl}function tr(n){let e=null;if(ct(n,DragEvent)?e=n.dataTransfer:ct(n,ClipboardEvent)&&(e=n.clipboardData),e===null)return[!1,[],!1];const t=e.types,r=t.includes("Files"),o=t.includes("text/html")||t.includes("text/plain");return[r,Array.from(e.files),o]}function ju(n){const e=k();if(!T(e))return!1;const t=new Set,r=e.getNodes();for(let o=0;o<r.length;o++){const i=r[o],s=i.getKey();if(t.has(s))continue;const l=H(i,u=>N(u)&&!u.isInline());if(l===null)continue;const a=l.getKey();l.canIndent()&&!t.has(a)&&(t.add(a),n(l))}return t.size>0}function Ju(n){const e=we(n);return Z(e)}function Gi(n){for(const e of["lowercase","uppercase","capitalize"])n.hasFormat(e)&&n.toggleFormat(e)}function e_(n){return ae(n.registerCommand(jr,e=>{const t=k();return!!Se(t)&&(t.clear(),!0)},B),n.registerCommand(dt,e=>{const t=k();return T(t)?(t.deleteCharacter(e),!0):!!Se(t)&&(t.deleteNodes(),!0)},B),n.registerCommand($n,e=>{const t=k();return!!T(t)&&(t.deleteWord(e),!0)},B),n.registerCommand(Qt,e=>{const t=k();return!!T(t)&&(t.deleteLine(e),!0)},B),n.registerCommand(qt,e=>{const t=k();if(typeof e=="string")t!==null&&t.insertText(e);else{if(t===null)return!1;const r=e.dataTransfer;if(r!=null)Du(r,t,n);else if(T(t)){const o=e.data;return o&&t.insertText(o),!0}}return!0},B),n.registerCommand(Ro,()=>{const e=k();return!!T(e)&&(e.removeText(),!0)},B),n.registerCommand(Pt,e=>{const t=k();return!!T(t)&&(t.formatText(e),!0)},B),n.registerCommand(sl,e=>{const t=k();if(!T(t)&&!Se(t))return!1;const r=t.getNodes();for(const o of r){const i=H(o,s=>N(s)&&!s.isInline());i!==null&&i.setFormat(e)}return!0},B),n.registerCommand(Jt,e=>{const t=k();return!!T(t)&&(t.insertLineBreak(e),!0)},B),n.registerCommand(Xt,()=>{const e=k();return!!T(e)&&(e.insertParagraph(),!0)},B),n.registerCommand(Mo,()=>(Cf([gt()]),!0),B),n.registerCommand(Bt,()=>ju(e=>{const t=e.getIndent();e.setIndent(t+1)}),B),n.registerCommand(yn,()=>ju(e=>{const t=e.getIndent();t>0&&e.setIndent(Math.max(0,t-1))}),B),n.registerCommand(Nt,e=>{const t=k();if(Se(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}else if(T(t)){const r=Ss(t.focus,!0);if(!e.shiftKey&&Z(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1},B),n.registerCommand(en,e=>{const t=k();if(Se(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectNext(0,0),!0}else if(T(t)){if((function(o){const i=o.focus;return i.key==="root"&&i.offset===ge().getChildrenSize()})(t))return e.preventDefault(),!0;const r=Ss(t.focus,!1);if(!e.shiftKey&&Z(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},B),n.registerCommand(qr,e=>{const t=k();if(Se(t)){const r=t.getNodes();if(r.length>0)return e.preventDefault(),Za(r[0])?r[0].selectNext(0,0):r[0].selectPrevious(),!0}if(!T(t))return!1;if(qo(t,!0)){const r=e.shiftKey;return e.preventDefault(),Yo(t,r,!0),!0}return!1},B),n.registerCommand(ai,e=>{const t=k();if(Se(t)){const o=t.getNodes();if(o.length>0)return e.preventDefault(),Za(o[0])?o[0].selectPrevious():o[0].selectNext(0,0),!0}if(!T(t))return!1;const r=e.shiftKey;return!!qo(t,!1)&&(e.preventDefault(),Yo(t,r,!1),!0)},B),n.registerCommand(ui,e=>{if(Ju(e.target))return!1;const t=k();if(T(t)){if((function(r){if(!r.isCollapsed())return!1;const{anchor:o}=r;if(o.offset!==0)return!1;const i=o.getNode();if(ve(i))return!1;const s=Go(i);return s.getIndent()>0&&(s.is(i)||i.is(s.getFirstDescendant()))})(t))return e.preventDefault(),n.dispatchCommand(yn,void 0);if(Wu&&navigator.language==="ko-KR")return!1}else if(!Se(t))return!1;return e.preventDefault(),n.dispatchCommand(dt,!0)},B),n.registerCommand(ci,e=>{if(Ju(e.target))return!1;const t=k();return!(!T(t)&&!Se(t))&&(e.preventDefault(),n.dispatchCommand(dt,!1))},B),n.registerCommand(An,e=>{const t=k();if(!T(t))return!1;if(Gi(t),e!==null){if((Wu||Vm||Zm)&&Ym)return!1;if(e.preventDefault(),e.shiftKey)return n.dispatchCommand(Jt,!1)}return n.dispatchCommand(Xt,void 0)},B),n.registerCommand(ur,()=>{const e=k();return!!T(e)&&(n.blur(),!0)},B),n.registerCommand(fi,e=>{const[,t]=tr(e);if(t.length>0){const o=zu(e.clientX,e.clientY);if(o!==null){const{offset:i,node:s}=o,l=we(s);if(l!==null){const a=dr();if(R(l))a.anchor.set(l.getKey(),i,"text"),a.focus.set(l.getKey(),i,"text");else{const c=l.getParentOrThrow().getKey(),d=l.getIndexWithinParent()+1;a.anchor.set(c,d,"element"),a.focus.set(c,d,"element")}const u=Zt(a);fe(u)}n.dispatchCommand(Uu,t)}return e.preventDefault(),!0}const r=k();return!!T(r)},B),n.registerCommand(ll,e=>{const[t]=tr(e),r=k();return!(t&&!T(r))},B),n.registerCommand(al,e=>{const[t]=tr(e),r=k();if(t&&!T(r))return!1;const o=zu(e.clientX,e.clientY);if(o!==null){const i=we(o.node);Z(i)&&e.preventDefault()}return!0},B),n.registerCommand(Mr,()=>(Wf(),!0),B),n.registerCommand(Yr,e=>(Bs(n,ct(e,ClipboardEvent)?e:null),!0),B),n.registerCommand(Vr,e=>((async function(t,r){await Bs(r,ct(t,ClipboardEvent)?t:null),r.update(()=>{const o=k();T(o)?o.removeText():Se(o)&&o.getNodes().forEach(i=>i.remove())})})(e,n),!0),B),n.registerCommand(Jr,e=>{const[,t,r]=tr(e);return t.length>0&&!r?(n.dispatchCommand(Uu,t),!0):it(e.target)&&ml(e.target)?!1:k()!==null&&((function(o,i){o.preventDefault(),i.update(()=>{const s=k(),l=ct(o,InputEvent)||ct(o,KeyboardEvent)?null:o.clipboardData;l!=null&&s!==null&&Du(l,s,i)},{tag:ul})})(e,n),!0)},B),n.registerCommand(il,e=>{const t=k();return T(t)&&Gi(t),!1},B),n.registerCommand(In,e=>{const t=k();return T(t)&&Gi(t),!1},B))}const jl=/^(\d+(?:\.\d+)?)px$/,Ne={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class un extends ke{__colSpan;__rowSpan;__headerState;__width;__backgroundColor;__verticalAlign;static getType(){return"tablecell"}static clone(e){return new un(e.__headerState,e.__colSpan,e.__width,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__rowSpan=e.__rowSpan,this.__backgroundColor=e.__backgroundColor,this.__verticalAlign=e.__verticalAlign}static importDOM(){return{td:e=>({conversion:qu,priority:0}),th:e=>({conversion:qu,priority:0})}}static importJSON(e){return pt().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeaderStyles(e.headerState).setColSpan(e.colSpan||1).setRowSpan(e.rowSpan||1).setWidth(e.width||void 0).setBackgroundColor(e.backgroundColor||null).setVerticalAlign(e.verticalAlign||void 0)}constructor(e=Ne.NO_STATUS,t=1,r,o){super(o),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=r,this.__backgroundColor=null,this.__verticalAlign=void 0}createDOM(e){const t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),this.__colSpan>1&&(t.colSpan=this.__colSpan),this.__rowSpan>1&&(t.rowSpan=this.__rowSpan),this.__backgroundColor!==null&&(t.style.backgroundColor=this.__backgroundColor),zs(this.__verticalAlign)&&(t.style.verticalAlign=this.__verticalAlign),he(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){const t=super.exportDOM(e);if(Q(t.element)){const r=t.element;r.setAttribute("data-temporary-table-cell-lexical-key",this.getKey()),r.style.border="1px solid black",this.__colSpan>1&&(r.colSpan=this.__colSpan),this.__rowSpan>1&&(r.rowSpan=this.__rowSpan),r.style.width=`${this.getWidth()||75}px`,r.style.verticalAlign=this.getVerticalAlign()||"top",r.style.textAlign="start",this.__backgroundColor===null&&this.hasHeader()&&(r.style.backgroundColor="#f2f3f5")}return t}exportJSON(){return{...super.exportJSON(),...zs(this.__verticalAlign)&&{verticalAlign:this.__verticalAlign},backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,width:this.getWidth()}}getColSpan(){return this.getLatest().__colSpan}setColSpan(e){const t=this.getWritable();return t.__colSpan=e,t}getRowSpan(){return this.getLatest().__rowSpan}setRowSpan(e){const t=this.getWritable();return t.__rowSpan=e,t}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e,t=Ne.BOTH){const r=this.getWritable();return r.__headerState=e&t|r.__headerState&~t,r}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){const t=this.getWritable();return t.__width=e,t}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){const t=this.getWritable();return t.__backgroundColor=e,t}getVerticalAlign(){return this.getLatest().__verticalAlign}setVerticalAlign(e){const t=this.getWritable();return t.__verticalAlign=e||void 0,t}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==Ne.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor||e.__verticalAlign!==this.__verticalAlign}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function zs(n){return n==="middle"||n==="bottom"}function qu(n){const e=n,t=n.nodeName.toLowerCase();let r;jl.test(e.style.width)&&(r=parseFloat(e.style.width));const o=pt(t==="th"?Ne.ROW:Ne.NO_STATUS,e.colSpan,r);o.__rowSpan=e.rowSpan;const i=e.style.backgroundColor;i!==""&&(o.__backgroundColor=i);const s=e.style.verticalAlign;zs(s)&&(o.__verticalAlign=s);const l=e.style,a=(l&&l.textDecoration||"").split(" "),u=l.fontWeight==="700"||l.fontWeight==="bold",c=a.includes("line-through"),d=l.fontStyle==="italic",f=a.includes("underline");return{after:h=>{const g=[];let m=null;const p=()=>{if(m){const y=m.getFirstChild();de(y)&&m.getChildrenSize()===1&&y.remove()}};for(const y of h)Fh(y)||R(y)||de(y)?(R(y)&&(u&&y.toggleFormat("bold"),c&&y.toggleFormat("strikethrough"),d&&y.toggleFormat("italic"),f&&y.toggleFormat("underline")),m?m.append(y):(m=Y().append(y),g.push(m))):(g.push(y),p(),m=null);return p(),g.length===0&&g.push(Y()),g},node:o}}function pt(n=Ne.NO_STATUS,e=1,t){return Ie(new un(n,e,t))}function W(n){return n instanceof un}const t_=K("INSERT_TABLE_COMMAND");function z(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}class no extends ke{__height;static getType(){return"tablerow"}static clone(e){return new no(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:n_,priority:0})}}static importJSON(e){return zr().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setHeight(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){const e=this.getHeight();return{...super.exportJSON(),...e===void 0?void 0:{height:e}}}createDOM(e){const t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),he(t,e.theme.tableRow),t}extractWithChild(e,t,r){return r==="html"}isShadowRoot(){return!0}setHeight(e){const t=this.getWritable();return t.__height=e,t}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function n_(n){const e=n;let t;return jl.test(e.style.height)&&(t=parseFloat(e.style.height)),{after:r=>ad(r,W),node:zr(t)}}function zr(n){return Ie(new no(n))}function pe(n){return n instanceof no}const Jl=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,r_=Jl&&"documentMode"in document?document.documentMode:null,Yu=Jl&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);function o_(n,e,t=!0){const r=Gl();for(let o=0;o<n;o++){const i=zr();for(let s=0;s<e;s++){let l=Ne.NO_STATUS;typeof t=="object"?(o===0&&t.rows&&(l|=Ne.ROW),s===0&&t.columns&&(l|=Ne.COLUMN)):t&&(o===0&&(l|=Ne.ROW),s===0&&(l|=Ne.COLUMN));const a=pt(l),u=Y();u.append(le()),a.append(u),i.append(a)}r.append(i)}return r}function hb(n){const e=H(n,t=>W(t));return W(e)?e:null}function Qd(n){const e=H(n,t=>pe(t));if(pe(e))return e;throw new Error("Expected table cell to be inside of table row.")}function eg(n){const e=H(n,t=>ye(t));if(ye(e))return e;throw new Error("Expected table cell to be inside of table.")}function pb(n){const e=Qd(n);return eg(e).getChildren().findIndex(t=>t.is(e))}function mb(n){return Qd(n).getChildren().findIndex(e=>e.is(n))}Jl&&"InputEvent"in window&&!r_&&new window.InputEvent("input");const Ws=(n,e)=>n===Ne.BOTH||n===e?e:Ne.NO_STATUS;function _b(n=!0){const e=k();T(e)||oe(e)||z(188);const t=e.anchor.getNode(),r=e.focus.getNode(),[o]=Oe(t),[i,,s]=Oe(r),[,l,a]=Ke(s,i,o),{startRow:u}=a,{startRow:c}=l;return n?Us(u+o.__rowSpan>c+i.__rowSpan?o:i,!0):Us(c<u?i:o,!1)}function Us(n,e=!0){const[,,t]=Oe(n),[r,o]=Ke(t,n,n),i=r[0].length,{startRow:s}=o;let l=null;if(e){const a=s+n.__rowSpan-1,u=r[a],c=zr();for(let f=0;f<i;f++){const{cell:h,startRow:g}=u[f];if(g+h.__rowSpan-1<=a){const m=u[f].cell.__headerState,p=Ws(m,Ne.COLUMN);c.append(pt(p).append(Y()))}else h.setRowSpan(h.__rowSpan+1)}const d=t.getChildAtIndex(a);pe(d)||z(256),d.insertAfter(c),l=c}else{const a=s,u=r[a],c=zr();for(let f=0;f<i;f++){const{cell:h,startRow:g}=u[f];if(g===a){const m=u[f].cell.__headerState,p=Ws(m,Ne.COLUMN);c.append(pt(p).append(Y()))}else h.setRowSpan(h.__rowSpan+1)}const d=t.getChildAtIndex(a);pe(d)||z(257),d.insertBefore(c),l=c}return l}function yb(n=!0){const e=k();T(e)||oe(e)||z(188);const t=e.anchor.getNode(),r=e.focus.getNode(),[o]=Oe(t),[i,,s]=Oe(r),[,l,a]=Ke(s,i,o),{startColumn:u}=a,{startColumn:c}=l;return n?Hs(u+o.__colSpan>c+i.__colSpan?o:i,!0):Hs(c<u?i:o,!1)}function Hs(n,e=!0,t=!0){const[,,r]=Oe(n),[o,i]=Ke(r,n,n),s=o.length,{startColumn:l}=i,a=e?l+n.__colSpan-1:l-1,u=r.getFirstChild();pe(u)||z(120);let c=null;function d(g=Ne.NO_STATUS){const m=pt(g).append(Y());return c===null&&(c=m),m}let f=u;e:for(let g=0;g<s;g++){if(g!==0){const x=f.getNextSibling();pe(x)||z(121),f=x}const m=o[g],p=m[a<0?0:a].cell.__headerState,y=Ws(p,Ne.ROW);if(a<0){ql(f,d(y));continue}const{cell:_,startColumn:b,startRow:S}=m[a];if(b+_.__colSpan-1<=a){let x=_,C=S,v=a;for(;C!==g&&x.__rowSpan>1;){if(v-=_.__colSpan,!(v>=0)){f.append(d(y));continue e}{const{cell:E,startRow:w}=m[v];x=E,C=w}}x.insertAfter(d(y))}else _.setColSpan(_.__colSpan+1)}c!==null&&t&&Wr(c);const h=r.getColWidths();if(h){const g=[...h],m=a<0?0:a,p=g[m];g.splice(m,0,p),r.setColWidths(g)}return c}function bb(){const n=k();T(n)||oe(n)||z(188);const[e,t]=n.isBackward()?[n.focus.getNode(),n.anchor.getNode()]:[n.anchor.getNode(),n.focus.getNode()],[r,,o]=Oe(e),[i]=Oe(t),[s,l,a]=Ke(o,r,i),{startRow:u}=l,{startRow:c}=a,d=c+i.__rowSpan-1;if(s.length===d-u+1)return void o.remove();const f=s[0].length,h=s[d+1],g=o.getChildAtIndex(d+1);for(let m=d;m>=u;m--){for(let y=f-1;y>=0;y--){const{cell:_,startRow:b,startColumn:S}=s[m][y];if(S===y){if(b<u||b+_.__rowSpan-1>d){const x=Math.max(b,u),C=Math.min(_.__rowSpan+b-1,d),v=x<=C?C-x+1:0;_.setRowSpan(_.__rowSpan-v)}if(b>=u&&b+_.__rowSpan-1>d&&m===d){g===null&&z(122);let x=null;for(let C=0;C<y;C++){const v=h[C],E=v.cell;v.startRow===m+1&&(x=E),E.__colSpan>1&&(C+=E.__colSpan-1)}x===null?ql(g,_):x.insertAfter(_)}}}const p=o.getChildAtIndex(m);pe(p)||z(206,String(m)),p.remove()}if(h!==void 0){const{cell:m}=h[0];Wr(m)}else{const m=s[u-1],{cell:p}=m[0];Wr(p)}}function xb(){const n=k();T(n)||oe(n)||z(188);const e=n.anchor.getNode(),t=n.focus.getNode(),[r,,o]=Oe(e),[i]=Oe(t),[s,l,a]=Ke(o,r,i),{startColumn:u}=l,{startRow:c,startColumn:d}=a,f=Math.min(u,d),h=Math.max(u+r.__colSpan-1,d+i.__colSpan-1),g=h-f+1;if(s[0].length===h-f+1)return o.selectPrevious(),void o.remove();const m=s.length;for(let b=0;b<m;b++)for(let S=f;S<=h;S++){const{cell:x,startColumn:C}=s[b][S];if(C<f){if(S===f){const v=f-C;x.setColSpan(x.__colSpan-Math.min(g,x.__colSpan-v))}}else if(C+x.__colSpan-1>h){if(S===h){const v=h-C+1;x.setColSpan(x.__colSpan-v)}}else x.remove()}const p=s[c],y=u>d?p[u+r.__colSpan]:p[d+i.__colSpan];if(y!==void 0){const{cell:b}=y;Wr(b)}else{const b=d<u?p[d-1]:p[u-1],{cell:S}=b;Wr(S)}const _=o.getColWidths();if(_){const b=[..._];b.splice(f,g),o.setColWidths(b)}}function Wr(n){const e=n.getFirstDescendant();e==null?n.selectStart():e.getParentOrThrow().selectStart()}function ql(n,e){const t=n.getFirstChild();t!==null?t.insertBefore(e):n.append(e)}function i_(n){if(n.length===0)return null;const e=eg(n[0]),[t]=Dt(e,null,null);let r=1/0,o=-1/0,i=1/0,s=-1/0;const l=new Set;for(const h of t)for(const g of h){if(!g||!g.cell)continue;const m=g.cell.getKey();if(!l.has(m)&&n.some(p=>p.is(g.cell))){l.add(m);const p=g.startRow,y=g.startColumn,_=g.cell.__rowSpan||1,b=g.cell.__colSpan||1;r=Math.min(r,p),o=Math.max(o,p+_-1),i=Math.min(i,y),s=Math.max(s,y+b-1)}}if(r===1/0||i===1/0)return null;const a=o-r+1,u=s-i+1,c=t[r][i];if(!c.cell)return null;const d=c.cell;d.setColSpan(u),d.setRowSpan(a);const f=new Set([d.getKey()]);for(let h=r;h<=o;h++)for(let g=i;g<=s;g++){const m=t[h][g];if(!m.cell)continue;const p=m.cell,y=p.getKey();f.has(y)||(f.add(y),s_(p)||d.append(...p.getChildren()),p.remove())}return d.getChildrenSize()===0&&d.append(Y()),d}function s_(n){if(n.getChildrenSize()!==1)return!1;const e=n.getFirstChildOrThrow();return!(!ln(e)||!e.isEmpty())}function Sb(){const n=k();T(n)||oe(n)||z(188);const e=n.anchor.getNode(),t=H(e,W);return W(t)||z(148),tg(t)}function tg(n){const[e,t,r]=Oe(n),o=e.__colSpan,i=e.__rowSpan;if(o===1&&i===1)return;const[s,l]=Ke(r,e,e),{startColumn:a,startRow:u}=l,c=e.__headerState&Ne.COLUMN,d=Array.from({length:o},(g,m)=>{let p=c;for(let y=0;p!==0&&y<s.length;y++)p&=s[y][m+a].cell.__headerState;return p}),f=e.__headerState&Ne.ROW,h=Array.from({length:i},(g,m)=>{let p=f;for(let y=0;p!==0&&y<s[0].length;y++)p&=s[m+u][y].cell.__headerState;return p});if(o>1){for(let g=1;g<o;g++)e.insertAfter(pt(d[g]|h[0]).append(Y()));e.setColSpan(1)}if(i>1){let g;for(let m=1;m<i;m++){const p=u+m,y=s[p];g=(g||t).getNextSibling(),pe(g)||z(125);let _=null;for(let b=0;b<a;b++){const S=y[b],x=S.cell;S.startRow===p&&(_=x),x.__colSpan>1&&(b+=x.__colSpan-1)}if(_===null)for(let b=o-1;b>=0;b--)ql(g,pt(d[b]|h[m]).append(Y()));else for(let b=o-1;b>=0;b--)_.insertAfter(pt(d[b]|h[m]).append(Y()))}e.setRowSpan(1)}}function Ke(n,e,t){const[r,o,i]=Dt(n,e,t);return o===null&&z(207),i===null&&z(208),[r,o,i]}function Dt(n,e,t){const r=[];let o=null,i=null;function s(a){let u=r[a];return u===void 0&&(r[a]=u=[]),u}const l=n.getChildren();for(let a=0;a<l.length;a++){const u=l[a];pe(u)||z(209);const c=s(a);for(let d=u.getFirstChild(),f=0;d!=null;d=d.getNextSibling()){for(W(d)||z(147);c[f]!==void 0;)f++;const h={cell:d,startColumn:f,startRow:a},{__rowSpan:g,__colSpan:m}=d;for(let p=0;p<g&&!(a+p>=l.length);p++){const y=s(a+p);for(let _=0;_<m;_++)y[f+_]=h}e!==null&&o===null&&e.is(d)&&(o=h),t!==null&&i===null&&t.is(d)&&(i=h)}}return[r,o,i]}function Oe(n){let e;if(n instanceof un)e=n;else if("__type"in n){const o=H(n,W);W(o)||z(148),e=o}else{const o=H(n.getNode(),W);W(o)||z(148),e=o}const t=e.getParent();pe(t)||z(149);const r=t.getParent();return ye(r)||z(210),[e,t,r]}function ti(n,e,t){let r,o=Math.min(e.startColumn,t.startColumn),i=Math.min(e.startRow,t.startRow),s=Math.max(e.startColumn+e.cell.__colSpan-1,t.startColumn+t.cell.__colSpan-1),l=Math.max(e.startRow+e.cell.__rowSpan-1,t.startRow+t.cell.__rowSpan-1);do{r=!1;for(let a=0;a<n.length;a++)for(let u=0;u<n[0].length;u++){const c=n[a][u];if(!c)continue;const d=c.startColumn+c.cell.__colSpan-1,f=c.startRow+c.cell.__rowSpan-1,h=c.startColumn<=s&&d>=o,g=c.startRow<=l&&f>=i;if(h&&g){const m=Math.min(o,c.startColumn),p=Math.max(s,d),y=Math.min(i,c.startRow),_=Math.max(l,f);m===o&&p===s&&y===i&&_===l||(o=m,s=p,i=y,l=_,r=!0)}}}while(r);return{maxColumn:s,maxRow:l,minColumn:o,minRow:i}}function Vu(n){const[e,,t]=Oe(n),r=t.getChildren(),o=r.length,i=r[0].getChildren().length,s=new Array(o);for(let l=0;l<o;l++)s[l]=new Array(i);for(let l=0;l<o;l++){const a=r[l].getChildren();let u=0;for(let c=0;c<a.length;c++){for(;s[l][u];)u++;const d=a[c],f=d.__rowSpan||1,h=d.__colSpan||1;for(let g=0;g<f;g++)for(let m=0;m<h;m++)s[l+g][u+m]=d;if(e===d)return{colSpan:h,columnIndex:u,rowIndex:l,rowSpan:f};u+=h}}return null}function Gu(n){const[[e,t,r,o],[i,s,l,a]]=["anchor","focus"].map(u=>{const c=n[u].getNode(),d=H(c,W);W(d)||z(238,u,c.getKey(),c.getType());const f=d.getParent();pe(f)||z(239,u);const h=f.getParent();return ye(h)||z(240,u),[c,d,f,h]});return o.is(a)||z(241),{anchorCell:t,anchorNode:e,anchorRow:r,anchorTable:o,focusCell:s,focusNode:i,focusRow:l,focusTable:a}}let ng=class rg{tableKey;anchor;focus;_cachedNodes;dirty;constructor(e,t,r){this.anchor=t,this.focus=r,t._selection=this,r._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isValid(){if(this.tableKey==="root"||this.anchor.key==="root"||this.anchor.type!=="element"||this.focus.key==="root"||this.focus.type!=="element")return!1;const e=G(this.tableKey),t=G(this.anchor.key),r=G(this.focus.key);return e!==null&&t!==null&&r!==null}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return oe(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,r){this.dirty=this.dirty||e!==this.tableKey||t!==this.anchor.key||r!==this.focus.key,this.tableKey=e,this.anchor.key=t,this.focus.key=r,this._cachedNodes=null}clone(){return new rg(this.tableKey,Re(this.anchor.key,this.anchor.offset,this.anchor.type),Re(this.focus.key,this.focus.offset,this.focus.type))}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}hasFormat(e){let t=0;this.getNodes().filter(W).forEach(o=>{const i=o.getFirstChild();ln(i)&&(t|=i.getTextFormat())});const r=Gt[e];return(t&r)!==0}insertNodes(e){const t=this.focus.getNode();N(t)||z(151),Zt(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const{anchorCell:e,focusCell:t}=Gu(this),r=Vu(e);r===null&&z(153);const o=Vu(t);o===null&&z(155);const i=Math.min(r.columnIndex,o.columnIndex),s=Math.max(r.columnIndex+r.colSpan-1,o.columnIndex+o.colSpan-1),l=Math.min(r.rowIndex,o.rowIndex),a=Math.max(r.rowIndex+r.rowSpan-1,o.rowIndex+o.rowSpan-1);return{fromX:Math.min(i,s),fromY:Math.min(l,a),toX:Math.max(i,s),toY:Math.max(l,a)}}getNodes(){if(!this.isValid())return[];const e=this._cachedNodes;if(e!==null)return e;const{anchorTable:t,anchorCell:r,focusCell:o}=Gu(this),i=o.getParents()[1];if(i!==t){if(t.isParentOf(o)){const p=i.getParent();p==null&&z(159),this.set(this.tableKey,o.getKey(),p.getKey())}else{const p=t.getParent();p==null&&z(158),this.set(this.tableKey,p.getKey(),o.getKey())}return this.getNodes()}const[s,l,a]=Ke(t,r,o),{minColumn:u,maxColumn:c,minRow:d,maxRow:f}=ti(s,l,a),h=new Map([[t.getKey(),t]]);let g=null;for(let p=d;p<=f;p++)for(let y=u;y<=c;y++){const{cell:_}=s[p][y],b=_.getParent();pe(b)||z(160),b!==g&&(h.set(b.getKey(),b),g=b),h.has(_.getKey())||a_(_,S=>{h.set(S.getKey(),S)})}const m=Array.from(h.values());return gr()||(this._cachedNodes=m),m}getTextContent(){const e=this.getNodes().filter(r=>W(r));let t="";for(let r=0;r<e.length;r++){const o=e[r],i=o.__parent,s=(e[r+1]||{}).__parent;t+=o.getTextContent()+(s!==i?`
`:"	")}return t}};function oe(n){return n instanceof ng}function l_(){const n=Re("root",0,"element"),e=Re("root",0,"element");return new ng("root",n,e)}function js(n,e,t){n.getKey(),e.getKey(),t.getKey();const r=k(),o=oe(r)?r.clone():l_();return o.set(n.getKey(),e.getKey(),t.getKey()),o}function a_(n,e){const t=[[n]];for(let r=t.at(-1);r!==void 0&&t.length>0;r=t.at(-1)){const o=r.pop();o===void 0?t.pop():e(o)!==!1&&N(o)&&t.push(o.getChildren())}}function og(n,e=mr()){const t=G(n);ye(t)||z(231,n);const r=Pn(t,e.getElementByKey(n));return r===null&&z(232,n),{tableElement:r,tableNode:t}}let u_=class{focusX;focusY;listenersToRemove;table;isHighlightingCells;anchorX;anchorY;tableNodeKey;anchorCell;focusCell;anchorCellNodeKey;focusCellNodeKey;editor;tableSelection;hasHijackedSelectionStyles;isSelecting;pointerType;shouldCheckSelection;abortController;listenerOptions;nextFocus;constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.isSelecting=!1,this.pointerType=null,this.shouldCheckSelection=!1,this.abortController=new AbortController,this.listenerOptions={signal:this.abortController.signal},this.nextFocus=null,this.trackTable()}getTable(){return this.table}removeListeners(){this.abortController.abort("removeListeners"),Array.from(this.listenersToRemove).forEach(e=>e()),this.listenersToRemove.clear()}$lookup(){return og(this.tableNodeKey,this.editor)}trackTable(){const e=new MutationObserver(t=>{this.editor.getEditorState().read(()=>{let r=!1;for(let s=0;s<t.length;s++){const l=t[s].target.nodeName;if(l==="TABLE"||l==="TBODY"||l==="THEAD"||l==="TR"){r=!0;break}}if(!r)return;const{tableNode:o,tableElement:i}=this.$lookup();this.table=sr(o,i)},{editor:this.editor})});this.editor.getEditorState().read(()=>{const{tableNode:t,tableElement:r}=this.$lookup();this.table=sr(t,r),e.observe(r,{attributes:!0,childList:!0,subtree:!0})},{editor:this.editor})}$clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.$enableHighlightStyle();const{tableNode:t,tableElement:r}=this.$lookup();ho(e,sr(t,r),null),k()!==null&&(fe(null),e.dispatchCommand(Ut,void 0))}$enableHighlightStyle(){const e=this.editor,{tableElement:t}=this.$lookup();ht(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}$disableHighlightStyle(){const{tableElement:e}=this.$lookup();he(e,this.editor._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}$updateTableTableSelection(e){if(e!==null){e.tableKey!==this.tableNodeKey&&z(233,e.tableKey,this.tableNodeKey);const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.$disableHighlightStyle(),this.updateDOMSelection(),ho(t,this.table,this.tableSelection)}else this.$clearHighlight()}setShouldCheckSelection(){this.shouldCheckSelection=!0}getAndClearShouldCheckSelection(){return!!this.shouldCheckSelection&&(this.shouldCheckSelection=!1,!0)}setNextFocus(e){this.nextFocus=e}getAndClearNextFocus(){const{nextFocus:e}=this;return e!==null&&(this.nextFocus=null),e}updateDOMSelection(){if(this.anchorCell!==null&&this.focusCell!==null){const e=We(this.editor._window);e&&e.rangeCount>0&&e.removeAllRanges()}}$setFocusCellForSelection(e,t=!1){const r=this.editor,{tableNode:o}=this.$lookup(),i=e.x,s=e.y;if(this.focusCell=e,!this.isHighlightingCells&&(t||this.anchorX!==i||this.anchorY!==s||this.tableSelection!=null&&this.anchorCellNodeKey!=null)&&(this.isHighlightingCells=!0,this.$disableHighlightStyle()),this.focusX!==-1&&this.focusY!==-1&&i===this.focusX&&s===this.focusY)return!1;if(this.focusX=i,this.focusY=s,this.isHighlightingCells){const l=qs(o,e.elem);if(this.tableSelection!=null&&this.anchorCellNodeKey!=null){let a=l;if(a===null&&t&&(a=o.getCellNodeFromCords(i,s,this.table)),a!==null){const u=this.$getAnchorTableCellOrThrow();return this.focusCellNodeKey=a.getKey(),this.tableSelection=js(o,u,a),fe(this.tableSelection),r.dispatchCommand(Ut,void 0),ho(r,this.table,this.tableSelection),!0}}}return!1}$getAnchorTableCell(){return this.anchorCellNodeKey?G(this.anchorCellNodeKey):null}$getAnchorTableCellOrThrow(){const e=this.$getAnchorTableCell();return e===null&&z(234),e}$getFocusTableCell(){return this.focusCellNodeKey?G(this.focusCellNodeKey):null}$getFocusTableCellOrThrow(){const e=this.$getFocusTableCell();return e===null&&z(235),e}$setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y,this.focusX=-1,this.focusY=-1,this.focusCell=null,this.focusCellNodeKey=null;const{tableNode:t}=this.$lookup(),r=qs(t,e.elem);if(r!==null){const o=r.getKey();this.tableSelection!=null?(this.tableSelection=this.tableSelection.clone(),this.tableSelection.set(t.getKey(),o,o)):this.tableSelection=js(t,r,r),this.anchorCellNodeKey=o}}$formatCells(e){const t=k();oe(t)||z(236);const r=dr(),o=r.anchor,i=r.focus,s=t.getNodes().filter(W);s.length>0||z(237);const l=s[0].getFirstChild(),a=ln(l)?l.getFormatFlags(e,null):null;s.forEach(u=>{o.set(u.getKey(),0,"element"),i.set(u.getKey(),u.getChildrenSize(),"element"),r.formatText(e,a)}),fe(t),this.editor.dispatchCommand(Ut,void 0)}$clearText(){const{editor:e}=this,t=G(this.tableNodeKey);if(!ye(t))throw new Error("Expected TableNode.");const r=k();oe(r)||z(253);const o=r.getNodes().filter(W),i=t.getFirstChild(),s=t.getLastChild();if(o.length>0&&i!==null&&s!==null&&pe(i)&&pe(s)&&o[0]===i.getFirstChild()&&o[o.length-1]===s.getLastChild()){t.selectPrevious();const l=t.getParent();return t.remove(),void(ve(l)&&l.isEmpty()&&e.dispatchCommand(Xt,void 0))}o.forEach(l=>{if(N(l)){const a=Y(),u=le();a.append(u),l.append(a),l.getChildren().forEach(c=>{c!==a&&c.remove()})}}),ho(e,this.table,null),fe(null),e.dispatchCommand(Ut,void 0)}};const Js="__lexicalTableSelection";function Xn(n){return Q(n)&&n.nodeName==="TABLE"}function Pn(n,e){if(!e)return e;const t=Xn(e)?e:n.getDOMSlot(e).element;return t.nodeName!=="TABLE"&&z(245,e.nodeName),t}function Yl(n){return n._window}function Fr(n,e){for(let t=e,r=null;t!==null;t=t.getParent()){if(n.is(t))return r;W(t)&&(r=t)}return null}const c_=[[en,"down"],[Nt,"up"],[qr,"backward"],[ai,"forward"]],f_=[$n,Qt,dt],d_=[ui,ci];function g_(n,e,t,r){const o=t.getRootElement(),i=Yl(t);o!==null&&i!==null||z(246);const s=new u_(t,n.getKey()),l=Pn(n,e);(function(h,g){Zu(h)!==null&&z(205),h[Js]=g})(l,s),s.listenersToRemove.add(()=>(function(h,g){Zu(h)===g&&delete h[Js]})(l,s));const a=h=>{if(s.pointerType=h.pointerType,h.button!==0||!it(h.target)||!i)return;const g=ni(h.target);g!==null&&t.update(()=>{const m=kt();if(Yu&&h.shiftKey&&Rt(m,n)&&(T(m)||oe(m))){const p=m.anchor.getNode(),y=Fr(n,m.anchor.getNode());y?(s.$setAnchorCellForSelection(mn(s,y)),s.$setFocusCellForSelection(g),Mt(h)):(n.isBefore(p)?n.selectStart():n.selectEnd()).anchor.set(m.anchor.key,m.anchor.offset,m.anchor.type)}else h.pointerType!=="touch"&&s.$setAnchorCellForSelection(g)}),(m=>{if(s.isSelecting)return;s.isSelecting=!0,m!==null&&s.anchorCell===null&&t.update(()=>{s.$setAnchorCellForSelection(m)});const p=()=>{s.isSelecting=!1,i.removeEventListener("pointerup",p),i.removeEventListener("pointermove",y)},y=_=>{if(1&~_.buttons&&s.isSelecting)return s.isSelecting=!1,i.removeEventListener("pointerup",p),void i.removeEventListener("pointermove",y);if(!it(_.target))return;let b=null;const S=!(Yu||l.contains(_.target));if(S)b=Xu(l,_.target);else for(const x of document.elementsFromPoint(_.clientX,_.clientY))if(b=Xu(l,x),b)break;if(b){const x=b;s.anchorCell===null&&t.update(()=>{s.$setAnchorCellForSelection(x)}),s.focusCell!==null&&b.elem===s.focusCell.elem||(s.setNextFocus({focusCell:b,override:S}),t.dispatchCommand(Ut,void 0))}};i.addEventListener("pointerup",p,s.listenerOptions),i.addEventListener("pointermove",y,s.listenerOptions)})(g)};l.addEventListener("pointerdown",a,s.listenerOptions),s.listenersToRemove.add(()=>{l.removeEventListener("pointerdown",a)});const u=h=>{h.detail>=3&&it(h.target)&&ni(h.target)!==null&&h.preventDefault()};l.addEventListener("mousedown",u,s.listenerOptions),s.listenersToRemove.add(()=>{l.removeEventListener("mousedown",u)});const c=h=>{const g=h.target;h.button===0&&it(g)&&t.update(()=>{const m=k();oe(m)&&m.tableKey===s.tableNodeKey&&o.contains(g)&&s.$clearHighlight()})};i.addEventListener("pointerdown",c,s.listenerOptions),s.listenersToRemove.add(()=>{i.removeEventListener("pointerdown",c)});for(const[h,g]of c_)s.listenersToRemove.add(t.registerCommand(h,m=>lg(t,m,g,n,s),qe));s.listenersToRemove.add(t.registerCommand(ur,h=>{const g=k();if(oe(g)){const m=Fr(n,g.focus.getNode());if(m!==null)return Mt(h),m.selectEnd(),!0}return!1},qe));const d=h=>()=>{const g=k();if(!Rt(g,n))return!1;if(oe(g))return s.$clearText(),!0;if(T(g)){if(!W(Fr(n,g.anchor.getNode())))return!1;const m=g.anchor.getNode(),p=g.focus.getNode(),y=n.isParentOf(m),_=n.isParentOf(p);if(y&&!_||_&&!y)return s.$clearText(),!0;const b=H(g.anchor.getNode(),x=>N(x)),S=b&&H(b,x=>N(x)&&W(x.getParent()));if(!N(S)||!N(b))return!1;if(h===Qt&&S.getPreviousSibling()===null)return!0}return!1};for(const h of f_)s.listenersToRemove.add(t.registerCommand(h,d(h),qe));const f=h=>{const g=k();if(!oe(g)&&!T(g))return!1;const m=n.isParentOf(g.anchor.getNode());if(m!==n.isParentOf(g.focus.getNode())){const p=m?"anchor":"focus",y=m?"focus":"anchor",{key:_,offset:b,type:S}=g[y];return n[g[p].isBefore(g[y])?"selectPrevious":"selectNext"]()[y].set(_,b,S),!1}return!!Rt(g,n)&&!!oe(g)&&(h&&(h.preventDefault(),h.stopPropagation()),s.$clearText(),!0)};for(const h of d_)s.listenersToRemove.add(t.registerCommand(h,f,qe));return s.listenersToRemove.add(t.registerCommand(Vr,h=>{const g=k();if(g){if(!oe(g)&&!T(g))return!1;Bs(t,ct(h,ClipboardEvent)?h:null,Vd(g));const m=f(h);return T(g)?(g.removeText(),!0):m}return!1},qe)),s.listenersToRemove.add(t.registerCommand(Pt,h=>{const g=k();if(!Rt(g,n))return!1;if(oe(g))return s.$formatCells(h),!0;if(T(g)){const m=H(g.anchor.getNode(),p=>W(p));if(!W(m))return!1}return!1},qe)),s.listenersToRemove.add(t.registerCommand(sl,h=>{const g=k();if(!oe(g)||!Rt(g,n))return!1;const m=g.anchor.getNode(),p=g.focus.getNode();if(!W(m)||!W(p))return!1;if((function(w,$){if(oe(w)){const A=w.anchor.getNode(),O=w.focus.getNode();if($&&A&&O){const[L]=Ke($,A,O);return A.getKey()===L[0][0].cell.getKey()&&O.getKey()===L[L.length-1].at(-1).cell.getKey()}}return!1})(g,n))return n.setFormat(h),!0;const[y,_,b]=Ke(n,m,p),S=Math.max(_.startRow+_.cell.__rowSpan-1,b.startRow+b.cell.__rowSpan-1),x=Math.max(_.startColumn+_.cell.__colSpan-1,b.startColumn+b.cell.__colSpan-1),C=Math.min(_.startRow,b.startRow),v=Math.min(_.startColumn,b.startColumn),E=new Set;for(let w=C;w<=S;w++)for(let $=v;$<=x;$++){const A=y[w][$].cell;if(E.has(A))continue;E.add(A),A.setFormat(h);const O=A.getChildren();for(let L=0;L<O.length;L++){const P=O[L];N(P)&&!P.isInline()&&P.setFormat(h)}}return!0},qe)),s.listenersToRemove.add(t.registerCommand(qt,h=>{const g=k();if(!Rt(g,n))return!1;if(oe(g))return s.$clearHighlight(),!1;if(T(g)){const m=H(g.anchor.getNode(),p=>W(p));if(!W(m))return!1;if(typeof h=="string"){const p=tc(t,g,n);if(p)return ec(p,n,[le(h)]),!0}}return!1},qe)),r&&s.listenersToRemove.add(t.registerCommand(In,h=>{const g=k();if(!T(g)||!g.isCollapsed()||!Rt(g,n))return!1;const m=Sr(g.anchor.getNode());return!(m===null||!n.is(Tn(m)))&&(Mt(h),(function(p,y){const _=y==="next"?"getNextSibling":"getPreviousSibling",b=y==="next"?"getFirstChild":"getLastChild",S=p[_]();if(N(S))return S.selectEnd();const x=H(p,pe);x===null&&z(247);for(let v=x[_]();pe(v);v=v[_]()){const E=v[b]();if(N(E))return E.selectEnd()}const C=H(x,ye);C===null&&z(248),y==="next"?C.selectNext():C.selectPrevious()})(m,h.shiftKey?"previous":"next"),!0)},qe)),s.listenersToRemove.add(t.registerCommand(rf,h=>n.isSelected(),qe)),s.listenersToRemove.add(t.registerCommand(Ut,()=>{const h=k(),g=kt(),m=s.getAndClearNextFocus();if(m!==null){const{focusCell:p}=m;if(oe(h)&&h.tableKey===s.tableNodeKey)return(p.x!==s.focusX||p.y!==s.focusY)&&(s.$setFocusCellForSelection(p),!0);if(p!==s.anchorCell&&s.anchorCell!==null&&s.anchorCellNodeKey!==null&&s.tableSelection!==null)return s.$setFocusCellForSelection(p,!0),!0}if(s.getAndClearShouldCheckSelection()&&T(g)&&T(h)&&h.isCollapsed()){const p=h.anchor.getNode(),y=n.getFirstChild(),_=Sr(p);if(_!==null&&pe(y)){const b=y.getFirstChild();if(W(b)&&n.is(H(_,S=>S.is(n)||S.is(b))))return b.selectStart(),!0}}if(T(h)){const{anchor:p,focus:y}=h,_=p.getNode(),b=y.getNode(),S=Sr(_),x=Sr(b),C=!(!S||!n.is(Tn(S))),v=!(!x||!n.is(Tn(x))),E=C!==v,w=C&&v,$=h.isBackward();if(E){const A=h.clone();if(v){const[O]=Ke(n,x,x),L=O[0][0].cell,P=O[O.length-1].at(-1).cell;A.focus.set($?L.getKey():P.getKey(),$?0:P.getChildrenSize(),"element")}else if(C){const[O]=Ke(n,S,S),L=O[0][0].cell,P=O[O.length-1].at(-1).cell;A.anchor.set($?P.getKey():L.getKey(),$?P.getChildrenSize():0,"element")}fe(A),Qu(t,s)}else if(w&&(S.is(x)||(s.$setAnchorCellForSelection(mn(s,S)),s.$setFocusCellForSelection(mn(s,x),!0)),s.pointerType==="touch"&&s.isSelecting&&h.isCollapsed()&&T(g)&&g.isCollapsed())){const A=Sr(g.anchor.getNode());A&&!A.is(x)&&(s.$setAnchorCellForSelection(mn(s,A)),s.$setFocusCellForSelection(mn(s,x),!0),s.pointerType=null)}}else if(h&&oe(h)&&h.is(g)&&h.tableKey===n.getKey()){const p=We(i);if(p&&p.anchorNode&&p.focusNode){const y=we(p.focusNode),_=y&&!n.isParentOf(y),b=we(p.anchorNode),S=b&&n.isParentOf(b);if(_&&S&&p.rangeCount>0){const x=bh(p,t);x&&(x.anchor.set(n.getKey(),h.isBackward()?n.getChildrenSize():0,"element"),p.removeAllRanges(),fe(x))}}}return h&&!h.is(g)&&(oe(h)||oe(g))&&s.tableSelection&&!s.tableSelection.is(g)?(oe(h)&&h.tableKey===s.tableNodeKey?s.$updateTableTableSelection(h):!oe(h)&&oe(g)&&g.tableKey===s.tableNodeKey&&s.$updateTableTableSelection(null),!1):(s.hasHijackedSelectionStyles&&!n.isSelected()?(function(p,y){y.$enableHighlightStyle(),Vl(y.table,_=>{const b=_.elem;_.highlighted=!1,sg(p,_),b.getAttribute("style")||b.removeAttribute("style")})})(t,s):!s.hasHijackedSelectionStyles&&n.isSelected()&&Qu(t,s),!1)},qe)),s.listenersToRemove.add(t.registerCommand(Xt,()=>{const h=k();if(!T(h)||!h.isCollapsed()||!Rt(h,n))return!1;const g=tc(t,h,n);return!!g&&(ec(g,n),!0)},qe)),s}function Zu(n){return n[Js]||null}function ni(n){let e=n;for(;e!=null;){const t=e.nodeName;if(t==="TD"||t==="TH"){const r=e._cell;return r===void 0?null:r}e=e.parentNode}return null}function Xu(n,e){if(!n.contains(e))return null;let t=null;for(let r=e;r!=null;r=r.parentNode){if(r===n)return t;const o=r.nodeName;o!=="TD"&&o!=="TH"||(t=r._cell||null)}return null}function sr(n,e){const t=[],r={columns:0,domRows:t,rows:0};let o=Pn(n,e).querySelector("tr"),i=0,s=0;for(t.length=0;o!=null;){const l=o.nodeName;if(l==="TD"||l==="TH"){const c={elem:o,hasBackgroundColor:o.style.backgroundColor!=="",highlighted:!1,x:i,y:s};o._cell=c;let d=t[s];d===void 0&&(d=t[s]=[]),d[i]=c}else{const c=o.firstChild;if(c!=null){o=c;continue}}const a=o.nextSibling;if(a!=null){i++,o=a;continue}const u=o.parentNode;if(u!=null){const c=u.nextSibling;if(c==null)break;s++,i=0,o=c}}return r.columns=i+1,r.rows=s+1,r}function ho(n,e,t){const r=new Set(t?t.getNodes():[]);Vl(e,(o,i)=>{const s=o.elem;r.has(i)?(o.highlighted=!0,ig(n,o)):(o.highlighted=!1,sg(n,o),s.getAttribute("style")||s.removeAttribute("style"))})}function Vl(n,e){const{domRows:t}=n;for(let r=0;r<t.length;r++){const o=t[r];if(o)for(let i=0;i<o.length;i++){const s=o[i];if(!s)continue;const l=we(s.elem);l!==null&&e(s,l,{x:i,y:r})}}}function Qu(n,e){e.$disableHighlightStyle(),Vl(e.table,t=>{t.highlighted=!0,ig(n,t)})}const h_=(n,e,t,r,o)=>{const i=o==="forward";switch(o){case"backward":case"forward":return t!==(i?n.table.columns-1:0)?mo(e.getCellNodeFromCordsOrThrow(t+(i?1:-1),r,n.table),i):r!==(i?n.table.rows-1:0)?mo(e.getCellNodeFromCordsOrThrow(i?0:n.table.columns-1,r+(i?1:-1),n.table),i):i?e.selectNext():e.selectPrevious(),!0;case"up":return r!==0?mo(e.getCellNodeFromCordsOrThrow(t,r-1,n.table),!1):e.selectPrevious(),!0;case"down":return r!==n.table.rows-1?mo(e.getCellNodeFromCordsOrThrow(t,r+1,n.table),!0):e.selectNext(),!0;default:return!1}};function Zi(n,e){let t,r;if(e.startColumn===n.minColumn)t="minColumn";else{if(e.startColumn+e.cell.__colSpan-1!==n.maxColumn)return null;t="maxColumn"}if(e.startRow===n.minRow)r="minRow";else{if(e.startRow+e.cell.__rowSpan-1!==n.maxRow)return null;r="maxRow"}return[t,r]}function po([n,e]){return[n==="minColumn"?"maxColumn":"minColumn",e==="minRow"?"maxRow":"minRow"]}function Yn(n,e,[t,r]){const o=e[r],i=n[o];i===void 0&&z(250,r,String(o));const s=e[t],l=i[s];return l===void 0&&z(250,t,String(s)),l}function p_(n,e,t,r,o){const i=ti(e,t,r),s=(function(C,v){const{minColumn:E,maxColumn:w,minRow:$,maxRow:A}=v;let O=1,L=1,P=1,I=1;const q=C[$],re=C[A];for(let J=E;J<=w;J++)O=Math.max(O,q[J].cell.__rowSpan),I=Math.max(I,re[J].cell.__rowSpan);for(let J=$;J<=A;J++)L=Math.max(L,C[J][E].cell.__colSpan),P=Math.max(P,C[J][w].cell.__colSpan);return{bottomSpan:I,leftSpan:L,rightSpan:P,topSpan:O}})(e,i),{topSpan:l,leftSpan:a,bottomSpan:u,rightSpan:c}=s,d=(function(C,v){const E=Zi(C,v);return E===null&&z(249,v.cell.getKey()),E})(i,t),[f,h]=po(d);let g=i[f],m=i[h];o==="forward"?g+=f==="maxColumn"?1:a:o==="backward"?g-=f==="minColumn"?1:c:o==="down"?m+=h==="maxRow"?1:l:o==="up"&&(m-=h==="minRow"?1:u);const p=e[m];if(p===void 0)return!1;const y=p[g];if(y===void 0)return!1;const[_,b]=(function(C,v,E){const w=ti(C,v,E),$=Zi(w,v);if($)return[Yn(C,w,$),Yn(C,w,po($))];const A=Zi(w,E);if(A)return[Yn(C,w,po(A)),Yn(C,w,A)];const O=["minColumn","minRow"];return[Yn(C,w,O),Yn(C,w,po(O))]})(e,t,y),S=mn(n,_.cell),x=mn(n,b.cell);return n.$setAnchorCellForSelection(S),n.$setFocusCellForSelection(x,!0),!0}function Rt(n,e){if(T(n)||oe(n)){const t=e.isParentOf(n.anchor.getNode()),r=e.isParentOf(n.focus.getNode());return t&&r}return!1}function mo(n,e){e?n.selectStart():n.selectEnd()}function ig(n,e){const t=e.elem,r=n._config.theme;W(we(t))||z(131),he(t,r.tableCellSelected)}function sg(n,e){const t=e.elem;W(we(t))||z(131);const r=n._config.theme;ht(t,r.tableCellSelected)}function Sr(n){const e=H(n,W);return W(e)?e:null}function Tn(n){const e=H(n,ye);return ye(e)?e:null}function m_(n,e,t,r,o,i,s){const l=mt(t.focus,o?"previous":"next");if(Al(l))return!1;let a=l;for(const p of Dr(l).iterNodeCarets("shadowRoot")){if(!tn(p)||!N(p.origin))return!1;a=p}const u=a.getParentAtCaret();if(!W(u))return!1;const c=u,d=(function(p){for(const y of Dr(p).iterNodeCarets("root")){const{origin:_}=y;if(W(_)){if(Ve(y))return je(_,p.direction)}else if(!pe(_))break}return null})(be(c,a.direction)),f=H(c,ye);if(!f||!f.is(i))return!1;const h=n.getElementByKey(c.getKey()),g=ni(h);if(!h||!g)return!1;const m=y_(n,f);if(s.table=m,d)if(r==="extend"){const p=ni(n.getElementByKey(d.origin.getKey()));if(!p)return!1;s.$setAnchorCellForSelection(g),s.$setFocusCellForSelection(p,!0)}else{const p=Be(d);ut(t.anchor,p),ut(t.focus,p)}else if(r==="extend")s.$setAnchorCellForSelection(g),s.$setFocusCellForSelection(g,!0);else{const p=(function(y){const _=Qr(y);return Ve(_)?Be(_):y})(be(f,l.direction));ut(t.anchor,p),ut(t.focus,p)}return Mt(e),!0}function lg(n,e,t,r,o){if((t==="up"||t==="down")&&(function(s){const l=s.getRootElement();return l?l.hasAttribute("aria-controls")&&l.getAttribute("aria-controls")==="typeahead-menu":!1})(n))return!1;const i=k();if(!Rt(i,r)){if(T(i)){if(t==="backward"){if(i.focus.offset>0)return!1;const s=(function(a){for(let u=a,c=a;c!==null;u=c,c=c.getParent())if(N(c)){if(c!==u&&c.getFirstChild()!==u)return null;if(!c.isInline())return c}return null})(i.focus.getNode());if(!s)return!1;const l=s.getPreviousSibling();return!!ye(l)&&(Mt(e),e.shiftKey?i.focus.set(l.getParentOrThrow().getKey(),l.getIndexWithinParent(),"element"):l.selectEnd(),!0)}if(e.shiftKey&&(t==="up"||t==="down")){const s=i.focus.getNode();if(!i.isCollapsed()&&(t==="up"&&!i.isBackward()||t==="down"&&i.isBackward())){let l=H(s,f=>ye(f));if(W(l)&&(l=H(l,ye)),l!==r||!l)return!1;const a=t==="down"?l.getNextSibling():l.getPreviousSibling();if(!a)return!1;let u=0;t==="up"&&N(a)&&(u=a.getChildrenSize());let c=a;t==="up"&&N(a)&&(c=a.getLastChild()||a,u=R(c)?c.getTextContentSize():0);const d=i.clone();return d.focus.set(c.getKey(),u,R(c)?"text":"element"),fe(d),Mt(e),!0}if(Pe(s)){const l=t==="up"?i.getNodes()[i.getNodes().length-1]:i.getNodes()[0];if(l&&Fr(r,l)!==null){const a=r.getFirstDescendant(),u=r.getLastDescendant();if(!a||!u)return!1;const[c]=Oe(a),[d]=Oe(u),f=r.getCordsFromCellNode(c,o.table),h=r.getCordsFromCellNode(d,o.table),g=r.getDOMCellFromCordsOrThrow(f.x,f.y,o.table),m=r.getDOMCellFromCordsOrThrow(h.x,h.y,o.table);return o.$setAnchorCellForSelection(g),o.$setFocusCellForSelection(m,!0),!0}return!1}{let l=H(s,u=>N(u)&&!u.isInline());if(W(l)&&(l=H(l,ye)),!l)return!1;const a=t==="down"?l.getNextSibling():l.getPreviousSibling();if(ye(a)&&o.tableNodeKey===a.getKey()){const u=a.getFirstDescendant(),c=a.getLastDescendant();if(!u||!c)return!1;const[d]=Oe(u),[f]=Oe(c),h=i.clone();return h.focus.set((t==="up"?d:f).getKey(),t==="up"?0:f.getChildrenSize(),"element"),Mt(e),fe(h),!0}}}}return t==="down"&&ri(n)&&o.setShouldCheckSelection(),!1}if(T(i)){if(t==="backward"||t==="forward")return m_(n,e,i,e.shiftKey?"extend":"move",t==="backward",r,o);if(i.isCollapsed()){const{anchor:s,focus:l}=i,a=H(s.getNode(),W),u=H(l.getNode(),W);if(!W(a)||!a.is(u))return!1;const c=Tn(a);if(c!==r&&c!=null){const y=Pn(c,n.getElementByKey(c.getKey()));if(y!=null)return o.table=sr(c,y),lg(n,e,t,c,o)}const d=n.getElementByKey(a.__key),f=n.getElementByKey(s.key);if(f==null||d==null)return!1;let h;if(s.type==="element")h=f.getBoundingClientRect();else{const y=We(Yl(n));if(y===null||y.rangeCount===0)return!1;h=y.getRangeAt(0).getBoundingClientRect()}const g=t==="up"?a.getFirstChild():a.getLastChild();if(g==null)return!1;const m=n.getElementByKey(g.__key);if(m==null)return!1;const p=m.getBoundingClientRect();if(t==="up"?p.top>h.top-h.height:h.bottom+h.height>p.bottom){Mt(e);const y=r.getCordsFromCellNode(a,o.table);if(!e.shiftKey)return h_(o,r,y.x,y.y,t);{const _=r.getDOMCellFromCordsOrThrow(y.x,y.y,o.table);o.$setAnchorCellForSelection(_),o.$setFocusCellForSelection(_,!0)}return!0}}}else if(oe(i)){const{anchor:s,focus:l}=i,a=H(s.getNode(),W),u=H(l.getNode(),W),[c]=i.getNodes();ye(c)||z(251);const d=Pn(c,n.getElementByKey(c.getKey()));if(!W(a)||!W(u)||!ye(c)||d==null)return!1;o.$updateTableTableSelection(i);const f=sr(c,d),h=r.getCordsFromCellNode(a,f),g=r.getDOMCellFromCordsOrThrow(h.x,h.y,f);if(o.$setAnchorCellForSelection(g),Mt(e),e.shiftKey){const[m,p,y]=Ke(r,a,u);return p_(o,m,p,y,t)}return u.selectEnd(),!0}return!1}function Mt(n){n.preventDefault(),n.stopImmediatePropagation(),n.stopPropagation()}function ec(n,e,t){const r=Y();n==="first"?e.insertBefore(r):e.insertAfter(r),r.append(...t||[]),r.selectEnd()}function tc(n,e,t){const r=t.getParent();if(!r)return;const o=We(Yl(n));if(!o)return;const i=o.anchorNode,s=n.getElementByKey(r.getKey()),l=Pn(t,n.getElementByKey(t.getKey()));if(!i||!s||!l||!s.contains(i)||l.contains(i))return;const a=H(e.anchor.getNode(),_=>W(_));if(!a)return;const u=H(a,_=>ye(_));if(!ye(u)||!u.is(t))return;const[c,d]=Ke(t,a,a),f=c[0][0],h=c[c.length-1][c[0].length-1],{startRow:g,startColumn:m}=d,p=g===f.startRow&&m===f.startColumn,y=g===h.startRow&&m===h.startColumn;return p?"first":y?"last":void 0}function mn(n,e){const{tableNode:t}=n.$lookup(),r=t.getCordsFromCellNode(e,n.table);return t.getDOMCellFromCordsOrThrow(r.x,r.y,n.table)}function qs(n,e,t){return Fr(n,we(e,t))}function nc(n,e,t){if(!e.theme.tableAlignment)return;const r=[],o=[];for(const i of["center","right"]){const s=e.theme.tableAlignment[i];s&&(i===t?o:r).push(s)}ht(n,...r),he(n,...o)}const Ys=new WeakSet;function ri(n=mr()){return Ys.has(n)}function __(n,e){e?Ys.add(n):Ys.delete(n)}class on extends ke{__rowStriping;__frozenColumnCount;__frozenRowCount;__colWidths;static getType(){return"table"}getColWidths(){return this.getLatest().__colWidths}setColWidths(e){const t=this.getWritable();return t.__colWidths=e,t}static clone(e){return new on(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__colWidths=e.__colWidths,this.__rowStriping=e.__rowStriping,this.__frozenColumnCount=e.__frozenColumnCount,this.__frozenRowCount=e.__frozenRowCount}static importDOM(){return{table:e=>({conversion:b_,priority:1})}}static importJSON(e){return Gl().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setRowStriping(e.rowStriping||!1).setFrozenColumns(e.frozenColumnCount||0).setFrozenRows(e.frozenRowCount||0).setColWidths(e.colWidths)}constructor(e){super(e),this.__rowStriping=!1,this.__frozenColumnCount=0,this.__frozenRowCount=0,this.__colWidths=void 0}exportJSON(){return{...super.exportJSON(),colWidths:this.getColWidths(),frozenColumnCount:this.__frozenColumnCount?this.__frozenColumnCount:void 0,frozenRowCount:this.__frozenRowCount?this.__frozenRowCount:void 0,rowStriping:this.__rowStriping?this.__rowStriping:void 0}}extractWithChild(e,t,r){return r==="html"}getDOMSlot(e){const t=Xn(e)?e:e.querySelector("table");return Xn(t)||z(229),super.getDOMSlot(e).withElement(t).withAfter(t.querySelector("colgroup"))}createDOM(e,t){const r=document.createElement("table");this.__style&&(r.style.cssText=this.__style);const o=document.createElement("colgroup");if(r.appendChild(o),Dh(o),he(r,e.theme.table),this.updateTableElement(null,r,e),ri(t)){const i=document.createElement("div"),s=e.theme.tableScrollableWrapper;return s?he(i,s):i.style.cssText="overflow-x: auto;",i.appendChild(r),this.updateTableWrapper(null,i,r,e),i}return r}updateTableWrapper(e,t,r,o){this.__frozenColumnCount!==(e?e.__frozenColumnCount:0)&&(function(i,s,l,a){a>0?(he(i,l.theme.tableFrozenColumn),s.setAttribute("data-lexical-frozen-column","true")):(ht(i,l.theme.tableFrozenColumn),s.removeAttribute("data-lexical-frozen-column"))})(t,r,o,this.__frozenColumnCount),this.__frozenRowCount!==(e?e.__frozenRowCount:0)&&(function(i,s,l,a){a>0?(he(i,l.theme.tableFrozenRow),s.setAttribute("data-lexical-frozen-row","true")):(ht(i,l.theme.tableFrozenRow),s.removeAttribute("data-lexical-frozen-row"))})(t,r,o,this.__frozenRowCount)}updateTableElement(e,t,r){this.__style!==(e?e.__style:"")&&(t.style.cssText=this.__style),this.__rowStriping!==(!!e&&e.__rowStriping)&&(function(o,i,s){s?(he(o,i.theme.tableRowStriping),o.setAttribute("data-lexical-row-striping","true")):(ht(o,i.theme.tableRowStriping),o.removeAttribute("data-lexical-row-striping"))})(t,r,this.__rowStriping),(function(o,i,s,l){const a=o.querySelector("colgroup");if(!a)return;const u=[];for(let c=0;c<s;c++){const d=document.createElement("col"),f=l&&l[c];f&&(d.style.width=`${f}px`),u.push(d)}a.replaceChildren(...u)})(t,0,this.getColumnCount(),this.getColWidths()),nc(t,r,this.getFormatType())}updateDOM(e,t,r){const o=this.getDOMSlot(t).element;return t===o===ri()||(Q(i=t)&&i.nodeName==="DIV"&&this.updateTableWrapper(e,t,o,r),this.updateTableElement(e,o,r),!1);var i}exportDOM(e){const t=super.exportDOM(e),{element:r}=t;return{after:o=>{if(t.after&&(o=t.after(o)),!Xn(o)&&Q(o)&&(o=o.querySelector("table")),!Xn(o))return null;nc(o,e._config,this.getFormatType());const[i]=Dt(this,null,null),s=new Map;for(const c of i)for(const d of c){const f=d.cell.getKey();s.has(f)||s.set(f,{colSpan:d.cell.getColSpan(),startColumn:d.startColumn})}const l=new Set;for(const c of o.querySelectorAll(":scope > tr > [data-temporary-table-cell-lexical-key]")){const d=c.getAttribute("data-temporary-table-cell-lexical-key");if(d){const f=s.get(d);if(c.removeAttribute("data-temporary-table-cell-lexical-key"),f){s.delete(d);for(let h=0;h<f.colSpan;h++)l.add(h+f.startColumn)}}}const a=o.querySelector(":scope > colgroup");if(a){const c=Array.from(o.querySelectorAll(":scope > colgroup > col")).filter((d,f)=>l.has(f));a.replaceChildren(...c)}const u=o.querySelectorAll(":scope > tr");if(u.length>0){const c=document.createElement("tbody");for(const d of u)c.appendChild(d);o.append(c)}return o},element:!Xn(r)&&Q(r)?r.querySelector("table"):r}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:r,domRows:o}=t;for(let i=0;i<r;i++){const s=o[i];if(s!=null)for(let l=0;l<s.length;l++){const a=s[l];if(a==null)continue;const{elem:u}=a,c=qs(this,u);if(c!==null&&e.is(c))return{x:l,y:i}}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,r){const{domRows:o}=r,i=o[t];if(i==null)return null;const s=i[e<i.length?e:i.length-1];return s??null}getDOMCellFromCordsOrThrow(e,t,r){const o=this.getDOMCellFromCords(e,t,r);if(!o)throw new Error("Cell not found at cords.");return o}getCellNodeFromCords(e,t,r){const o=this.getDOMCellFromCords(e,t,r);if(o==null)return null;const i=we(o.elem);return W(i)?i:null}getCellNodeFromCordsOrThrow(e,t,r){const o=this.getCellNodeFromCords(e,t,r);if(!o)throw new Error("Node at cords not TableCellNode.");return o}getRowStriping(){return!!this.getLatest().__rowStriping}setRowStriping(e){const t=this.getWritable();return t.__rowStriping=e,t}setFrozenColumns(e){const t=this.getWritable();return t.__frozenColumnCount=e,t}getFrozenColumns(){return this.getLatest().__frozenColumnCount}setFrozenRows(e){const t=this.getWritable();return t.__frozenRowCount=e,t}getFrozenRows(){return this.getLatest().__frozenRowCount}canSelectBefore(){return!0}canIndent(){return!1}getColumnCount(){const e=this.getFirstChild();if(!e)return 0;let t=0;return e.getChildren().forEach(r=>{W(r)&&(t+=r.getColSpan())}),t}}function y_(n,e){const t=n.getElementByKey(e.getKey());return t===null&&z(230),sr(e,t)}function b_(n){const e=Gl();n.hasAttribute("data-lexical-row-striping")&&e.setRowStriping(!0),n.hasAttribute("data-lexical-frozen-column")&&e.setFrozenColumns(1),n.hasAttribute("data-lexical-frozen-row")&&e.setFrozenRows(1);const t=n.querySelector(":scope > colgroup");if(t){let r=[];for(const o of t.querySelectorAll(":scope > col")){let i=o.style.width||"";if(!jl.test(i)&&(i=o.getAttribute("width")||"",!/^\d+$/.test(i))){r=void 0;break}r.push(parseFloat(i))}r&&e.setColWidths(r)}return{after:r=>ad(r,pe),node:e}}function Gl(){return Ie(new on)}function ye(n){return n instanceof on}function x_(n){pe(n.getParent())?n.isEmpty()&&n.append(Y()):n.remove()}function S_(n){ye(n.getParent())?sd(n,W):n.remove()}function C_(n){sd(n,pe);const[e]=Dt(n,null,null),t=e.reduce((s,l)=>Math.max(s,l.length),0),r=n.getChildren();for(let s=0;s<e.length;++s){const l=r[s];if(!l)continue;pe(l)||z(254,l.constructor.name,l.getType());const a=e[s].reduce((u,c)=>c?1+u:u,0);if(a!==t)for(let u=a;u<t;++u){const c=pt();c.append(Y()),l.append(c)}}const o=n.getColWidths(),i=n.getColumnCount();if(o&&o.length!==i){let s;if(i<o.length)s=o.slice(0,i);else if(o.length>0){const l=o[o.length-1];s=[...o,...Array(i-o.length).fill(l)]}n.setColWidths(s)}}function v_(n){if(n.detail<3||!it(n.target))return!1;const e=we(n.target);if(e===null)return!1;const t=H(e,r=>N(r)&&!r.isInline());return t===null?!1:!!W(t.getParent())&&(t.select(0),!0)}function w_(){const n=k();if(!T(n))return!1;const e=Tn(n.anchor.getNode());if(e===null)return!1;const t=ge();if(!t.is(e.getParent())||t.getChildrenSize()!==1)return!1;const[r]=Dt(e,null,null);if(r.length===0||r[0].length===0)return!1;const o=r[0][0];if(!o||!o.cell)return!1;const i=r[r.length-1],s=i[i.length-1];if(!s||!s.cell)return!1;const l=js(e,o.cell,s.cell);return fe(l),!0}function E_(n){return n.registerNodeTransform(un,e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,t]=Oe(e),[r]=Ke(t,e,e),o=r.length,i=r[0].length;let s=t.getFirstChild();pe(s)||z(175);const l=[];for(let a=0;a<o;a++){a!==0&&(s=s.getNextSibling(),pe(s)||z(175));let u=null;for(let c=0;c<i;c++){const d=r[a][c],f=d.cell;if(d.startRow===a&&d.startColumn===c)u=f,l.push(f);else if(f.getColSpan()>1||f.getRowSpan()>1){W(f)||z(176);const h=pt(f.__headerState);u!==null?u.insertAfter(h):Sp(s,h)}}}for(const a of l)a.setColSpan(1),a.setRowSpan(1)}})}function T_(n,e=!0){const t=new Map,r=(i,s,l)=>{const a=Pn(i,l),u=g_(i,a,n,e);t.set(s,[u,a])},o=n.registerMutationListener(on,i=>{n.getEditorState().read(()=>{for(const[s,l]of i){const a=t.get(s);if(l==="created"||l==="updated"){const{tableNode:u,tableElement:c}=og(s);a===void 0?r(u,s,c):c!==a[1]&&(a[0].removeListeners(),t.delete(s),r(u,s,c))}else l==="destroyed"&&a!==void 0&&(a[0].removeListeners(),t.delete(s))}},{editor:n})},{skipInitialization:!1});return()=>{o();for(const[,[i]]of t)i.removeListeners()}}function N_(n,e){n.hasNodes([on])||z(255);const{hasNestedTables:t=Ml(!1)}=e??{};return ae(n.registerCommand(t_,r=>(function({rows:o,columns:i,includeHeaders:s},l){const a=k()||kt();if(!a||!T(a)||!l&&Tn(a.anchor.getNode()))return!1;const u=o_(Number(o),Number(i),s);id(u);const c=u.getFirstDescendant();return R(c)&&c.select(),!0})(r,t.peek()),B),n.registerCommand(Gc,(r,o)=>{if(n!==o)return!1;if((function(l){const{nodes:a,selection:u}=l,c=u.getStartEndPoints(),d=oe(u),f=T(u),h=f&&H(u.anchor.getNode(),U=>W(U))!==null&&H(u.focus.getNode(),U=>W(U))!==null||d;if(a.length!==1||!ye(a[0])||!h||c===null)return!1;const[g,m]=c,[p,y,_]=Oe(g),b=H(m.getNode(),U=>W(U));if(!(W(p)&&W(b)&&pe(y)&&ye(_)))return!1;const S=a[0],[x,C,v]=Ke(_,p,b),[E]=Dt(S,null,null),w=x.length,$=w>0?x[0].length:0;let A=C.startRow,O=C.startColumn,L=E.length,P=L>0?E[0].length:0;if(d){const U=ti(x,C,v),_e=U.maxRow-U.minRow+1,me=U.maxColumn-U.minColumn+1;A=U.minRow,O=U.minColumn,L=Math.min(L,_e),P=Math.min(P,me)}let I=!1;const q=Math.min(w,A+L)-1,re=Math.min($,O+P)-1,J=new Set;for(let U=A;U<=q;U++)for(let _e=O;_e<=re;_e++){const me=x[U][_e];J.has(me.cell.getKey())||me.cell.__rowSpan===1&&me.cell.__colSpan===1||(tg(me.cell),J.add(me.cell.getKey()),I=!0)}let[X]=Dt(_.getWritable(),null,null);const xe=L-w+A;for(let U=0;U<xe;U++)Us(X[w-1][0].cell);const Ee=P-$+O;for(let U=0;U<Ee;U++)Hs(X[0][$-1].cell,!0,!1);[X]=Dt(_.getWritable(),null,null);for(let U=A;U<A+L;U++)for(let _e=O;_e<O+P;_e++){const me=U-A,Ze=_e-O,Le=E[me][Ze];if(Le.startRow!==me||Le.startColumn!==Ze)continue;const Je=Le.cell;if(Je.__rowSpan!==1||Je.__colSpan!==1){const De=[],Un=Math.min(U+Je.__rowSpan,A+L)-1,Ni=Math.min(_e+Je.__colSpan,O+P)-1;for(let cn=U;cn<=Un;cn++)for(let ki=_e;ki<=Ni;ki++){const vg=X[cn][ki];De.push(vg.cell)}i_(De),I=!0}const{cell:Xe}=X[U][_e],$t=Xe.getChildren();Je.getChildren().forEach(De=>{R(De)&&Y().append(De),Xe.append(De)}),$t.forEach(De=>De.remove())}if(d&&I){const[U]=Dt(_.getWritable(),null,null);U[C.startRow][C.startColumn].cell.selectEnd()}return!0})(r))return!0;const{selection:i,nodes:s}=r;return t.peek()||n!==o||!T(i)?!1:Tn(i.anchor.getNode())!==null&&s.some(ye)},B),n.registerCommand(Mr,w_,te),n.registerCommand(jr,v_,B),n.registerNodeTransform(on,C_),n.registerNodeTransform(no,S_),n.registerNodeTransform(un,x_))}let k_=class extends pi{__format;constructor(e,t){super(t),this.__format=e||""}exportJSON(){return{...super.exportJSON(),format:this.__format||""}}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format||"")}canIndent(){return!1}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(e){const t=this.getWritable();return t.__format=e,t}isInline(){return!1}};function rc(n){return n instanceof k_}function wb({children:n,format:e,nodeKey:t,className:r}){const[o]=ee(),[i,s,l]=Kd(t),a=F.useRef(null);return F.useEffect(()=>ae(o.registerCommand(sl,u=>{if(i){const c=k();if(Se(c)){const d=G(t);rc(d)&&d.setFormat(u)}else if(T(c)){const d=c.getNodes();for(const f of d)rc(f)?f.setFormat(u):Go(f).setFormat(u)}return!0}return!1},te),o.registerCommand(jr,u=>u.target===a.current&&(u.preventDefault(),u.shiftKey||l(),s(!i),!0),te)),[l,o,i,t,s]),ne.jsx("div",{className:[r.base,i?r.focus:null].filter(Boolean).join(" "),ref:a,style:{textAlign:e||void 0},children:n})}const $_=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?F.useLayoutEffect:F.useEffect;function A_(n){return{initialValueFn:()=>n.isEditable(),subscribe:e=>n.registerEditableListener(e)}}function ag(){return(function(n){const[e]=ee(),t=F.useMemo(()=>n(e),[e,n]),[r,o]=F.useState(()=>t.initialValueFn()),i=F.useRef(r);return $_(()=>{const{initialValueFn:s,subscribe:l}=t,a=s();return i.current!==a&&(i.current=a,o(a)),l(u=>{i.current=u,o(u)})},[t,n]),r})(A_)}const F_=F.createContext(null),Xi={didCatch:!1,error:null};let O_=class extends F.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Xi}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(...e){const{error:t}=this.state;t!==null&&(this.props.onReset?.({args:e,reason:"imperative-api"}),this.setState(Xi))}componentDidCatch(e,t){this.props.onError?.(e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:o}=this.props;r&&t.error!==null&&R_(e.resetKeys,o)&&(this.props.onReset?.({next:o,prev:e.resetKeys,reason:"keys"}),this.setState(Xi))}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:o}=this.props,{didCatch:i,error:s}=this.state;let l=e;if(i){const a={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")l=t(a);else if(r)l=F.createElement(r,a);else if(o!==void 0)l=o;else throw s}return F.createElement(F_.Provider,{value:{didCatch:i,error:s,resetErrorBoundary:this.resetErrorBoundary}},l)}};function R_(n=[],e=[]){return n.length!==e.length||n.some((t,r)=>!Object.is(t,e[r]))}function Tb({children:n,onError:e}){return ne.jsx(O_,{fallback:ne.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:n})}function Nb(){const[n]=ee();return F.useEffect(()=>{if(!n.hasNodes([Ll]))throw new Error("HashtagPlugin: HashtagNode not registered on editor");return Jp(n)},[n]),null}function L_(n,e,t,r,o){if(n===null||t.size===0&&r.size===0&&!o)return 0;const i=e._selection,s=n._selection;if(o)return 1;if(!(T(i)&&T(s)&&s.isCollapsed()&&i.isCollapsed()))return 0;const l=(function(y,_,b){const S=y._nodeMap,x=[];for(const C of _){const v=S.get(C);v!==void 0&&x.push(v)}for(const[C,v]of b){if(!v)continue;const E=S.get(C);E===void 0||ve(E)||x.push(E)}return x})(e,t,r);if(l.length===0)return 0;if(l.length>1){const y=e._nodeMap,_=y.get(i.anchor.key),b=y.get(s.anchor.key);return _&&b&&!n._nodeMap.has(_.__key)&&R(_)&&_.__text.length===1&&i.anchor.offset===1?2:0}const a=l[0],u=n._nodeMap.get(a.__key);if(!R(u)||!R(a)||u.__mode!==a.__mode)return 0;const c=u.__text,d=a.__text;if(c===d)return 0;const f=i.anchor,h=s.anchor;if(f.key!==h.key||f.type!=="text")return 0;const g=f.offset,m=h.offset,p=d.length-c.length;return p===1&&m===g-1?2:p===-1&&m===g+1?3:p===-1&&m===g?4:0}function M_(n,e){let t=Date.now(),r=0;return(o,i,s,l,a,u)=>{const c=Date.now();if(u.has(Bo))return r=0,t=c,2;const d=L_(o,i,l,a,n.isComposing()),f=(()=>{const h=s===null||s.editor===n,g=u.has(ah);if(!g&&h&&u.has(xn))return 0;if(o===null)return 1;const m=i._selection;if(!(l.size>0||a.size>0))return m!==null?0:2;const p=typeof e=="number"?e:e.peek();return g===!1&&d!==0&&d===r&&c<t+p&&h||l.size===1&&(function(y,_,b){const S=_._nodeMap.get(y),x=b._nodeMap.get(y),C=_._selection,v=b._selection;return!(T(C)&&T(v)&&C.anchor.type==="element"&&C.focus.type==="element"&&v.anchor.type==="text"&&v.focus.type==="text"||!R(S)||!R(x)||S.__parent!==x.__parent)&&JSON.stringify(_.read(()=>S.exportJSON()))===JSON.stringify(b.read(()=>x.exportJSON()))})(Array.from(l)[0],o,i)?0:1})();return t=c,r=d,f}}function oc(n){n.undoStack=[],n.redoStack=[],n.current=null}function ug(n,e,t){const r=M_(n,t);return ae(n.registerCommand(rl,()=>((function(i,s){const l=s.redoStack,a=s.undoStack;if(a.length!==0){const u=s.current,c=a.pop();u!==null&&(l.push(u),i.dispatchCommand(ro,!0)),a.length===0&&i.dispatchCommand(oo,!1),s.current=c||null,c&&c.editor.setEditorState(c.editorState,{tag:Bo})}})(n,e),!0),B),n.registerCommand(ol,()=>((function(i,s){const l=s.redoStack,a=s.undoStack;if(l.length!==0){const u=s.current;u!==null&&(a.push(u),i.dispatchCommand(oo,!0));const c=l.pop();l.length===0&&i.dispatchCommand(ro,!1),s.current=c||null,c&&c.editor.setEditorState(c.editorState,{tag:Bo})}})(n,e),!0),B),n.registerCommand(nf,()=>(oc(e),!1),B),n.registerCommand(eh,()=>(oc(e),n.dispatchCommand(ro,!1),n.dispatchCommand(oo,!1),!0),B),n.registerUpdateListener(({editorState:i,prevEditorState:s,dirtyLeaves:l,dirtyElements:a,tags:u})=>{const c=e.current,d=e.redoStack,f=e.undoStack,h=c===null?null:c.editorState;if(c!==null&&i===h)return;const g=r(s,i,c,l,a,u);if(g===1)d.length!==0&&(e.redoStack=[],n.dispatchCommand(ro,!1)),c!==null&&(f.push({...c}),n.dispatchCommand(oo,!0));else if(g===2)return;e.current={editor:n,editorState:i}}))}function cg(){return{current:null,redoStack:[],undoStack:[]}}const Qi={build:(n,{delay:e,createInitialHistoryState:t,disabled:r})=>Il({delay:e,disabled:r,historyState:t(n)}),config:{createInitialHistoryState:cg,delay:300,disabled:typeof window>"u"},name:"@lexical/history/History",register:(n,e,t)=>{const r=t.getOutput();return Kr(()=>r.disabled.value?void 0:ug(n,r.historyState.value,r.delay))}};Xh(Qi,{createInitialHistoryState:()=>{throw new Error("SharedHistory did not inherit parent history")},disabled:!0});function kb({delay:n,externalHistoryState:e}){const[t]=ee();return(function(r,o,i=1e3){const s=F.useMemo(()=>o||cg(),[o]);F.useEffect(()=>ug(r,s,i),[i,r,s])})(t,e,n),null}const ic=[["Cat","rgb(125, 50, 0)"],["Dog","rgb(100, 0, 0)"],["Rabbit","rgb(150, 0, 0)"],["Frog","rgb(200, 0, 0)"],["Fox","rgb(200, 75, 0)"],["Hedgehog","rgb(0, 75, 0)"],["Pigeon","rgb(0, 125, 0)"],["Squirrel","rgb(75, 100, 0)"],["Bear","rgb(125, 100, 0)"],["Tiger","rgb(0, 0, 150)"],["Leopard","rgb(0, 0, 200)"],["Zebra","rgb(0, 0, 250)"],["Wolf","rgb(0, 100, 150)"],["Owl","rgb(0, 100, 100)"],["Gull","rgb(100, 0, 100)"],["Squid","rgb(150, 0, 150)"]],sc=ic[Math.floor(Math.random()*ic.length)],P_=F.createContext(null);function I_(){return{color:sc[1],isCollabActive:!1,name:sc[0],yjsDocMap:new Map}}I_();function $b({initialEditor:n,children:e,initialNodes:t,initialTheme:r,skipCollabChecks:o,skipEditableListener:i}){const s=F.useRef(!1),l=F.useContext(Qo);l==null&&(function(m,...p){const y=new URL("https://lexical.dev/docs/error"),_=new URLSearchParams;_.append("code",m);for(const b of p)_.append("v",b);throw y.search=_.toString(),Error(`Minified Lexical error #${m}; visit ${y.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(9);const[a,{getTheme:u}]=l,c=F.useMemo(()=>{const m=r||u()||void 0,p=Bd(l,m);m!==void 0&&(n._config.theme=m),n._parentEditor=n._parentEditor||a;const y=n._createEditorArgs,_=y&&y.namespace;if(t){_||(n._config.namespace=a._config.namespace);for(let b of t){let S=null,x=null;if(typeof b!="function"){const v=b;b=v.replace,S=v.with,x=v.withKlass||null}const C=mi(n,b.getType());n._nodes.set(b.getType(),{exportDOM:C?C.exportDOM:void 0,klass:b,replace:S,replaceWithKlass:x,sharedNodeState:ns(b),transforms:bs(b)})}}else if(y&&y.nodes)_||(n._config.namespace=a._config.namespace);else{const b=n._nodes=new Map(a._nodes);_||(n._config.namespace=a._config.namespace);for(const[S,x]of b)n._nodes.set(S,{exportDOM:x.exportDOM,klass:x.klass,replace:x.replace,replaceWithKlass:x.replaceWithKlass,sharedNodeState:ns(x.klass),transforms:bs(x.klass)})}return[n,p]},[]),d=F.useContext(P_),{isCollabActive:f,yjsDocMap:h}=d??{},g=o||s.current||h&&h.has(n.getKey());return F.useEffect(()=>{g&&(s.current=!0)},[g]),F.useEffect(()=>{if(!i){const m=p=>n.setEditable(p);return m(a.isEditable()),a.registerEditableListener(m)}},[n,a,i]),ne.jsx(Qo.Provider,{value:c,children:!f||g?e:null})}const fg={name:"@lexical/react/ReactProvider"};function D_(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Zl=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?F.useLayoutEffect:F.useEffect;function B_({editor:n,ErrorBoundary:e}){return(function(t,r){const[o,i]=F.useState(()=>t.getDecorators());return Zl(()=>t.registerDecoratorListener(s=>{Or.flushSync(()=>{i(s)})}),[t]),F.useEffect(()=>{i(t.getDecorators())},[t]),F.useMemo(()=>{const s=[],l=Object.keys(o);for(let a=0;a<l.length;a++){const u=l[a],c=ne.jsx(r,{onError:f=>t._onError(f),children:ne.jsx(F.Suspense,{fallback:null,children:o[u]})}),d=t.getElementByKey(u);d!==null&&s.push(Or.createPortal(c,d,u))}return s},[r,o,t])})(n,e)}function K_({editor:n,ErrorBoundary:e}){return(function(t){const r=Bl.maybeFromEditor(t);if(r&&r.hasExtensionByName(fg.name)){for(const o of["@lexical/plain-text","@lexical/rich-text"])r.hasExtensionByName(o)&&D_(320,o);return!0}return!1})(n)?null:ne.jsx(B_,{editor:n,ErrorBoundary:e})}function lc(n){return n.getEditorState().read(Rl(n.isComposing()))}function Ab({contentEditable:n,placeholder:e=null,ErrorBoundary:t}){const[r]=ee();return(function(o){Zl(()=>ae(e_(o),Gd(o)),[o])})(r),ne.jsxs(ne.Fragment,{children:[n,ne.jsx(z_,{content:e}),ne.jsx(K_,{editor:r,ErrorBoundary:t})]})}function z_({content:n}){const[e]=ee(),t=(function(o){const[i,s]=F.useState(()=>lc(o));return Zl(()=>{function l(){const a=lc(o);s(a)}return l(),ae(o.registerUpdateListener(()=>{l()}),o.registerEditableListener(()=>{l()}))},[o]),i})(e),r=ag();return t?typeof n=="function"?n(r):n:null}function Fb(n,e,t){const[r]=ee();F.useEffect(()=>ae(..._d(r,n,e,t)),[t,r,n,e])}function Ob({validateUrl:n,attributes:e}){const[t]=ee();return F.useEffect(()=>{if(!t.hasNodes([_r]))throw new Error("LinkPlugin: LinkNode not registered on editor")}),F.useEffect(()=>gm(t,Il({attributes:e,validateUrl:n})),[t,n,e]),null}const ac="startTransition",Vs=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,W_=Vs?F.useLayoutEffect:F.useEffect;let Rb=class{key;ref;constructor(e){this.key=e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}};const uc=n=>{const e=document.getElementById("typeahead-menu");if(!e)return;const t=e.getBoundingClientRect();t.top+t.height>window.innerHeight&&e.scrollIntoView({block:"center"}),t.top<0&&e.scrollIntoView({block:"center"}),n.scrollIntoView({block:"nearest"})};function cc(n,e){const t=n.getBoundingClientRect(),r=e.getBoundingClientRect();return t.top>=r.top-6&&t.top<=r.bottom+6}function U_(n,e,t,r){const[o]=ee();F.useEffect(()=>{if(e!=null&&n!=null){const i=o.getRootElement(),s=i!=null?(function(d){let f=getComputedStyle(d);const h=f.position==="absolute",g=/(auto|scroll)/;if(f.position==="fixed")return document.body;for(let m=d;m=m.parentElement;)if(f=getComputedStyle(m),(!h||f.position!=="static")&&g.test(f.overflow+f.overflowY+f.overflowX))return m;return document.body})(i):document.body;let l=!1,a=cc(e,s);const u=function(){l||(window.requestAnimationFrame(function(){t(),l=!1}),l=!0);const d=cc(e,s);d!==a&&(a=d,r?.(d))},c=new ResizeObserver(t);return window.addEventListener("resize",t),document.addEventListener("scroll",u,{capture:!0,passive:!0}),c.observe(e),()=>{c.unobserve(e),window.removeEventListener("resize",t),document.removeEventListener("scroll",u,!0)}}},[e,o,r,t,n])}const fc=K("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function H_({close:n,editor:e,anchorElementRef:t,resolution:r,options:o,menuRenderFn:i,onSelectOption:s,shouldSplitNodeWithQuery:l=!1,commandPriority:a=te,preselectFirstItem:u=!0}){const[c,d]=F.useState(null),f=c!==null?Math.min(o.length-1,c):null,h=r.match&&r.match.matchingString;F.useEffect(()=>{u&&d(0)},[h,u]);const g=F.useCallback(p=>{e.update(()=>{const y=r.match!=null&&l?(function(_){const b=k();if(!T(b)||!b.isCollapsed())return null;const S=b.anchor;if(S.type!=="text")return null;const x=S.getNode();if(!x.isSimpleText())return null;const C=S.offset,v=x.getTextContent().slice(0,C),E=_.replaceableString.length,w=C-(function(A,O,L){let P=L;for(let I=P;I<=O.length;I++)A.slice(-I)===O.substring(0,I)&&(P=I);return P})(v,_.matchingString,E);if(w<0)return null;let $;return w===0?[$]=x.splitText(C):[,$]=x.splitText(w,C),$})(r.match):null;s(p,y,n,r.match?r.match.matchingString:"")})},[e,l,r.match,s,n]),m=F.useCallback(p=>{const y=e.getRootElement();y!==null&&(y.setAttribute("aria-activedescendant","typeahead-item-"+p),d(p))},[e]);return F.useEffect(()=>()=>{const p=e.getRootElement();p!==null&&p.removeAttribute("aria-activedescendant")},[e]),W_(()=>{o===null?d(null):f===null&&u&&m(0)},[o,f,m,u]),F.useEffect(()=>ae(e.registerCommand(fc,({option:p})=>!(!p.ref||p.ref.current==null)&&(uc(p.ref.current),!0),a)),[e,m,a]),F.useEffect(()=>ae(e.registerCommand(en,p=>{const y=p;if(o!==null&&o.length){const _=f===null?0:f!==o.length-1?f+1:0;m(_);const b=o[_];if(!b)return m(-1),y.preventDefault(),y.stopImmediatePropagation(),!0;b.ref&&b.ref.current&&e.dispatchCommand(fc,{index:_,option:b}),y.preventDefault(),y.stopImmediatePropagation()}return!0},a),e.registerCommand(Nt,p=>{const y=p;if(o!==null&&o.length){const _=f===null?o.length-1:f!==0?f-1:o.length-1;m(_);const b=o[_];if(!b)return m(-1),y.preventDefault(),y.stopImmediatePropagation(),!0;b.ref&&b.ref.current&&uc(b.ref.current),y.preventDefault(),y.stopImmediatePropagation()}return!0},a),e.registerCommand(ur,p=>{const y=p;return y.preventDefault(),y.stopImmediatePropagation(),n(),!0},a),e.registerCommand(In,p=>{const y=p;return o!==null&&f!==null&&o[f]!=null&&(y.preventDefault(),y.stopImmediatePropagation(),g(o[f]),!0)},a),e.registerCommand(An,p=>o!==null&&f!==null&&o[f]!=null&&(p!==null&&(p.preventDefault(),p.stopImmediatePropagation()),g(o[f]),!0),a)),[g,n,e,o,f,m,a]),i(t,F.useMemo(()=>({options:o,selectOptionAndCleanUp:g,selectedIndex:f,setHighlightedIndex:d}),[g,f,o]),r.match?r.match.matchingString:"")}function dc(n,e){e!=null&&(n.className=e),n.setAttribute("aria-label","Typeahead menu"),n.setAttribute("role","listbox"),n.style.display="block",n.style.position="absolute"}const j_=`\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'"~=<>_:;`;function Mb(n,{minLength:e=1,maxLength:t=75,punctuation:r=j_,allowWhitespace:o=!1}){return F.useCallback(i=>{const s=new RegExp("(^|\\s|\\()(["+n+"]((?:"+("[^"+n+r+(o?"":"\\s")+"]")+"){0,"+t+"}))$").exec(i);if(s!==null){const l=s[1],a=s[3];if(a.length>=e)return{leadOffset:s.index+l.length,matchingString:a,replaceableString:s[2]}}return null},[o,n,r,t,e])}function Pb({options:n,onQueryChange:e,onSelectOption:t,onOpen:r,onClose:o,menuRenderFn:i,triggerFn:s,anchorClassName:l,commandPriority:a=te,parent:u,preselectFirstItem:c=!0,ignoreEntityBoundary:d=!1}){const[f]=ee(),[h,g]=F.useState(null),m=(function(_,b,S,x=Vs?document.body:void 0,C=!0){const[v]=ee(),E=Vs?document.createElement("div"):null,w=F.useRef(E),$=F.useCallback(()=>{if(w.current===null||x===void 0)return;w.current.style.top=w.current.style.bottom;const O=v.getRootElement(),L=w.current,P=L.firstChild;if(O!==null&&_!==null){const{left:I,top:q,width:re,height:J}=_.getRect(),X=w.current.offsetHeight;if(L.style.top=`${q+X+3+(C?window.pageYOffset:0)}px`,L.style.left=`${I+window.pageXOffset}px`,L.style.height=`${J}px`,L.style.width=`${re}px`,P!==null){P.style.top=`${q}`;const xe=P.getBoundingClientRect(),Ee=xe.height,U=xe.width,_e=O.getBoundingClientRect();I+U>_e.right&&(L.style.left=`${_e.right-U+window.pageXOffset}px`),(q+Ee>window.innerHeight||q+Ee>_e.bottom)&&q-_e.top>Ee+J&&(L.style.top=`${q-Ee-J+(C?window.pageYOffset:0)}px`)}L.isConnected||(dc(L,S),x.append(L)),L.setAttribute("id","typeahead-menu"),O.setAttribute("aria-controls","typeahead-menu")}},[v,_,C,S,x]);F.useEffect(()=>{const O=v.getRootElement();return _!==null&&$(),()=>{O!==null&&O.removeAttribute("aria-controls");const L=w.current;L!==null&&L.isConnected&&(L.remove(),L.removeAttribute("id"))}},[v,$,_]);const A=F.useCallback(O=>{_!==null&&(O||b(null))},[_,b]);return U_(_,w.current,$,A),E!=null&&E===w.current&&(dc(E,S),x?.append(E)),w})(h,g,l,u),p=F.useCallback(()=>{g(null),o!=null&&h!==null&&o()},[o,h]),y=F.useCallback(_=>{g(_),r!=null&&h===null&&r(_)},[r,h]);return F.useEffect(()=>{const _=f.registerUpdateListener(()=>{f.getEditorState().read(()=>{if(!f.isEditable())return void p();if(f.isComposing())return;const b=f._window||window,S=b.document.createRange(),x=k(),C=(function(w){let $=null;return w.getEditorState().read(()=>{const A=k();T(A)&&($=(function(O){const L=O.anchor;if(L.type!=="text")return null;const P=L.getNode();if(!P.isSimpleText())return null;const I=L.offset;return P.getTextContent().slice(0,I)})(A))}),$})(f);if(!T(x)||!x.isCollapsed()||C===null||S===null)return void p();const v=s(C,f);if(e(v?v.matchingString:null),v!==null&&(d||!(function(w,$){return $===0&&w.getEditorState().read(()=>{const A=k();if(T(A)){const O=A.anchor.getNode().getPreviousSibling();return R(O)&&O.isTextEntity()}return!1})})(f,v.leadOffset))&&(function($,A,O){const L=We(O);if(L===null||!L.isCollapsed)return!1;const P=L.anchorNode,I=$,q=L.anchorOffset;if(P==null||q==null)return!1;try{A.setStart(P,I),A.setEnd(P,q)}catch{return!1}return!0})(v.leadOffset,S,b)!==null)return E=()=>y({getRect:()=>S.getBoundingClientRect(),match:v}),void(ac in No?No[ac](E):E());var E;p()})});return()=>{_()}},[f,s,e,h,p,y,d]),F.useEffect(()=>f.registerEditableListener(_=>{_||p()}),[f,p]),h===null||f===null||m.current===null?null:ne.jsx(H_,{close:p,resolution:h,editor:f,anchorElementRef:m,options:n,menuRenderFn:i,shouldSplitNodeWithQuery:!0,onSelectOption:t,commandPriority:a,preselectFirstItem:c})}const dg=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?F.useLayoutEffect:F.useEffect;function J_({editor:n,ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:r,ariaDescribedBy:o,ariaErrorMessage:i,ariaExpanded:s,ariaInvalid:l,ariaLabel:a,ariaLabelledBy:u,ariaMultiline:c,ariaOwns:d,ariaRequired:f,autoCapitalize:h,className:g,id:m,role:p="textbox",spellCheck:y=!0,style:_,tabIndex:b,"data-testid":S,...x},C){const[v,E]=F.useState(n.isEditable()),w=F.useCallback(A=>{A&&A.ownerDocument&&A.ownerDocument.defaultView?n.setRootElement(A):n.setRootElement(null)},[n]),$=F.useMemo(()=>(function(...A){return O=>{for(const L of A)typeof L=="function"?L(O):L!=null&&(L.current=O)}})(C,w),[w,C]);return dg(()=>(E(n.isEditable()),n.registerEditableListener(A=>{E(A)})),[n]),ne.jsx("div",{"aria-activedescendant":v?e:void 0,"aria-autocomplete":v?t:"none","aria-controls":v?r:void 0,"aria-describedby":o,...i!=null?{"aria-errormessage":i}:{},"aria-expanded":v&&p==="combobox"?!!s:void 0,...l!=null?{"aria-invalid":l}:{},"aria-label":a,"aria-labelledby":u,"aria-multiline":c,"aria-owns":v?d:void 0,"aria-readonly":!v||void 0,"aria-required":f,autoCapitalize:h,className:g,contentEditable:v,"data-testid":S,id:m,ref:$,role:p,spellCheck:y,style:_,tabIndex:b,...x})}const q_=F.forwardRef(J_);function gc(n){return n.getEditorState().read(Rl(n.isComposing()))}const Ib=F.forwardRef(Y_);function Y_(n,e){const{placeholder:t,...r}=n,[o]=ee();return ne.jsxs(ne.Fragment,{children:[ne.jsx(q_,{editor:o,...r,ref:e}),t!=null&&ne.jsx(V_,{editor:o,content:t})]})}function V_({content:n,editor:e}){const t=(function(s){const[l,a]=F.useState(()=>gc(s));return dg(()=>{function u(){const c=gc(s);a(c)}return u(),ae(s.registerUpdateListener(()=>{u()}),s.registerEditableListener(()=>{u()}))},[s]),l})(e),[r,o]=F.useState(e.isEditable());if(F.useLayoutEffect(()=>(o(e.isEditable()),e.registerEditableListener(s=>{o(s)})),[e]),!t)return null;let i=null;return typeof n=="function"?i=n(r):n!==null&&(i=n),i===null?null:ne.jsx("div",{"aria-hidden":!0,children:i})}const Wn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,G_=Wn&&"documentMode"in document?document.documentMode:null,Z_=Wn&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),X_=!(!Wn||!("InputEvent"in window)||G_)&&"getTargetRanges"in new window.InputEvent("input"),Q_=Wn&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),hc=Wn&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ey=Wn&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ty=Wn&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&Z_&&!ey;function pc(n,e){e.update(()=>{if(n!==null){const t=ct(n,KeyboardEvent)?null:n.clipboardData,r=k();if(r!==null&&!r.isCollapsed()&&t!=null){n.preventDefault();const o=Jd(e);o!==null&&t.setData("text/html",o),t.setData("text/plain",r.getTextContent())}}})}function ny(n){return ae(n.registerCommand(dt,e=>{const t=k();return!!T(t)&&(t.deleteCharacter(e),!0)},B),n.registerCommand($n,e=>{const t=k();return!!T(t)&&(t.deleteWord(e),!0)},B),n.registerCommand(Qt,e=>{const t=k();return!!T(t)&&(t.deleteLine(e),!0)},B),n.registerCommand(qt,e=>{const t=k();if(!T(t))return!1;if(typeof e=="string")t.insertText(e);else{const r=e.dataTransfer;if(r!=null)Iu(r,t);else{const o=e.data;o&&t.insertText(o)}}return!0},B),n.registerCommand(Ro,()=>{const e=k();return!!T(e)&&(e.removeText(),!0)},B),n.registerCommand(Jt,e=>{const t=k();return!!T(t)&&(t.insertLineBreak(e),!0)},B),n.registerCommand(Xt,()=>{const e=k();return!!T(e)&&(e.insertLineBreak(),!0)},B),n.registerCommand(qr,e=>{const t=k();if(!T(t))return!1;const r=e,o=r.shiftKey;return!!qo(t,!0)&&(r.preventDefault(),Yo(t,o,!0),!0)},B),n.registerCommand(ai,e=>{const t=k();if(!T(t))return!1;const r=e,o=r.shiftKey;return!!qo(t,!1)&&(r.preventDefault(),Yo(t,o,!1),!0)},B),n.registerCommand(ui,e=>{const t=k();return!!T(t)&&(!hc||navigator.language!=="ko-KR")&&(e.preventDefault(),n.dispatchCommand(dt,!0))},B),n.registerCommand(ci,e=>{const t=k();return!!T(t)&&(e.preventDefault(),n.dispatchCommand(dt,!1))},B),n.registerCommand(An,e=>{const t=k();if(!T(t))return!1;if(e!==null){if((hc||Q_||ty)&&X_)return!1;e.preventDefault()}return n.dispatchCommand(Jt,!1)},B),n.registerCommand(Mr,()=>(Wf(),!0),B),n.registerCommand(Yr,e=>{const t=k();return!!T(t)&&(pc(e,n),!0)},B),n.registerCommand(Vr,e=>{const t=k();return!!T(t)&&((function(r,o){pc(r,o),o.update(()=>{const i=k();T(i)&&i.removeText()})})(e,n),!0)},B),n.registerCommand(Jr,e=>{const t=k();return!!T(t)&&((function(r,o){r.preventDefault(),o.update(()=>{const i=k(),s=ct(r,ClipboardEvent)?r.clipboardData:null;s!=null&&T(i)&&Iu(s,i)},{tag:ul})})(e,n),!0)},B),n.registerCommand(fi,e=>{const t=k();return!!T(t)&&(e.preventDefault(),!0)},B),n.registerCommand(ll,e=>{const t=k();return!!T(t)&&(e.preventDefault(),!0)},B))}function ry(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const Xl=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?F.useLayoutEffect:F.useEffect;function oy({editor:n,ErrorBoundary:e}){return(function(t,r){const[o,i]=F.useState(()=>t.getDecorators());return Xl(()=>t.registerDecoratorListener(s=>{Or.flushSync(()=>{i(s)})}),[t]),F.useEffect(()=>{i(t.getDecorators())},[t]),F.useMemo(()=>{const s=[],l=Object.keys(o);for(let a=0;a<l.length;a++){const u=l[a],c=ne.jsx(r,{onError:f=>t._onError(f),children:ne.jsx(F.Suspense,{fallback:null,children:o[u]})}),d=t.getElementByKey(u);d!==null&&s.push(Or.createPortal(c,d,u))}return s},[r,o,t])})(n,e)}function iy({editor:n,ErrorBoundary:e}){return(function(t){const r=Bl.maybeFromEditor(t);if(r&&r.hasExtensionByName(fg.name)){for(const o of["@lexical/plain-text","@lexical/rich-text"])r.hasExtensionByName(o)&&ry(320,o);return!0}return!1})(n)?null:ne.jsx(oy,{editor:n,ErrorBoundary:e})}function mc(n){return n.getEditorState().read(Rl(n.isComposing()))}function Db({contentEditable:n,placeholder:e=null,ErrorBoundary:t}){const[r]=ee();return(function(o){Xl(()=>ae(ny(o),Gd(o)),[o])})(r),ne.jsxs(ne.Fragment,{children:[n,ne.jsx(sy,{content:e}),ne.jsx(iy,{editor:r,ErrorBoundary:t})]})}function sy({content:n}){const[e]=ee(),t=(function(o){const[i,s]=F.useState(()=>mc(o));return Xl(()=>{function l(){const a=mc(o);s(a)}return l(),ae(o.registerUpdateListener(()=>{l()}),o.registerEditableListener(()=>{l()}))},[o]),i})(e),r=ag();return t?typeof n=="function"?n(r):n:null}const gg=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,ly=gg?F.useLayoutEffect:F.useEffect,_o={tag:xn};function Bb({initialConfig:n,children:e}){const t=F.useMemo(()=>{const{theme:r,namespace:o,nodes:i,onError:s,editorState:l,html:a}=n,u=Bd(null,r),c=Af({editable:n.editable,html:a,namespace:o,nodes:i,onError:d=>s(d,c),theme:r});return(function(d,f){if(f!==null){if(f===void 0)d.update(()=>{const h=ge();if(h.isEmpty()){const g=Y();h.append(g);const m=gg?document.activeElement:null;(k()!==null||m!==null&&m===d.getRootElement())&&g.select()}},_o);else if(f!==null)switch(typeof f){case"string":{const h=d.parseEditorState(f);d.setEditorState(h,_o);break}case"object":d.setEditorState(f,_o);break;case"function":d.update(()=>{ge().isEmpty()&&f(d)},_o)}}})(c,l),[c,u]},[]);return ly(()=>{const r=n.editable,[o]=t;o.setEditable(r===void 0||r)},[]),ne.jsx(Qo.Provider,{value:t,children:e})}function Kb({defaultSelection:n}){const[e]=ee();return F.useEffect(()=>{e.focus(()=>{const t=document.activeElement,r=e.getRootElement();r===null||t!==null&&r.contains(t)||r.focus({preventScroll:!0})},{defaultSelection:n})},[n,e]),null}function zb(){const[n]=ee();return F.useEffect(()=>$m(n),[n]),null}const ay=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?F.useLayoutEffect:F.useEffect;function Wb({onClear:n}){const[e]=ee();return ay(()=>Zp(e,n),[e,n]),null}function Ub({newTab:n=!0,disabled:e=!1}){const[t]=ee();return F.useEffect(()=>hm(t,Il({disabled:e,newTab:n})),[t,n,e]),null}function Hb(){const[n]=ee();return F.useEffect(()=>n.registerCommand(sm,e=>{const t=k();if(!T(t))return!1;if(t.focus.getNode()!==null){const r=wi();id(r)}return!0},B),[n]),null}function jb({hasStrictIndent:n=!1}){const[e]=ee();return F.useEffect(()=>{if(!e.hasNodes([Kn,an]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[e]),F.useEffect(()=>{if(n)return Mm(e)},[e,n]),(function(t){F.useEffect(()=>Lm(t),[t])})(e),null}function Jb({onReposition:n}){const[e]=ee();return F.useEffect(()=>hp(e,n),[e,n]),null}function qb({maxIndent:n}){const[e]=ee();return F.useEffect(()=>um(e,n),[e,n]),null}function Yb({hasCellMerge:n=!0,hasCellBackgroundColor:e=!0,hasTabHandler:t=!0,hasHorizontalScroll:r=!1,hasNestedTables:o=!1}){const[i]=ee();F.useEffect(()=>{ri(i)!==r&&(__(i,r),i.registerNodeTransform(on,()=>{})())},[i,r]);const s=F.useMemo(()=>Ml(!1),[]);return s.peek()!==o&&(s.value=o),F.useEffect(()=>N_(i,{hasNestedTables:s}),[i,s]),F.useEffect(()=>T_(i,t),[i,t]),F.useEffect(()=>{if(!n)return E_(i)},[i,n]),F.useEffect(()=>{if(!e)return i.registerNodeTransform(un,l=>{l.getBackgroundColor()!==null&&l.setBackgroundColor(null)})},[i,e,n]),null}const _c="startTransition",Gs=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,uy=Gs?F.useLayoutEffect:F.useEffect;let cy=class{key;ref;constructor(e){this.key=e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(e){this.ref={current:e}}};const yc=n=>{const e=document.getElementById("typeahead-menu");if(!e)return;const t=e.getBoundingClientRect();t.top+t.height>window.innerHeight&&e.scrollIntoView({block:"center"}),t.top<0&&e.scrollIntoView({block:"center"}),n.scrollIntoView({block:"nearest"})};function bc(n,e){const t=n.getBoundingClientRect(),r=e.getBoundingClientRect();return t.top>=r.top-6&&t.top<=r.bottom+6}function fy(n,e,t,r){const[o]=ee();F.useEffect(()=>{if(e!=null&&n!=null){const i=o.getRootElement(),s=i!=null?(function(d){let f=getComputedStyle(d);const h=f.position==="absolute",g=/(auto|scroll)/;if(f.position==="fixed")return document.body;for(let m=d;m=m.parentElement;)if(f=getComputedStyle(m),(!h||f.position!=="static")&&g.test(f.overflow+f.overflowY+f.overflowX))return m;return document.body})(i):document.body;let l=!1,a=bc(e,s);const u=function(){l||(window.requestAnimationFrame(function(){t(),l=!1}),l=!0);const d=bc(e,s);d!==a&&(a=d,r?.(d))},c=new ResizeObserver(t);return window.addEventListener("resize",t),document.addEventListener("scroll",u,{capture:!0,passive:!0}),c.observe(e),()=>{c.unobserve(e),window.removeEventListener("resize",t),document.removeEventListener("scroll",u,!0)}}},[e,o,r,t,n])}const xc=K("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function dy({close:n,editor:e,anchorElementRef:t,resolution:r,options:o,menuRenderFn:i,onSelectOption:s,shouldSplitNodeWithQuery:l=!1,commandPriority:a=te,preselectFirstItem:u=!0}){const[c,d]=F.useState(null),f=c!==null?Math.min(o.length-1,c):null,h=r.match&&r.match.matchingString;F.useEffect(()=>{u&&d(0)},[h,u]);const g=F.useCallback(p=>{e.update(()=>{const y=r.match!=null&&l?(function(_){const b=k();if(!T(b)||!b.isCollapsed())return null;const S=b.anchor;if(S.type!=="text")return null;const x=S.getNode();if(!x.isSimpleText())return null;const C=S.offset,v=x.getTextContent().slice(0,C),E=_.replaceableString.length,w=C-(function(A,O,L){let P=L;for(let I=P;I<=O.length;I++)A.slice(-I)===O.substring(0,I)&&(P=I);return P})(v,_.matchingString,E);if(w<0)return null;let $;return w===0?[$]=x.splitText(C):[,$]=x.splitText(w,C),$})(r.match):null;s(p,y,n,r.match?r.match.matchingString:"")})},[e,l,r.match,s,n]),m=F.useCallback(p=>{const y=e.getRootElement();y!==null&&(y.setAttribute("aria-activedescendant","typeahead-item-"+p),d(p))},[e]);return F.useEffect(()=>()=>{const p=e.getRootElement();p!==null&&p.removeAttribute("aria-activedescendant")},[e]),uy(()=>{o===null?d(null):f===null&&u&&m(0)},[o,f,m,u]),F.useEffect(()=>ae(e.registerCommand(xc,({option:p})=>!(!p.ref||p.ref.current==null)&&(yc(p.ref.current),!0),a)),[e,m,a]),F.useEffect(()=>ae(e.registerCommand(en,p=>{const y=p;if(o!==null&&o.length){const _=f===null?0:f!==o.length-1?f+1:0;m(_);const b=o[_];if(!b)return m(-1),y.preventDefault(),y.stopImmediatePropagation(),!0;b.ref&&b.ref.current&&e.dispatchCommand(xc,{index:_,option:b}),y.preventDefault(),y.stopImmediatePropagation()}return!0},a),e.registerCommand(Nt,p=>{const y=p;if(o!==null&&o.length){const _=f===null?o.length-1:f!==0?f-1:o.length-1;m(_);const b=o[_];if(!b)return m(-1),y.preventDefault(),y.stopImmediatePropagation(),!0;b.ref&&b.ref.current&&yc(b.ref.current),y.preventDefault(),y.stopImmediatePropagation()}return!0},a),e.registerCommand(ur,p=>{const y=p;return y.preventDefault(),y.stopImmediatePropagation(),n(),!0},a),e.registerCommand(In,p=>{const y=p;return o!==null&&f!==null&&o[f]!=null&&(y.preventDefault(),y.stopImmediatePropagation(),g(o[f]),!0)},a),e.registerCommand(An,p=>o!==null&&f!==null&&o[f]!=null&&(p!==null&&(p.preventDefault(),p.stopImmediatePropagation()),g(o[f]),!0),a)),[g,n,e,o,f,m,a]),i(t,F.useMemo(()=>({options:o,selectOptionAndCleanUp:g,selectedIndex:f,setHighlightedIndex:d}),[g,f,o]),r.match?r.match.matchingString:"")}function Sc(n,e){e!=null&&(n.className=e),n.setAttribute("aria-label","Typeahead menu"),n.setAttribute("role","listbox"),n.style.display="block",n.style.position="absolute"}function gy({options:n,nodeKey:e,onClose:t,onOpen:r,onSelectOption:o,menuRenderFn:i,anchorClassName:s,commandPriority:l=te,parent:a}){const[u]=ee(),[c,d]=F.useState(null),f=(function(p,y,_,b=Gs?document.body:void 0,S=!0){const[x]=ee(),C=Gs?document.createElement("div"):null,v=F.useRef(C),E=F.useCallback(()=>{if(v.current===null||b===void 0)return;v.current.style.top=v.current.style.bottom;const $=x.getRootElement(),A=v.current,O=A.firstChild;if($!==null&&p!==null){const{left:L,top:P,width:I,height:q}=p.getRect(),re=v.current.offsetHeight;if(A.style.top=`${P+re+3+(S?window.pageYOffset:0)}px`,A.style.left=`${L+window.pageXOffset}px`,A.style.height=`${q}px`,A.style.width=`${I}px`,O!==null){O.style.top=`${P}`;const J=O.getBoundingClientRect(),X=J.height,xe=J.width,Ee=$.getBoundingClientRect();L+xe>Ee.right&&(A.style.left=`${Ee.right-xe+window.pageXOffset}px`),(P+X>window.innerHeight||P+X>Ee.bottom)&&P-Ee.top>X+q&&(A.style.top=`${P-X-q+(S?window.pageYOffset:0)}px`)}A.isConnected||(Sc(A,_),b.append(A)),A.setAttribute("id","typeahead-menu"),$.setAttribute("aria-controls","typeahead-menu")}},[x,p,S,_,b]);F.useEffect(()=>{const $=x.getRootElement();return p!==null&&E(),()=>{$!==null&&$.removeAttribute("aria-controls");const A=v.current;A!==null&&A.isConnected&&(A.remove(),A.removeAttribute("id"))}},[x,E,p]);const w=F.useCallback($=>{p!==null&&($||y(null))},[p,y]);return fy(p,v.current,E,w),C!=null&&C===v.current&&(Sc(C,_),b?.append(C)),v})(c,d,s,a),h=F.useCallback(()=>{d(null),t!=null&&c!==null&&t()},[t,c]),g=F.useCallback(p=>{d(p),r!=null&&c===null&&r(p)},[r,c]),m=F.useCallback(()=>{e?u.update(()=>{const p=G(e),y=u.getElementByKey(e);var _;p!=null&&y!=null&&c==null&&(_=()=>g({getRect:()=>y.getBoundingClientRect()}),_c in No?No[_c](_):_())}):e==null&&c!=null&&h()},[h,u,e,g,c]);return F.useEffect(()=>{m()},[m,e]),F.useEffect(()=>{if(e!=null)return u.registerUpdateListener(({dirtyElements:p})=>{p.get(e)&&m()})},[u,m,e]),f.current===null||c===null||u===null?null:ne.jsx(dy,{close:h,resolution:c,editor:u,anchorElementRef:f,options:n,menuRenderFn:i,onSelectOption:o,commandPriority:l})}const Gb=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,hy=K("INSERT_EMBED_COMMAND");class Zb extends cy{title;onSelect;constructor(e,t){super(e),this.title=e,this.onSelect=t.onSelect.bind(this)}}function Xb({embedConfigs:n,onOpenEmbedModalForConfig:e,getMenuOptions:t,menuRenderFn:r,menuCommandPriority:o=te}){const[i]=ee(),[s,l]=F.useState(null),[a,u]=F.useState(null),c=F.useCallback(()=>{l(null),u(null)},[]),d=F.useCallback(async m=>{const p=i.getEditorState().read(function(){const y=G(m);if(et(y))return y.getURL()});if(p!==void 0)for(const y of n)await Promise.resolve(y.parseUrl(p))!=null&&(u(y),l(m))},[i,n]);F.useEffect(()=>ae(...[_r,vi].map(m=>i.registerMutationListener(m,(...p)=>((y,{updateTags:_,dirtyLeaves:b})=>{for(const[S,x]of y)x==="created"&&_.has(ul)&&b.size<=3?d(S):S===s&&c()})(...p),{skipInitialization:!0}))),[d,i,n,s,c]),F.useEffect(()=>i.registerCommand(hy,m=>{const p=n.find(({type:y})=>y===m);return!!p&&(e(p),!0)},B),[i,n,e]);const f=F.useCallback(async function(){if(a!=null&&s!=null){const m=i.getEditorState().read(()=>{const p=G(s);return et(p)?p:null});if(et(m)){const p=await Promise.resolve(a.parseUrl(m.__url));p!=null&&i.update(()=>{k()||m.selectEnd(),a.insertNode(i,p),m.isAttached()&&m.remove()})}}},[a,i,s]),h=F.useMemo(()=>a!=null&&s!=null?t(a,f,c):[],[a,f,t,s,c]),g=F.useCallback((m,p,y)=>{i.update(()=>{m.onSelect(p),y()})},[i]);return s!=null?ne.jsx(gy,{nodeKey:s,onClose:c,onSelectOption:g,options:h,menuRenderFn:r,commandPriority:o}):null}function py(n,e,t){F.useEffect(()=>{n.hasNodes([vi])||(function(r,...o){const i=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",r);for(const l of o)s.append("v",l);throw i.search=s.toString(),Error(`Minified Lexical error #${r}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})(77)}),F.useEffect(()=>xm(n,{changeHandlers:t?[t]:[],matchers:e}),[n,e,t])}function Qb({matchers:n,onChange:e}){const[t]=ee();return py(t,n,e),null}const Ql=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,my=Ql&&"documentMode"in document?document.documentMode:null,Cr=Ql&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);Ql&&"InputEvent"in window&&!my&&new window.InputEvent("input");class hg{_x;_y;constructor(e,t){this._x=e,this._y=t}get x(){return this._x}get y(){return this._y}equals({x:e,y:t}){return this.x===e&&this.y===t}calcDeltaXTo({x:e}){return this.x-e}calcDeltaYTo({y:e}){return this.y-e}calcHorizontalDistanceTo(e){return Math.abs(this.calcDeltaXTo(e))}calcVerticalDistance(e){return Math.abs(this.calcDeltaYTo(e))}calcDistanceTo(e){return Math.sqrt(Math.pow(this.calcDeltaXTo(e),2)+Math.pow(this.calcDeltaYTo(e),2))}}class _n{_left;_top;_right;_bottom;constructor(e,t,r,o){const[i,s]=t<=o?[t,o]:[o,t],[l,a]=e<=r?[e,r]:[r,e];this._top=i,this._right=a,this._left=l,this._bottom=s}get top(){return this._top}get right(){return this._right}get bottom(){return this._bottom}get left(){return this._left}get width(){return Math.abs(this._left-this._right)}get height(){return Math.abs(this._bottom-this._top)}equals({top:e,left:t,bottom:r,right:o}){return e===this._top&&r===this._bottom&&t===this._left&&o===this._right}contains(e){if(e instanceof hg){const{x:t,y:r}=e,o=r<this._top,i=r>this._bottom,s=t<this._left,l=t>this._right;return{reason:{isOnBottomSide:i,isOnLeftSide:s,isOnRightSide:l,isOnTopSide:o},result:!(o||i||s||l)}}{const{top:t,left:r,bottom:o,right:i}=e;return t>=this._top&&t<=this._bottom&&o>=this._top&&o<=this._bottom&&r>=this._left&&r<=this._right&&i>=this._left&&i<=this._right}}intersectsWith(e){const{left:t,top:r,width:o,height:i}=e,{left:s,top:l,width:a,height:u}=this;return(t+o>=s+a?t+o:s+a)-(t<=s?t:s)<=o+a&&(r+i>=l+u?r+i:l+u)-(r<=l?r:l)<=i+u}generateNewRect({left:e=this.left,top:t=this.top,right:r=this.right,bottom:o=this.bottom}){return new _n(e,t,r,o)}static fromLTRB(e,t,r,o){return new _n(e,t,r,o)}static fromLWTH(e,t,r,o){return new _n(e,r,e+t,r+o)}static fromPoints(e,t){const{y:r,x:o}=e,{y:i,x:s}=t;return _n.fromLTRB(o,r,s,i)}static fromDOM(e){const{top:t,width:r,left:o,height:i}=e.getBoundingClientRect();return _n.fromLWTH(o,r,t,i)}}const Cc="application/x-lexical-drag-block";let yo=1/0;function pg(n){const e=(l,a)=>l?parseFloat(window.getComputedStyle(l)[a]):0,{marginTop:t,marginBottom:r}=window.getComputedStyle(n),o=e(n.previousElementSibling,"marginBottom"),i=e(n.nextElementSibling,"marginTop"),s=Math.max(parseFloat(t),o);return{marginBottom:Math.max(parseFloat(r),i),marginTop:s}}function es(n,e,t,r=!1){const o=n.getBoundingClientRect(),i=(function(l){return l.getEditorState().read(()=>ge().getChildrenKeys())})(e);let s=null;return e.getEditorState().read(()=>{if(r){const[c,d]=[e.getElementByKey(i[0]),e.getElementByKey(i[i.length-1])],[f,h]=[c?.getBoundingClientRect(),d?.getBoundingClientRect()];if(f&&h){const g=vn(c),m=vn(d);if(t.y/g<f.top?s=c:t.y/m>h.bottom&&(s=d),s)return}}let l=(a=i.length)===0?1/0:yo>=0&&yo<a?yo:Math.floor(a/2);var a;let u=0;for(;l>=0&&l<i.length;){const c=i[l],d=e.getElementByKey(c);if(d===null)break;const f=vn(d),h=new hg(t.x/f,t.y/f),g=_n.fromDOM(d),{marginTop:m,marginBottom:p}=pg(d),y=g.generateNewRect({bottom:g.bottom+p,left:o.left,right:o.right,top:g.top-m}),{result:_,reason:{isOnTopSide:b,isOnBottomSide:S}}=y.contains(h);if(_){s=d,yo=l;break}u===0&&(u=b?-1:S?1:1/0),l+=u}}),s}function _y(n,e,t,r,o,i,s,l,a){const u=e.parentElement,c=F.useRef(!1),[d,f]=F.useState(null),h=F.useCallback(g=>{f(g),a&&a(g)},[a]);return F.useEffect(()=>{function g(p){const y=p.target;if(!Q(y))return void h(null);if(l(y))return;const _=es(e,n,p);h(_)}function m(){h(null)}return u!=null&&(u.addEventListener("mousemove",g),u.addEventListener("mouseleave",m)),()=>{u!=null&&(u.removeEventListener("mousemove",g),u.removeEventListener("mouseleave",m))}},[u,e,n,l,h]),F.useEffect(()=>{const g=vn(document.getElementsByClassName("ContentEditable__root")[0],!0);t.current&&(function(m,p,y,_){if(!m)return void(p.style.display="none");const b=m.getBoundingClientRect(),S=window.getComputedStyle(m),x=p.getBoundingClientRect(),C=y.getBoundingClientRect();let v=parseInt(S.lineHeight,10);isNaN(v)&&(v=b.bottom-b.top);const E=(b.top+(v-(x.height||v))/2-C.top+y.scrollTop)/_;p.style.display="flex",p.style.opacity="1",p.style.transform=`translate(4px, ${E}px)`})(d,t.current,e,g)},[e,d,t]),F.useEffect(()=>{function g(m){if(!c.current)return!1;const[p]=tr(m);if(p)return!1;const{pageY:y,target:_}=m;if(!Q(_))return!1;const b=es(e,n,m,!0),S=r.current;return b!==null&&S!==null&&((function(x,C,v,E){const{top:w,height:$}=C.getBoundingClientRect(),{top:A,width:O}=E.getBoundingClientRect(),{marginTop:L,marginBottom:P}=pg(C);let I=w;v>=w?I+=$+P/2:I-=L/2;const q=I-A-2+E.scrollTop;x.style.transform=`translate(24px, ${q}px)`,x.style.width=O-48+"px",x.style.opacity=".4"})(S,b,y/vn(_),e),m.preventDefault(),!0)}return ae(n.registerCommand(al,m=>g(m),te),n.registerCommand(fi,m=>(function(p){if(!c.current)return!1;const[y]=tr(p);if(y)return!1;const{target:_,dataTransfer:b,pageY:S}=p,x=b!=null?b.getData(Cc):"",C=G(x);if(!C||!Q(_))return!1;const v=es(e,n,p,!0);if(!v)return!1;const E=we(v);if(!E)return!1;if(E===C)return Cr&&n.focus(),!0;const w=v.getBoundingClientRect().top;return S/vn(_)>=w?E.insertAfter(C):E.insertBefore(C),h(null),Cr&&jf(()=>{n.focus()}),!0})(m),qe))},[e,n,r,h]),F.useEffect(()=>{if(Cr&&o)return ae(n.registerRootListener((g,m)=>{function p(y){const _=y.relatedTarget;_&&_ instanceof HTMLElement&&l(_)&&(g&&(g.focus({preventScroll:!0}),n.update(()=>{const b=k();b===null||b.dirty||(b.dirty=!0)})),y.stopImmediatePropagation())}g&&g.addEventListener("blur",p,!0),m&&m.removeEventListener("blur",p,!0)}),n.registerCommand(of,()=>{const g=n.getRootElement(),m=document.activeElement;return!!(g&&m&&m instanceof HTMLElement&&l(m))&&(g.focus({preventScroll:!0}),n.update(()=>{const p=k();p===null||p.dirty||(p.dirty=!0)}),!0)},qe))},[n,o,l]),Or.createPortal(ne.jsxs(ne.Fragment,{children:[ne.jsx("div",{draggable:!0,onDragStart:function(g){const m=g.dataTransfer;if(!m||!d)return;(function(y,_){const{transform:b}=_.style;_.style.transform="translateZ(0)",y.setDragImage(_,0,0),setTimeout(()=>{_.style.transform=b})})(m,d);let p="";if(n.update(()=>{const y=we(d);y&&(p=y.getKey())}),c.current=!0,m.setData(Cc,p),Cr){const y=n.getRootElement();y!==null&&document.activeElement!==y&&(y.focus({preventScroll:!0}),n.update(()=>{const _=k();_===null||_.dirty||(_.dirty=!0)}))}},onDragEnd:function(){var g;c.current=!1,(g=r.current)&&(g.style.opacity="0",g.style.transform="translate(-10000px, -10000px)"),Cr&&n.focus()},children:o&&i}),s]}),e)}function ex({anchorElem:n=document.body,menuRef:e,targetLineRef:t,menuComponent:r,targetLineComponent:o,isOnMenu:i,onElementChanged:s}){const[l]=ee();return _y(l,n,e,t,l._editable,r,o,i,s)}function Zs(n,e){const t={};for(const r of n){const o=e(r);o&&(t[o]?t[o].push(r):t[o]=[r])}return t}function ea(n){const e=Zs(n,t=>t.type);return{element:e.element||[],multilineElement:e["multiline-element"]||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}const vc=/[!-/:-@[-`{-~\s]/,wc=/[ \t\n\r\f]/,Xs=/[!"#$%&'()*+,\-./:;<=>?@[\]^_`{|}~]/,yy=/^\s{0,3}$/;function Qs(n){if(!ln(n))return!1;const e=n.getFirstChild();return e==null||n.getChildrenSize()===1&&R(e)&&yy.test(e.getTextContent())}function by(n,e,t,r){for(const o of e){if(!o.export)continue;const i=o.export(n,s=>oi(s,t,r));if(i!=null)return i}return N(n)?oi(n,t,r):Z(n)?n.getTextContent():null}function oi(n,e,t,r,o){const i=[],s=n.getChildren();r||(r=[]),o||(o=[]);e:for(const l of s){for(const a of t){if(!a.export)continue;const u=a.export(l,c=>oi(c,e,t,r,[...o,...r]),(c,d)=>Ec(c,d,e,r,o));if(u!=null){i.push(u);continue e}}de(l)?i.push(`
`):R(l)?i.push(Ec(l,l.getTextContent(),e,r,o)):N(l)?i.push(oi(l,e,t,r,o)):Z(l)&&i.push(l.getTextContent())}return i.join("")}function Ec(n,e,t,r,o){let i=n.getFormat()===0?e:(function(f){return f.replace(/^\s+|\s+$/g,h=>[...h].map(g=>"&#"+g.codePointAt(0)+";").join(""))})(e);n.hasFormat("code")||(i=i.replace(/([*_`~\\])/g,"\\$1"));let s="",l="",a="";const u=Tc(n,!0),c=Tc(n,!1),d=new Set;for(const f of t){const h=f.format[0],g=f.tag;bo(n,h)&&!d.has(h)&&(d.add(h),bo(u,h)&&r.find(m=>m.tag===g)||(r.push({format:h,tag:g}),s+=g))}for(let f=0;f<r.length;f++){const h=bo(n,r[f].format),g=bo(c,r[f].format);if(h&&g)continue;const m=[...r];for(;m.length>f;){const p=m.pop();o&&p&&o.find(y=>y.tag===p.tag)||(p&&typeof p.tag=="string"&&(h?g||(a+=p.tag):l+=p.tag),r.pop())}break}return i=s+i+a,l+i}function Tc(n,e){const t=e?n.getPreviousSibling():n.getNextSibling();return R(t)?t:null}function bo(n,e){return R(n)&&n.hasFormat(e)}function xy(n,e){const t=n.getTextContent(),r=e.fullMatchRegExpByTag["`"],o=e.transformersByTag["`"],i=[];let s=null;if(r&&o){const f=new RegExp(r.source,"g"),h=Array.from(t.matchAll(f));for(const g of h){const m=g.index,p=m+g[0].length;s||(s={content:g[2],endIndex:p,startIndex:m,tag:"`"}),i.push({end:p,start:m})}}const l=(function(f,h,g=[]){const m=[],p=new Set(Object.keys(h.transformersByTag).filter(S=>S[0]!=="`").map(S=>S[0])),y=S=>{let x=0;for(let C=S-1;C>=0&&f[C]==="\\";C--)x++;return x%2==1},_=S=>g.some(x=>S>=x.start&&S<x.end);let b=0;for(;b<f.length;){const S=f[b];if(!p.has(S)||y(b)||_(b)){b++;continue}let x=1;for(;b+x<f.length&&f[b+x]===S;)x++;const C=Nc(S,f,b,x,!0),v=Nc(S,f,b,x,!1);(C||v)&&m.push({active:!0,canClose:v,canOpen:C,char:S,index:b,length:x,originalLength:x}),b+=x}return m})(t,e,i),a=l.length>0?(function(f,h,g){const m={};let p=0,y=null;for(;p<h.length;){const _=h[p];if(!_.active||!_.canClose||_.length===0){p++;continue}const b=`${_.char}${_.canOpen}`,S=m[b]??-1;let x=!1;for(let C=p-1;C>S;C--){const v=h[C];if(!v.active||!v.canOpen||v.length===0||v.char!==_.char||(v.canClose||_.canOpen)&&(v.originalLength+_.originalLength)%3==0&&v.originalLength%3!=0&&_.originalLength%3!=0)continue;const E=Math.min(v.length,_.length),w=Object.keys(g.transformersByTag).filter(O=>O[0]===v.char&&O.length<=E).sort((O,L)=>L.length-O.length)[0];if(!w)continue;x=!0;const $=w.length,A={content:f.slice(v.index+v.length,_.index),endIndex:_.index+$,startIndex:v.index+(v.length-$),tag:w};(!y||A.startIndex<y.startIndex||A.startIndex===y.startIndex&&A.endIndex>y.endIndex)&&(y=A);for(let O=C+1;O<p;O++)h[O].active=!1;v.length-=$,_.length-=$,v.active=v.length>0,_.length>0?_.index+=$:(_.active=!1,p++);break}x||(m[b]=p-1,_.canOpen||(_.active=!1),p++)}return y})(t,l,e):null;let u=null,c=null;if(s&&a?a.startIndex<=s.startIndex&&a.endIndex>=s.endIndex?(u=a,c=e.transformersByTag[a.tag]):(u=s,c=o):s?(u=s,c=o):a&&(u=a,c=e.transformersByTag[a.tag]),!u||!c)return null;const d=[t.slice(u.startIndex,u.endIndex),u.tag,u.content];return d.index=u.startIndex,d.input=t,{endIndex:u.endIndex,match:d,startIndex:u.startIndex,transformer:c}}function Nc(n,e,t,r,o){if(!kc(e,t,r,o))return!1;if(n==="*")return!0;if(n==="_"){if(!kc(e,t,r,!o))return!0;const i=o?e[t-1]:e[t+r];return i!==void 0&&Xs.test(i)}return!0}function kc(n,e,t,r){const o=n[e-1],i=n[e+t],[s,l]=r?[i,o]:[o,i];return s!==void 0&&!wc.test(s)&&(!Xs.test(s)||l===void 0||wc.test(l)||Xs.test(l))}function gn(n){return R(n)&&!n.hasFormat("code")}function hn(n,e,t){let r=xy(n,e),o=(function(s,l){const a=s;let u,c,d,f;for(const h of l){if(!h.replace||!h.importRegExp)continue;const g=a.getTextContent().match(h.importRegExp);if(!g)continue;const m=g.index||0,p=h.getEndIndex?h.getEndIndex(a,g):m+g[0].length;p!==!1&&(u===void 0||c===void 0||m<u&&(p>c||p<=u))&&(u=m,c=p,d=h,f=g)}return u===void 0||c===void 0||d===void 0||f===void 0?null:{endIndex:c,match:f,startIndex:u,transformer:d}})(n,t);if(r&&o&&(r.startIndex<=o.startIndex&&r.endIndex>=o.endIndex||o.startIndex>r.endIndex?o=null:r=null),r){const s=(function(l,a,u,c,d){const f=l.getTextContent();let h,g,m;if(d[0]===f?h=l:a===0?[h,g]=l.splitText(u):[m,h,g]=l.splitText(a,u),h.setTextContent(d[2]),c)for(const p of c.format)h.hasFormat(p)||h.toggleFormat(p);return{nodeAfter:g,nodeBefore:m,transformedNode:h}})(n,r.startIndex,r.endIndex,r.transformer,r.match);gn(s.nodeAfter)&&hn(s.nodeAfter,e,t),gn(s.nodeBefore)&&hn(s.nodeBefore,e,t),gn(s.transformedNode)&&hn(s.transformedNode,e,t)}else if(o){const s=(function(l,a,u,c,d){let f,h,g;return a===0?[f,h]=l.splitText(u):[g,f,h]=l.splitText(a,u),c.replace?{nodeAfter:h,nodeBefore:g,transformedNode:c.replace(f,d)||void 0}:null})(n,o.startIndex,o.endIndex,o.transformer,o.match);if(!s)return;gn(s.nodeAfter)&&hn(s.nodeAfter,e,t),gn(s.nodeBefore)&&hn(s.nodeBefore,e,t),gn(s.transformedNode)&&hn(s.transformedNode,e,t)}const i=n.getTextContent().replace(/\\([*_`~\\])/g,"$1").replace(/&#(\d+);/g,(s,l)=>String.fromCodePoint(l));n.setTextContent(i)}function Sy(n,e=!1){const t=ea(n),r=(function(o){const i={},s={},l=[],a="(?<![\\\\])";for(const u of o){const{tag:c}=u;i[c]=u;const d=c.replace(/(\*|\^|\+)/g,"\\$1");l.push(d),c.length===1?s[c]=c==="`"?new RegExp("(?<![\\\\`])(`)((?:\\\\`|[^`])+?)(`)(?!`)"):new RegExp(`(?<![\\\\${d}])(${d})((\\\\${d})?.*?[^${d}\\s](\\\\${d})?)((?<!\\\\)|(?<=\\\\\\\\))(${d})(?![\\\\${d}])`):s[c]=new RegExp(`(?<!\\\\)(${d})((\\\\${d})?.*?[^\\s](\\\\${d})?)((?<!\\\\)|(?<=\\\\\\\\))(${d})(?!\\\\)`)}return{fullMatchRegExpByTag:s,openTagsRegExp:new RegExp(`${a}(${l.join("|")})`,"g"),transformersByTag:i}})(t.textFormat);return(o,i)=>{const s=o.split(`
`),l=s.length,a=i||ge();a.clear();for(let c=0;c<l;c++){const d=s[c],[f,h]=Cy(s,c,t.multilineElement,a);f?c=h:vy(d,a,t.element,r,t.textMatch,e)}const u=a.getChildren();for(const c of u)!e&&Qs(c)&&a.getChildrenSize()>1&&c.remove();k()!==null&&a.selectStart()}}function Cy(n,e,t,r){for(const o of t){const{handleImportAfterStartMatch:i,regExpEnd:s,regExpStart:l,replace:a}=o,u=n[e].match(l);if(!u)continue;if(i){const g=i({lines:n,rootNode:r,startLineIndex:e,startMatch:u,transformer:o});if(g===null)continue;if(g)return g}const c=typeof s=="object"&&"regExp"in s?s.regExp:s,d=s&&typeof s=="object"&&"optional"in s?s.optional:!s;let f=e;const h=n.length;for(;f<h;){const g=c?n[f].match(c):null;if(!g&&(!d||d&&f<h-1)){f++;continue}if(g&&e===f&&g.index===u.index){f++;continue}const m=[];if(g&&e===f)m.push(n[e].slice(u[0].length,-g[0].length));else for(let p=e;p<=f;p++)if(p===e){const y=n[p].slice(u[0].length);m.push(y)}else if(p===f&&g){const y=n[p].slice(0,-g[0].length);m.push(y)}else m.push(n[p]);if(a(r,null,u,g,m,!0)!==!1)return[!0,f];break}}return[!1,e]}function vy(n,e,t,r,o,i){const s=le(n),l=Y();l.append(s),e.append(l);for(const{regExp:a,replace:u}of t){const c=n.match(a);if(c&&(s.setTextContent(n.slice(c[0].length)),u(l,[s],c,!0)!==!1))break}if(hn(s,r,o),l.isAttached()&&n.length>0){const a=l.getPreviousSibling();if(!i&&(ln(a)||Ks(a)||j(a))){let u=a;if(j(a)){const c=a.getLastDescendant();u=c==null?null:H(c,V)}u!=null&&u.getTextContentSize()>0&&(u.splice(u.getChildrenSize(),0,[tt(),...l.getChildren()]),l.remove())}}}function wy(n,...e){const t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",n);for(const o of e)r.append("v",o);throw t.search=r.toString(),Error(`Minified Lexical error #${n}; visit ${t.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const mg=/^(\s*)(\d{1,})\.\s/,_g=/^(\s*)[-*+]\s/,yg=/^(\s*)(?:[-*+]\s)?\s?(\[(\s|x)?\])\s/i,el=/^(#{1,6})\s/,bg=/^>\s/,xg=/^[ \t]*```([\w-]+)?/,tl=/[ \t]*```$/,Ey=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,Ty=/^(?:\|)(.+)(?:\|)\s?$/,Ny=/^(\| ?:?-*:? ?)+\|\s?$/,$c=/^<[a-z_][\w-]*(?:\s[^<>]*)?\/?>/i,Ac=/^<\/[a-z_][\w-]*\s*>/i,Fc=n=>new RegExp(`(?:${n.source})$`,n.flags),Er=qg("mdListMarker",{parse:n=>typeof n=="string"&&/^[-*+]$/.test(n)?n:"-"}),Sg=n=>(e,t,r,o)=>{const i=n(r);i.append(...t),e.replace(i),o||i.select(0,0)},ta=n=>(e,t,r,o)=>{const i=e.getPreviousSibling(),s=e.getNextSibling(),l=nt(n==="check"?r[3]==="x":void 0),a=r[0].trim()[0],u=n!=="bullet"&&n!=="check"||a!==Er.parse(a)?void 0:a;if(j(s)&&s.getListType()===n){u&&Ai(s,Er,u);const d=s.getFirstChild();d!==null?d.insertBefore(l):s.append(l),e.remove()}else if(j(i)&&i.getListType()===n)u&&Ai(i,Er,u),i.append(l),e.remove();else{const d=Ge(n,n==="number"?Number(r[2]):void 0);u&&Ai(d,Er,u),d.append(l),e.replace(d)}l.append(...t),o||l.select(0,0);const c=(function(d){const f=d.match(/\t/g),h=d.match(/ /g);let g=0;return f&&(g+=f.length),h&&(g+=Math.floor(h.length/4)),g})(r[1]);c&&l.setIndent(c)},Ei=(n,e,t)=>{const r=[],o=n.getChildren();let i=0;for(const s of o)if(V(s)){if(s.getChildrenSize()===1){const d=s.getFirstChild();if(j(d)){r.push(Ei(d,e,t+1));continue}}const l=" ".repeat(4*t),a=n.getListType(),u=Wc(n,Er),c=a==="number"?`${n.getStart()+i}. `:a==="check"?`${u} [${s.getChecked()?"x":" "}] `:u+" ";r.push(l+c+e(s)),i++}return r.join(`
`)},ky={dependencies:[Hl],export:(n,e)=>{if(!Qm(n))return null;const t=Number(n.getTag().slice(1));return"#".repeat(t)+" "+e(n)},regExp:el,replace:Sg(n=>{const e="h"+n[1].length;return er(e)}),type:"element"},$y={dependencies:[Wl],export:(n,e)=>{if(!Ks(n))return null;const t=e(n).split(`
`),r=[];for(const o of t)r.push("> "+o);return r.join(`
`)},regExp:bg,replace:(n,e,t,r)=>{if(r){const i=n.getPreviousSibling();if(Ks(i))return i.splice(i.getChildrenSize(),0,[tt(),...e]),void n.remove()}const o=Ul();o.append(...e),n.replace(o),r||o.select(0,0)},type:"element"},Ay={dependencies:[or],export:n=>{if(!st(n))return null;const e=n.getTextContent();return"```"+(n.getLanguage()||"")+(e?`
`+e:"")+"\n```"},regExpEnd:{optional:!0,regExp:tl},regExpStart:xg,replace:(n,e,t,r,o,i)=>{let s,l;if(!e&&o){if(o.length===1)r?(s=It(),l=t[1]+o[0]):(s=It(t[1]),l=o[0].startsWith(" ")?o[0].slice(1):o[0]);else{if(s=It(t[1]),o[0].trim().length===0)for(;o.length>0&&!o[0].length;)o.shift();else o[0]=o[0].startsWith(" ")?o[0].slice(1):o[0];for(;o.length>0&&!o[o.length-1].length;)o.pop();l=o.join(`
`)}const a=le(l);s.append(a),n.append(s)}else e&&Sg(a=>It(a?a[1]:void 0))(n,e,t,i)},type:"multiline-element"},Fy={dependencies:[Kn,an],export:(n,e)=>j(n)?Ei(n,e,0):null,regExp:_g,replace:ta("bullet"),type:"element"},tx={dependencies:[Kn,an],export:(n,e)=>j(n)?Ei(n,e,0):null,regExp:yg,replace:ta("check"),type:"element"},Oy={dependencies:[Kn,an],export:(n,e)=>j(n)?Ei(n,e,0):null,regExp:mg,replace:ta("number"),type:"element"},Ry={format:["code"],tag:"`",type:"text-format"},Ly={format:["highlight"],tag:"==",type:"text-format"},My={format:["bold","italic"],tag:"***",type:"text-format"},Py={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},Iy={format:["bold"],tag:"**",type:"text-format"},Dy={format:["bold"],intraword:!1,tag:"__",type:"text-format"},By={format:["strikethrough"],tag:"~~",type:"text-format"},Ky={format:["italic"],tag:"*",type:"text-format"},zy={format:["italic"],intraword:!1,tag:"_",type:"text-format"},Wy={dependencies:[_r],export:(n,e,t)=>{if(!et(n)||Qe(n))return null;const r=n.getTitle(),o=e(n);return r?`[${o}](${n.getURL()} "${r}")`:`[${o}](${n.getURL()})`},importRegExp:/(?:\[(.+?)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[(.+?)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(n,e)=>{const[,t,r,o]=e,i=En(r,{title:o}),s=t.split("[").length-1,l=t.split("]").length-1;let a=t,u="";if(s<l)return;if(s>l){const d=t.split("[");u="["+d[0],a=d.slice(1).join("[")}const c=le(a);return c.setFormat(n.getFormat()),i.append(c),n.replace(i),u&&i.insertBefore(le(u)),c},trigger:")",type:"text-match"},Uy=[ky,$y,Fy,Oy],Hy=[Ay],jy=[Ry,My,Py,Iy,Dy,Ly,Ky,zy,By],Jy=[Wy],Ti=[...Uy,...Hy,...jy,...Jy];function Oc(n,e,t){const r=t.length;for(let o=e;o>=r;o--){const i=o-r;if(Cg(n,i,t,0,r)&&n[i+r]!==" ")return i}return-1}function Cg(n,e,t,r,o){for(let i=0;i<o;i++)if(n[e+i]!==t[r+i])return!1;return!0}function qy(n,e=Ti){const t=ea(e),r=Zs(t.textFormat,({tag:s})=>s[s.length-1]),o=Zs(t.textMatch,({trigger:s})=>s);for(const s of e){const l=s.type;if(l==="element"||l==="text-match"||l==="multiline-element"){const a=s.dependencies;for(const u of a)n.hasNode(u)||wy(173,u.getType())}}const i=(s,l,a)=>{(function(u,c,d,f){const h=u.getParent();if(!Pe(h)||u.getFirstChild()!==c)return!1;const g=c.getTextContent();if(g[d-1]!==" ")return!1;for(const{regExp:m,replace:p}of f){const y=g.match(m);if(y&&y[0].length===(y[0].endsWith(" ")?d:d-1)){const _=c.getNextSiblings(),[b,S]=c.splitText(d);if(p(u,S?[S,..._]:_,y,!1)!==!1)return b.remove(),!0}}return!1})(s,l,a,t.element)||(function(u,c,d,f){const h=u.getParent();if(!Pe(h)||u.getFirstChild()!==c)return!1;const g=c.getTextContent();if(g[d-1]!==" ")return!1;for(const{regExpStart:m,replace:p,regExpEnd:y}of f){if(y&&!("optional"in y)||y&&"optional"in y&&!y.optional)continue;const _=g.match(m);if(_&&_[0].length===(_[0].endsWith(" ")?d:d-1)){const b=c.getNextSiblings(),[S,x]=c.splitText(d);if(p(u,x?[x,...b]:b,_,null,null,!1)!==!1)return S.remove(),!0}}return!1})(s,l,a,t.multilineElement)||(function(u,c,d){let f=u.getTextContent();const h=d[f[c-1]];if(h==null)return!1;c<f.length&&(f=f.slice(0,c));for(const g of h){if(!g.replace||!g.regExp)continue;const m=f.match(g.regExp);if(m===null)continue;const p=m.index||0,y=p+m[0].length;let _;return p===0?[_]=u.splitText(y):[,_]=u.splitText(p,y),_.selectNext(0,0),g.replace(_,m),!0}return!1})(l,a,o)||(function(u,c,d){const f=u.getTextContent(),h=c-1,g=f[h],m=d[g];if(!m)return!1;for(const p of m){const{tag:y}=p,_=y.length,b=h-_+1;if(_>1&&!Cg(f,b,y,0,_)||f[b-1]===" ")continue;const S=f[h+1];if(p.intraword===!1&&S&&!vc.test(S))continue;const x=u;let C=x,v=Oc(f,b,y),E=C;for(;v<0&&(E=E.getPreviousSibling())&&!de(E);)if(R(E)){if(E.hasFormat("code"))continue;const re=E.getTextContent();C=E,v=Oc(re,re.length,y)}if(v<0||C===x&&v+_===b)continue;const w=C.getTextContent();if(v>0&&w[v-1]===g)continue;const $=w[v-1];if(p.intraword===!1&&$&&!vc.test($))continue;const A=x.getTextContent(),O=A.slice(0,b)+A.slice(h+1);x.setTextContent(O);const L=C===x?O:w;C.setTextContent(L.slice(0,v)+L.slice(v+_));const P=k(),I=dr();fe(I);const q=h-_*(C===x?2:1)+1;I.anchor.set(C.__key,v,"text"),I.focus.set(x.__key,q,"text");for(const re of p.format)I.hasFormat(re)||I.formatText(re);I.anchor.set(I.focus.key,I.focus.offset,I.focus.type);for(const re of p.format)I.hasFormat(re)&&I.toggleFormat(re);return T(P)&&(I.format=P.format),!0}})(l,a,r)};return n.registerUpdateListener(({tags:s,dirtyLeaves:l,editorState:a,prevEditorState:u})=>{if(s.has(pf)||s.has(Bo)||n.isComposing())return;const c=a.read(k),d=u.read(k);if(!T(d)||!T(c)||!c.isCollapsed()||c.is(d))return;const f=c.anchor.key,h=c.anchor.offset,g=a._nodeMap.get(f);!R(g)||!l.has(f)||h!==1&&h>d.anchor.offset+1||n.update(()=>{if(!gn(g))return;const m=g.getParent();m===null||st(m)||i(m,g,c.anchor.offset)})})}function nx(n,e=Ti,t,r=!1,o=!1){const i=r?n:(function(s,l=!1){const a=s.split(`
`);let u=!1;const c=[];for(let d=0;d<a.length;d++){const f=a[d].trimEnd(),h=c[c.length-1];Ey.test(f)?c.push(f):xg.test(f)||tl.test(f)?(u=!u,c.push(f)):u||f===""||h===""||!h||el.test(h)||el.test(f)||bg.test(f)||mg.test(f)||_g.test(f)||yg.test(f)||Ty.test(f)||Ny.test(f)||!l||$c.test(f)||Ac.test(f)||Fc(Ac).test(h)||Fc($c).test(h)||tl.test(h)?c.push(f):c[c.length-1]=h+" "+f.trimStart()}return c.join(`
`)})(n,o);return Sy(e,r)(i,t)}function rx(n=Ti,e,t=!1){return(function(o,i=!1){const s=ea(o),l=[...s.multilineElement,...s.element],a=!i,u=s.textFormat.filter(c=>c.format.length===1).sort((c,d)=>Number(c.format.includes("code"))-Number(d.format.includes("code")));return c=>{const d=[],f=(c||ge()).getChildren();for(let h=0;h<f.length;h++){const g=f[h],m=by(g,l,u,s.textMatch);m!=null&&d.push(a&&h>0&&!Qs(g)&&!Qs(f[h-1])?`
`.concat(m):m)}return d.join(`
`)}})(n,t)(e)}const Yy=[{dependencies:[zd],export:n=>am(n)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(n,e,t,r)=>{const o=wi();r||n.getNextSibling()!=null?n.replace(o):n.insertBefore(o),o.selectNext()},type:"element"},...Ti];function ox({transformers:n=Yy}){const[e]=ee();return F.useEffect(()=>qy(e,n),[e,n]),null}const Vy=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?F.useLayoutEffect:F.useEffect;function ix({ignoreHistoryMergeTagChange:n=!0,ignoreSelectionChange:e=!1,onChange:t}){const[r]=ee();return Vy(()=>{if(t)return r.registerUpdateListener(({editorState:o,dirtyElements:i,dirtyLeaves:s,prevEditorState:l,tags:a})=>{e&&i.size===0&&s.size===0||n&&a.has(xn)||l.isEmpty()||t(o,r,a)})},[r,n,e,t]),null}export{ln as $,eo as A,hr as B,cr as C,ge as D,ke as E,pr as F,_r as G,Ll as H,Dr as I,je as J,he as K,Xy as L,qe as M,T as N,N as O,Kd as P,Af as Q,dr as R,jr as S,k_ as T,wb as U,te as V,xn as W,Wf as X,Hl as Y,Kn as Z,R as _,ae as a,It as a$,an as a0,Wl as a1,or as a2,on as a3,un as a4,no as a5,Zo as a6,vi as a7,db as a8,zd as a9,fb as aA,we as aB,st as aC,lb as aD,Pp as aE,ub as aF,Xt as aG,H as aH,qr as aI,Nt as aJ,en as aK,fi as aL,al as aM,Cf as aN,Pe as aO,ib as aP,Qe as aQ,et as aR,Os as aS,Mh as aT,t_ as aU,Mb as aV,Pb as aW,tb as aX,Om as aY,Fm as aZ,km as a_,Pm as aa,ag as ab,ur as ac,Ut as ad,Se as ae,O_ as af,vn as ag,ll as ah,An as ai,$b as aj,Nb as ak,kb as al,Ab as am,Tb as an,K as ao,ah as ap,of as aq,B as ar,Db as as,ix as at,it as au,id as av,Xb as aw,Zb as ax,Gb as ay,Qb as az,In as b,eb as b$,sm as b0,hy as b1,sl as b2,Rb as b3,er as b4,Ul as b5,Uu as b6,ob as b7,_p as b8,ex as b9,Pn as bA,Zu as bB,oe as bC,_b as bD,yb as bE,bb as bF,xb as bG,pb as bH,Dt as bI,mb as bJ,Oe as bK,i_ as bL,Sb as bM,uh as bN,ni as bO,Go as bP,Qm as bQ,Ks as bR,rc as bS,xa as bT,sb as bU,od as bV,j as bW,bp as bX,nb as bY,ro as bZ,oo as b_,kf as ba,de as bb,We as bc,En as bd,Ce as be,Pt as bf,tx as bg,Uy as bh,Hy as bi,jy as bj,Jy as bk,ye as bl,pe as bm,W as bn,Ne as bo,Gl as bp,zr as bq,rx as br,wi as bs,am as bt,pt as bu,nx as bv,ox as bw,rf as bx,hb as by,eg as bz,k as c,Bo as c0,rl as c1,ol as c2,ab as c3,yn as c4,Bt as c5,nf as c6,Kb as c7,Jb as c8,Wb as c9,jb as ca,zb as cb,Yb as cc,Ub as cd,Hb as ce,qb as cf,pp as cg,Fb as ch,Ob as ci,cg as cj,Ib as ck,Qy as d,rb as e,Bb as f,fe as g,G as h,le as i,Y as j,Ah as k,be as l,rt as m,pi as n,ee as o,Wc as p,Ai as q,qg as r,Ie as s,Km as t,mr as u,ai as v,Q as w,Bu as x,Bm as y,ch as z};
