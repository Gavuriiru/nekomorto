import{r as c,j as e}from"./react-core-BcR2_z_l.js";import{B as u}from"./badge-CX6RuieY.js";import{C as I,a as C}from"./card-VD61BBwz.js";import{g as H,b as O,d as y}from"./index-ntR5v_s2.js";import{s as V,a as Y,i as _}from"./url-safety-Py24cS-5.js";import{u as K}from"./use-page-meta-ewLab265.js";import{Y as X,I as J,T as M}from"./ThemedSvgMaskIcon-B_IYD_H5.js";import{G as g}from"./globe-CRGpuS2E.js";import{M as A}from"./message-circle-qqsIJunn.js";import{X as R}from"./x-BpqL4Bns.js";import{U as $}from"./user-4aZzULrg.js";import{P as Q,B as D,C as W}from"./palette-E5OClIhR.js";import{C as T}from"./clock--Oqs7kqe.js";import{V as Z,L as ee,P as se,a as re,b as ae}from"./video-CwWZofV8.js";import{S as te}from"./sparkles-CtpH76yt.js";import{C as oe}from"./check-Cyy403AY.js";import{S as le}from"./shield-DlmGTLiS.js";import"./index-CwaKb5FF.js";import"./mui-WkDK9qS1.js";import"./createLucideIcon-M1JG7EBz.js";const ne=({imageSrc:p,name:f})=>{const[x,v]=c.useState(p||"/placeholder.svg");return c.useEffect(()=>{v(p||"/placeholder.svg")},[p]),e.jsx("div",{className:"absolute bottom-0 left-1/2 h-56 w-56 -translate-x-1/2 overflow-hidden rounded-full transition-transform duration-500 group-hover:scale-105 sm:h-64 sm:w-64 md:h-72 md:w-72 lg:h-80 lg:w-80",children:e.jsx("img",{src:x,alt:f,referrerPolicy:"no-referrer",crossOrigin:"anonymous",className:"h-full w-full object-cover",onError:()=>{x!=="/placeholder.svg"&&v("/placeholder.svg")}})})},Me=()=>{K({title:"Equipe"});const p=H(),{settings:f}=O(),[x,v]=c.useState([]),[L,B]=c.useState(!0),[j,P]=c.useState(Date.now()),[N,E]=c.useState([]),[h,q]=c.useState({heroBadge:"Equipe",heroTitle:"Conheça quem faz o projeto acontecer",heroSubtitle:"Os perfis e redes sociais serão gerenciados pela dashboard. Este layout antecipa como a equipe aparecerá para o público.",retiredTitle:"Membros aposentados",retiredSubtitle:"Agradecemos por todas as contribuições."}),z=c.useMemo(()=>({instagram:J,twitter:R,x:R,youtube:X,discord:A,"message-circle":A,site:g,website:g,portfolio:g,globe:g}),[]),U=c.useMemo(()=>({languages:ae,check:oe,"pen-tool":re,sparkles:te,code:W,paintbrush:se,layers:ee,video:Z,clock:T,badge:D,palette:Q,user:$}),[]),F=c.useMemo(()=>new Map((f?.teamRoles||[]).map(s=>[s.label,s.icon])),[f?.teamRoles]),m=s=>{const t=F.get(s);if(t)return U[String(t).toLowerCase()];const o=s.toLowerCase();return o==="dono"?D:o==="membro"?$:o==="administrador"?le:o.includes("aposent")?T:null},w=(s,t)=>e.jsx(ne,{imageSrc:t,name:s.name}),S=(s,t)=>{const o=V(s?.href);if(!o)return null;const n=t.get(String(s?.label||"")),d=String(n?.label||s?.label||"").trim()||"Link",l=Y(n?.icon||""),a=_(l),r=a?"":String(l||"").toLowerCase(),i=z[r]||g;return{href:o,label:d,customIcon:a,iconSource:l||"",Icon:i}};c.useEffect(()=>{let s=!0;const t=async()=>{try{const[n,d]=await Promise.all([y(p,"/api/public/users"),y(p,"/api/link-types")]);if(n.ok){const l=await n.json();s&&(v(Array.isArray(l.users)?l.users:[]),P(Date.now()))}if(d.ok){const l=await d.json();s&&E(Array.isArray(l.items)?l.items:[])}}finally{s&&B(!1)}};t();const o=setInterval(t,15e3);return()=>{s=!1,clearInterval(o)}},[p]),c.useEffect(()=>{let s=!0;return(async()=>{try{const o=await y(p,"/api/public/pages");if(!o.ok)return;const n=await o.json();s&&n.pages?.team&&q(d=>({...d,...n.pages.team}))}catch{}})(),()=>{s=!1}},[p]);const b=s=>(s||"").toLowerCase(),k=x.filter(s=>b(s.status)==="retired"||b(s.status)==="aposentado").sort((s,t)=>(s.order??0)-(t.order??0)),G=x.filter(s=>b(s.status)!=="retired"&&b(s.status)!=="aposentado").sort((s,t)=>(s.order??0)-(t.order??0));return e.jsx("div",{className:"min-h-screen bg-background text-foreground",children:e.jsxs("main",{children:[e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-linear-to-b from-primary/15 via-background to-background"}),e.jsx("div",{className:"relative mx-auto flex w-full max-w-6xl flex-col gap-6 px-6 pb-12 pt-24 md:px-10 md:pt-28 reveal","data-reveal":!0,children:e.jsxs("div",{className:"max-w-3xl space-y-4",children:[e.jsx(u,{variant:"secondary",className:"text-xs uppercase tracking-widest animate-fade-in",children:h.heroBadge}),e.jsx("h1",{className:"text-3xl font-semibold text-foreground md:text-5xl animate-slide-up",children:h.heroTitle}),e.jsx("p",{className:"text-sm text-muted-foreground md:text-base animate-slide-up opacity-0",style:{animationDelay:"0.2s"},children:h.heroSubtitle})]})})]}),e.jsx("section",{className:"mx-auto w-full max-w-6xl px-6 pb-20 pt-6 md:px-10 reveal","data-reveal":!0,children:L?e.jsx("div",{className:"mt-10 rounded-2xl border border-border/60 bg-card/60 px-6 py-10 text-sm text-muted-foreground",children:"Carregando equipe..."}):x.length===0?e.jsx("div",{className:"mt-10 rounded-2xl border border-dashed border-border/60 bg-card/60 px-6 py-10 text-sm text-muted-foreground",children:"Nenhum membro disponível no momento."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-10 grid gap-24",children:G.map(s=>{const t=s.avatarUrl||"/placeholder.svg",o=t!=="/placeholder.svg"?t.includes("?")?`${t}&v=${j}`:`${t}?v=${j}`:"/placeholder.svg",n=(s.socials||[]).filter(a=>a.href),d=new Map(N.map(a=>[a.id,a])),l=(s.roles||[]).filter(a=>a!=="Dono");return e.jsx(I,{className:"group overflow-visible border-border/60 bg-card/80 shadow-lg transition-all duration-300 hover:-translate-y-1 hover:border-primary/40 hover:bg-card/90 hover:shadow-lg",children:e.jsx(C,{className:"relative p-8 sm:p-9",children:e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-stretch",children:[e.jsx("div",{className:"relative lg:w-80",children:e.jsx("div",{className:"relative h-64 sm:h-72 md:h-80 lg:h-full",children:w(s,o)})}),e.jsxs("div",{className:"relative mt-10 flex flex-1 flex-col gap-5 rounded-2xl bg-secondary/60 p-7 lg:mt-0 lg:px-8 lg:py-8",children:[e.jsx("div",{className:"min-w-0 flex items-center justify-between gap-2 lg:pr-44",children:e.jsx("h3",{className:"break-words text-base font-semibold text-foreground",children:s.name})}),n.length>0&&e.jsx("div",{className:"flex flex-wrap items-center justify-start gap-3 lg:absolute lg:right-6 lg:top-6 lg:mt-0 lg:justify-end",children:n.map(a=>{const r=S(a,d);return r?e.jsx("a",{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"flex h-8 w-8 items-center justify-center rounded-full border border-primary/20 bg-background/70 text-primary/80 transition hover:border-primary/50 hover:text-primary","aria-label":r.label,children:r.customIcon?e.jsx(M,{url:r.iconSource,label:r.label,className:"h-4 w-4"}):e.jsx(r.Icon,{className:"h-4 w-4"})},`${s.id}-${a.href}`):null})}),e.jsx("p",{className:"text-xs italic text-muted-foreground/80",children:s.phrase?`"${s.phrase}"`:"-"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.bio||"Sem biografia cadastrada."}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.roles||[]).includes("Dono")&&(()=>{const a=m("Dono");return e.jsxs(u,{variant:"secondary",className:"text-[10px] uppercase gap-1",children:[a?e.jsx(a,{className:"h-3 w-3"}):null,"Dono"]})})(),!(s.roles||[]).includes("Dono")&&s.isAdmin&&(()=>{const a=m("Administrador");return e.jsxs(u,{variant:"secondary",className:"text-[10px] uppercase gap-1",children:[a?e.jsx(a,{className:"h-3 w-3"}):null,"Administrador"]})})(),l.length>0?l.map(a=>{const r=m(a);return e.jsxs(u,{variant:"secondary",className:"text-[10px] uppercase gap-1",children:[r?e.jsx(r,{className:"h-3 w-3"}):null,a]},a)}):!(s.roles||[]).includes("Dono")&&!s.isAdmin&&(()=>{const a=m("Membro");return e.jsxs(u,{variant:"secondary",className:"text-[10px] uppercase gap-1",children:[a?e.jsx(a,{className:"h-3 w-3"}):null,"Membro"]})})()]})]})]})})},s.id)})}),k.length>0&&e.jsxs("div",{className:"mt-16 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:h.retiredTitle}),e.jsx("p",{className:"text-sm text-muted-foreground",children:h.retiredSubtitle})]}),e.jsx("div",{className:"mt-16 grid gap-24",children:k.map((s,t)=>{const o=s.avatarUrl||"/placeholder.svg",n=o!=="/placeholder.svg"?o.includes("?")?`${o}&v=${j}`:`${o}?v=${j}`:"/placeholder.svg",d=(s.socials||[]).filter(r=>r.href),l=new Map(N.map(r=>[r.id,r])),a=(s.roles||[]).filter(r=>r!=="Dono");return e.jsx(I,{className:`group overflow-visible border-border/60 bg-card/80 shadow-lg grayscale transition-all duration-300 hover:-translate-y-1 hover:border-primary/40 hover:bg-card/90 hover:shadow-lg ${t===0?"mt-20":""}`,children:e.jsx(C,{className:"relative p-8 sm:p-9",children:e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-stretch",children:[e.jsx("div",{className:"relative lg:w-80",children:e.jsx("div",{className:"relative h-64 sm:h-72 md:h-80 lg:h-full",children:w(s,n)})}),e.jsxs("div",{className:"relative mt-10 flex flex-1 flex-col gap-5 rounded-2xl bg-secondary/60 p-7 lg:mt-0 lg:px-8 lg:py-8",children:[e.jsx("div",{className:"min-w-0 flex items-center justify-between gap-2 lg:pr-44",children:e.jsx("h3",{className:"break-words text-base font-semibold text-foreground",children:s.name})}),d.length>0&&e.jsx("div",{className:"flex flex-wrap items-center justify-start gap-3 lg:absolute lg:right-6 lg:top-6 lg:mt-0 lg:justify-end",children:d.map(r=>{const i=S(r,l);return i?e.jsx("a",{href:i.href,target:"_blank",rel:"noopener noreferrer",className:"flex h-8 w-8 items-center justify-center rounded-full border border-primary/20 bg-background/70 text-primary/80 transition hover:border-primary/50 hover:text-primary","aria-label":i.label,children:i.customIcon?e.jsx(M,{url:i.iconSource,label:i.label,className:"h-4 w-4"}):e.jsx(i.Icon,{className:"h-4 w-4"})},`${s.id}-${r.href}`):null})}),e.jsx("p",{className:"text-xs italic text-muted-foreground/80",children:s.phrase?`"${s.phrase}"`:"-"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.bio||"Sem biografia cadastrada."}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.status==="retired"&&(()=>{const r=m("Aposentado");return e.jsxs(u,{variant:"secondary",className:"text-[10px] uppercase gap-1",children:[r?e.jsx(r,{className:"h-3 w-3"}):null,"Aposentado"]})})(),(s.roles||[]).includes("Dono")&&(()=>{const r=m("Dono");return e.jsxs(u,{variant:"secondary",className:"text-[10px] uppercase gap-1",children:[r?e.jsx(r,{className:"h-3 w-3"}):null,"Dono"]})})(),!(s.roles||[]).includes("Dono")&&s.isAdmin&&(()=>{const r=m("Administrador");return e.jsxs(u,{variant:"secondary",className:"text-[10px] uppercase gap-1",children:[r?e.jsx(r,{className:"h-3 w-3"}):null,"Administrador"]})})(),a.length>0?a.map(r=>{const i=m(r);return e.jsxs(u,{variant:"secondary",className:"text-[10px] uppercase gap-1",children:[i?e.jsx(i,{className:"h-3 w-3"}):null,r]},r)}):null]})]})]})})},s.id)})})]})]})})]})})};export{Me as default};
