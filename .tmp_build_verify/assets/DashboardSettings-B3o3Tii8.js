const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ImageLibraryDialog-BbbI0q6f.js","assets/react-core-BcR2_z_l.js","assets/index-CHWtszJ3.js","assets/index-ntR5v_s2.js","assets/mui-WkDK9qS1.js","assets/index-yv2-JTMp.css","assets/index-BMIt2_cw.js","assets/createLucideIcon-M1JG7EBz.js","assets/index-DZ2Ey5_7.js","assets/chevron-right-CrdESc7p.js","assets/check-Cyy403AY.js","assets/accordion-DHuEXPng.js","assets/chevron-down-Mfh0mWaz.js","assets/button-C7iHbTqw.js","assets/index-Xj-Q384k.js","assets/index-CwaKb5FF.js","assets/dialog-CLWEkP9q.js","assets/input-BfSJiKKQ.js","assets/x-BpqL4Bns.js","assets/label-BwT1z_RF.js","assets/use-toast-DeMRPCeJ.js","assets/ImageLibraryDialog-B3TEaj-8.css"])))=>i.map(i=>d[i]);
import{g as ms,b as us,d as A,m as ca,i as ma,_ as hs}from"./index-ntR5v_s2.js";import{k as bs,r as l,j as e}from"./react-core-BcR2_z_l.js";import{a as S,r as xs,u as Ne,w as gs,D as fs,T as ps,b as vs,c as $,d as M,S as le,e as ua}from"./use-autosave-Gq8WGb6V.js";import{D as ha}from"./DashboardShell-BZQMplB5.js";import{B as h}from"./button-C7iHbTqw.js";import{C as U,a as T}from"./card-VD61BBwz.js";import{I as b}from"./input-BfSJiKKQ.js";import{L as g}from"./label-BwT1z_RF.js";import{T as H}from"./textarea-BwWmg86h.js";import{C as ba}from"./color-picker-Q1yTfexr.js";import{S as js}from"./switch-D-C3W2Iz.js";import{S as J,a as X,b as Y,c as Z,d as w}from"./select-BOMyCGLP.js";import{t as N}from"./use-toast-DeMRPCeJ.js";import{a as ys}from"./before-unload-DThTkbzC.js";import{u as Ns}from"./use-page-meta-ewLab265.js";import{T as we,L as va}from"./ThemedSvgLogo-CGFMwyp6.js";import{r as ws,n as ks,T as Cs,F as Ss}from"./Footer-C9y59CM9.js";import{D as ke,S as Us,H as xa,C as Ts}from"./send-MS8NRuAC.js";import{P as D}from"./plus-93D78Kzx.js";import{T as R}from"./trash-2-CSrjaLTp.js";import{U as ja}from"./user-4aZzULrg.js";import{P as Ls,B as As,C as Ds}from"./palette-E5OClIhR.js";import{C as Rs}from"./clock--Oqs7kqe.js";import{V as Fs,L as _s,P as Os,a as Ps,b as Es}from"./video-CwWZofV8.js";import{S as $s}from"./sparkles-CtpH76yt.js";import{C as Ms}from"./check-Cyy403AY.js";import{G as zs}from"./grip-vertical-nFrNlQ4M.js";import{M as Is}from"./message-circle-qqsIJunn.js";import{I as Ws}from"./ThemedSvgMaskIcon-B_IYD_H5.js";import"./mui-WkDK9qS1.js";import"./createLucideIcon-M1JG7EBz.js";import"./circle-check-CShtuJ1s.js";import"./index-BMIt2_cw.js";import"./index-DZ2Ey5_7.js";import"./index-CHWtszJ3.js";import"./avatar-CVZSwVae.js";import"./index-Xj-Q384k.js";import"./badge-CX6RuieY.js";import"./index-CwaKb5FF.js";import"./separator-CDy1CE57.js";import"./x-BpqL4Bns.js";import"./skeleton-DbpZ9Rjt.js";import"./search-ranking-cq4don08.js";import"./use-dynamic-synopsis-clamp-DpjBDBPb.js";import"./url-safety-Py24cS-5.js";import"./access-control-C6qZ0ZhA.js";import"./chevron-down-Mfh0mWaz.js";import"./shield-DlmGTLiS.js";import"./chevron-right-CrdESc7p.js";import"./users-ok7q4J4c.js";import"./info-BTb-jBiG.js";import"./book-open-CG_mViAI.js";import"./globe-CRGpuS2E.js";const Vs=l.lazy(()=>hs(()=>import("./ImageLibraryDialog-BbbI0q6f.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),Bs=[{id:"languages",label:"Languages"},{id:"check",label:"Check"},{id:"pen-tool",label:"Pen Tool"},{id:"sparkles",label:"Sparkles"},{id:"code",label:"Code"},{id:"paintbrush",label:"Paintbrush"},{id:"layers",label:"Layers"},{id:"video",label:"Video"},{id:"clock",label:"Clock"},{id:"badge",label:"Badge"},{id:"palette",label:"Palette"},{id:"user",label:"User"}],Gs={languages:Es,check:Ms,"pen-tool":Ps,sparkles:$s,code:Ds,paintbrush:Os,layers:_s,video:Fs,clock:Rs,badge:As,palette:Ls,user:ja},qs={"google-drive":Ts,mega:xa,torrent:ke,mediafire:xa,telegram:Us,link:va,instagram:Ws,facebook:Ss,twitter:Cs,discord:Is},ga=d=>new Promise((c,f)=>{const k=new FileReader;k.onload=()=>c(String(k.result)),k.onerror=()=>f(new Error("file_read_failed")),k.readAsDataURL(d)}),fa=d=>d.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Ks=(d,c,f)=>{if(c===f||c<0||f<0||c>=d.length||f>=d.length)return d;const k=[...d],[ee]=k.splice(c,1);return typeof ee>"u"?d:(k.splice(f,0,ee),k)},Qs=[{target:"branding.assets.symbolUrl",label:"Símbolo da marca",description:"Ativo principal usado como base para logo da marca.",frameClassName:"h-16",imageClassName:"h-10 w-10 rounded bg-card/70 object-contain"},{target:"branding.assets.wordmarkUrl",label:"Logotipo (wordmark)",description:"Tipografia principal da marca usada como base para header e footer.",frameClassName:"h-16",imageClassName:"h-10 w-full object-contain"},{target:"site.faviconUrl",label:"Favicon",description:"Ícone mostrado na aba do navegador.",frameClassName:"h-16",imageClassName:"h-8 w-8 rounded bg-card/70 object-contain"},{target:"site.defaultShareImage",label:"Imagem de compartilhamento",description:"Imagem padrão de cards sociais quando a página não define uma própria.",frameClassName:"h-20",imageClassName:"h-full w-full rounded bg-card/70 object-cover"},{target:"branding.overrides.navbarWordmarkUrl",label:"Override de wordmark da navbar",description:"Opcional. Se vazio, a navbar usa o logotipo principal.",frameClassName:"h-16",imageClassName:"h-10 w-full object-contain",optional:!0},{target:"branding.overrides.footerWordmarkUrl",label:"Override de wordmark do footer",description:"Opcional. Se vazio, o footer usa o logotipo principal.",frameClassName:"h-16",imageClassName:"h-10 w-full object-contain",optional:!0},{target:"branding.overrides.navbarSymbolUrl",label:"Override de símbolo da navbar",description:"Opcional. Se vazio, a navbar usa o símbolo principal.",frameClassName:"h-16",imageClassName:"h-10 w-10 rounded bg-card/70 object-contain",optional:!0},{target:"branding.overrides.footerSymbolUrl",label:"Override de símbolo do footer",description:"Opcional. Se vazio, o footer usa o símbolo principal.",frameClassName:"h-16",imageClassName:"h-10 w-10 rounded bg-card/70 object-contain",optional:!0}],Hs=(d,c)=>c==="branding.assets.symbolUrl"?d.branding.assets.symbolUrl||"":c==="branding.assets.wordmarkUrl"?d.branding.assets.wordmarkUrl||"":c==="site.faviconUrl"?d.site.faviconUrl||"":c==="site.defaultShareImage"?d.site.defaultShareImage||"":c==="branding.overrides.navbarWordmarkUrl"?d.branding.overrides.navbarWordmarkUrl||"":c==="branding.overrides.footerWordmarkUrl"?d.branding.overrides.footerWordmarkUrl||"":c==="branding.overrides.navbarSymbolUrl"?d.branding.overrides.navbarSymbolUrl||"":c==="branding.overrides.footerSymbolUrl"&&d.branding.overrides.footerSymbolUrl||"",pa=(d,c,f)=>c==="branding.assets.symbolUrl"?{...d,branding:{...d.branding,assets:{...d.branding.assets,symbolUrl:f}}}:c==="branding.assets.wordmarkUrl"?{...d,branding:{...d.branding,assets:{...d.branding.assets,wordmarkUrl:f}}}:c==="site.faviconUrl"?{...d,site:{...d.site,faviconUrl:f}}:c==="site.defaultShareImage"?{...d,site:{...d.site,defaultShareImage:f}}:c==="branding.overrides.navbarWordmarkUrl"?{...d,branding:{...d.branding,overrides:{...d.branding.overrides,navbarWordmarkUrl:f}}}:c==="branding.overrides.footerWordmarkUrl"?{...d,branding:{...d.branding,overrides:{...d.branding.overrides,footerWordmarkUrl:f}}}:c==="branding.overrides.navbarSymbolUrl"?{...d,branding:{...d.branding,overrides:{...d.branding.overrides,navbarSymbolUrl:f}}}:c==="branding.overrides.footerSymbolUrl"?{...d,branding:{...d.branding,overrides:{...d.branding.overrides,footerSymbolUrl:f}}}:d,Hr=()=>{Ns({title:"Configurações",noIndex:!0});const d=bs(),c=ms(),f=l.useRef(S.enabledByDefault&&xs(ua.settings,!0)),{settings:k,refresh:ee}=us(),[u,i]=l.useState(k),[P,ie]=l.useState(null),[z,ya]=l.useState(!0),[I,W]=l.useState({}),[V,B]=l.useState({}),[G,q]=l.useState({}),[Ce,Na]=l.useState([]),[Se,wa]=l.useState([]),[Ue,ka]=l.useState([]),[_,E]=l.useState([]),[O,Te]=l.useState(!0),[K,Le]=l.useState(!1),[Ae,se]=l.useState(null),[Ca,De]=l.useState(!1),[de,Sa]=l.useState("branding.assets.symbolUrl"),[ce,Ua]=l.useState(""),[me,Ta]=l.useState(""),[Re,Fe]=l.useState(""),[_e,Oe]=l.useState(""),[ue,La]=l.useState(""),[Pe,Ee]=l.useState(""),[Aa,Da]=l.useState("geral"),[$e,Me]=l.useState(null),[ze,he]=l.useState(null),Ie=l.useRef(!1),Ra=l.useMemo(()=>[""],[]);l.useEffect(()=>{(async()=>{try{const s=await A(c,"/api/me",{auth:!0});if(!s.ok){ie(null);return}const r=await s.json();ie(r)}catch{ie(null)}finally{ya(!1)}})()},[c]),l.useEffect(()=>{let a=!0;return(async()=>{Te(!0);try{const[r,o,t,n]=await Promise.all([A(c,"/api/settings",{auth:!0}),A(c,"/api/public/tag-translations",{cache:"no-store"}),A(c,"/api/projects",{auth:!0}),A(c,"/api/link-types")]);if(r.ok){const m=await r.json();a&&m.settings&&i(ca(ma,m.settings))}if(o.ok){const m=await o.json();a&&(W(m.tags||{}),B(m.genres||{}),q(m.staffRoles||{}))}if(t.ok){const m=await t.json();if(a){const y=Array.isArray(m.projects)?m.projects:[],C=new Set,la=new Set,ia=new Set;y.forEach(F=>{(F.tags||[]).forEach(L=>C.add(L)),(F.genres||[]).forEach(L=>la.add(L)),Array.isArray(F.animeStaff)&&F.animeStaff.forEach(L=>{const da=String(L?.role||"").trim();da&&ia.add(da)})}),Na(Array.from(C).sort((F,L)=>F.localeCompare(L,"en"))),wa(Array.from(la).sort((F,L)=>F.localeCompare(L,"en"))),ka(Array.from(ia).sort((F,L)=>F.localeCompare(L,"en")))}}if(n.ok){const m=await n.json();a&&E(Array.isArray(m.items)?m.items:[])}}catch{a&&i(k)}finally{a&&Te(!1)}})(),()=>{a=!1}},[c,k]);const re=l.useCallback(async a=>{if(!K){Le(!0);try{const s=await A(c,"/api/tag-translations/anilist-sync",{method:"POST",auth:!0});if(!s.ok)throw new Error("sync_failed");const r=await s.json();W(r.tags||{}),B(r.genres||{}),r.staffRoles&&q(r.staffRoles||{}),a?.silent||N({title:"Termos do AniList atualizados",description:"Tags e gêneros foram importados para tradução."})}catch{a?.silent||N({title:"Não foi possível importar",description:"Verifique a conexão ou tente novamente."})}finally{Le(!1)}}},[c,K]);l.useEffect(()=>{O||Ie.current||(Ie.current=!0,re({silent:!0}))},[O,re]);const oe=a=>a?a.startsWith("http")||a.startsWith("data:")||a.startsWith("/uploads/"):!1,be=()=>{Me(null),he(null)},Fa=(a,s)=>{Me(s),he(s),a.dataTransfer.effectAllowed="move",a.dataTransfer.setData("text/plain",String(s))},_a=(a,s)=>{$e!==null&&(a.preventDefault(),a.dataTransfer.dropEffect="move",ze!==s&&he(s))},Oa=(a,s)=>{a.preventDefault();const r=$e;if(r===null||r===s){be();return}i(o=>({...o,footer:{...o.footer,socialLinks:Ks(o.footer.socialLinks,r,s)}})),be()},Pa=a=>{Sa(a),De(!0)},Ea=a=>{i(s=>pa(s,de,a))},$a=a=>{i(s=>pa(s,a,""))},We=l.useMemo(()=>Hs(u,de),[de,u]),Ma=async(a,s)=>{se(`download-icon-${s}`);try{const r=u.downloads.sources[s],o=r?.id?String(r.id):`download-${s}`,t=await ga(a),n=await A(c,"/api/uploads/image",{method:"POST",headers:{"Content-Type":"application/json"},auth:!0,body:JSON.stringify({dataUrl:t,filename:a.name,folder:"downloads",slot:o})});if(!n.ok)throw new Error("upload_failed");const m=await n.json();i(y=>{const C=[...y.downloads.sources];return C[s]={...C[s],icon:m.url},{...y,downloads:{...y.downloads,sources:C}}}),N({title:"Ícone enviado",description:"SVG atualizado com sucesso."})}catch{N({title:"Falha no upload",description:"Não foi possível enviar o ícone.",variant:"destructive"})}finally{se(null)}},za=async(a,s)=>{se(`linktype-icon-${s}`);try{const r=_[s],o=r?.id?String(r.id):fa(r?.label||`rede-${s}`),t=await ga(a),n=await A(c,"/api/uploads/image",{method:"POST",headers:{"Content-Type":"application/json"},auth:!0,body:JSON.stringify({dataUrl:t,filename:a.name,folder:"socials",slot:o})});if(!n.ok)throw new Error("upload_failed");const m=await n.json();E(y=>{const C=[...y];return C[s]={...C[s],icon:m.url},C}),N({title:"Ícone enviado",description:"SVG atualizado com sucesso."})}catch{N({title:"Falha no upload",description:"Não foi possível enviar o ícone.",variant:"destructive"})}finally{se(null)}},Ia=l.useCallback(async a=>{const s={...a},r=s.footer.socialLinks.find(m=>String(m.label||"").toLowerCase()==="discord");r?.href&&(s.community.discordUrl=r.href);const o=await A(c,"/api/settings",{method:"PUT",headers:{"Content-Type":"application/json"},auth:!0,body:JSON.stringify({settings:s})});if(!o.ok)throw new Error("save_failed");const t=await o.json().catch(()=>null),n=ca(ma,t?.settings||s);return i(n),n},[c]),Wa=l.useMemo(()=>({tags:I,genres:V,staffRoles:G}),[V,G,I]),Va=l.useCallback(async a=>{const s=await A(c,"/api/tag-translations",{method:"PUT",headers:{"Content-Type":"application/json"},auth:!0,body:JSON.stringify(a)});if(!s.ok)throw new Error("save_failed");const r=await s.json().catch(()=>null),o={tags:r?.tags||a.tags,genres:r?.genres||a.genres,staffRoles:r?.staffRoles||a.staffRoles};return W(o.tags),B(o.genres),q(o.staffRoles),o},[c]),Ba=l.useCallback(async a=>{const s=a.map(n=>({...n,id:n.id?.trim()?n.id.trim():fa(n.label||""),label:String(n.label||"").trim(),icon:String(n.icon||"globe").trim()})).filter(n=>n.id&&n.label);E(s);const r=await A(c,"/api/link-types",{method:"PUT",headers:{"Content-Type":"application/json"},auth:!0,body:JSON.stringify({items:s})});if(!r.ok)throw new Error("save_failed");const o=await r.json().catch(()=>null),t=Array.isArray(o?.items)?o.items:s;return E(t),t},[c]),p=Ne({value:u,onSave:Ia,isReady:!O,enabled:f.current,debounceMs:S.debounceMs,retryMax:S.retryMax,retryBaseMs:S.retryBaseMs,onError:(a,s)=>{s.source==="auto"&&s.consecutiveErrors===1&&N({title:"Falha no autosave de ajustes",description:"As configurações gerais não foram salvas automaticamente.",variant:"destructive"})}}),v=Ne({value:Wa,onSave:Va,isReady:!O,enabled:f.current,debounceMs:S.debounceMs,retryMax:S.retryMax,retryBaseMs:S.retryBaseMs,onError:(a,s)=>{s.source==="auto"&&s.consecutiveErrors===1&&N({title:"Falha no autosave de traduções",description:"As traduções não foram salvas automaticamente.",variant:"destructive"})}}),j=Ne({value:_,onSave:Ba,isReady:!O,enabled:f.current,debounceMs:S.debounceMs,retryMax:S.retryMax,retryBaseMs:S.retryBaseMs,onError:(a,s)=>{s.source==="auto"&&s.consecutiveErrors===1&&N({title:"Falha no autosave de redes",description:"Os tipos de link não foram salvos automaticamente.",variant:"destructive"})}}),Ga=l.useCallback(a=>{S.enabledByDefault&&(p.setEnabled(a),v.setEnabled(a),j.setEnabled(a))},[j,p,v]),xe=p.enabled&&v.enabled&&j.enabled;l.useEffect(()=>{gs(ua.settings,xe)},[xe]);const qa=l.useMemo(()=>{const a=[p.status,v.status,j.status];return a.includes("saving")?"saving":a.includes("error")?"error":a.includes("pending")?"pending":a.includes("saved")?"saved":"idle"},[j.status,p.status,v.status]),Ka=l.useMemo(()=>{const a=[p.lastSavedAt,v.lastSavedAt,j.lastSavedAt].filter(s=>Number.isFinite(s));return a.length?Math.max(...a):null},[j.lastSavedAt,p.lastSavedAt,v.lastSavedAt]),Qa=l.useMemo(()=>p.status==="error"?"Há falha no salvamento automático dos ajustes gerais.":v.status==="error"?"Há falha no salvamento automático das traduções.":j.status==="error"?"Há falha no salvamento automático das redes sociais.":null,[j.status,p.status,v.status]),Ve=p.isDirty||v.isDirty||j.isDirty||p.status==="pending"||p.status==="saving"||v.status==="pending"||v.status==="saving"||j.status==="pending"||j.status==="saving";l.useEffect(()=>{if(O||!Ve)return;const a=s=>{ys(s)};return window.addEventListener("beforeunload",a),()=>window.removeEventListener("beforeunload",a)},[Ve,O]);const Ha=l.useCallback(()=>{p.enabled&&p.flushNow(),v.enabled&&v.flushNow(),j.enabled&&j.flushNow()},[j,p,v]),Ja=l.useCallback(async()=>{if(!await p.flushNow()){N({title:"Falha ao salvar",description:"Não foi possível salvar as configurações.",variant:"destructive"});return}await ee().catch(()=>{}),N({title:"Configurações salvas"})},[ee,p]),ge=l.useCallback(async()=>{if(!await v.flushNow()){N({title:"Falha ao salvar",description:"Não foi possível salvar as traduções.",variant:"destructive"});return}N({title:"Traduções salvas"})},[v]),Xa=l.useCallback(async()=>{if(!await j.flushNow()){N({title:"Falha ao salvar",description:"Não foi possível salvar as redes sociais.",variant:"destructive"});return}N({title:"Redes sociais salvas"})},[j]),Be=p.status==="saving",Q=v.status==="saving",Ge=j.status==="saving",qe=l.useMemo(()=>{const a=ce.trim().toLowerCase();return Array.from(new Set([...Ce,...Object.keys(I)])).filter(r=>!a||r.toLowerCase().includes(a)).sort((r,o)=>r.localeCompare(o,"en"))},[Ce,I,ce]),Ke=l.useMemo(()=>{const a=me.trim().toLowerCase();return Array.from(new Set([...Se,...Object.keys(V)])).filter(r=>!a||r.toLowerCase().includes(a)).sort((r,o)=>r.localeCompare(o,"en"))},[Se,V,me]),Qe=l.useMemo(()=>{const a=ue.trim().toLowerCase();return Array.from(new Set([...Ue,...Object.keys(G)])).filter(r=>!a||r.toLowerCase().includes(a)).sort((r,o)=>r.localeCompare(o,"en"))},[Ue,G,ue]),He=l.useMemo(()=>z?"Carregando usuário...":P?.name??"Usuário não conectado",[P,z]),Je=l.useMemo(()=>z?"Aguarde":P?`@${P.username}`:"OAuth Discord pendente",[P,z]),fe=(u.site.name||"Nekomata").trim()||"Nekomata",Xe=(u.site.name||u.footer.brandName||"Nekomata").trim()||"Nekomata",Ye=Xe.toUpperCase(),x=ws(u),Ya=x.legacy.siteSymbolUrl,Za=x.legacy.wordmarkUrl,es=x.legacy.navbarWordmarkUrl,as=x.legacy.footerWordmarkUrl,Ze=x.direct.symbolAssetUrl,ea=x.direct.wordmarkAssetUrl,aa=x.direct.navbarSymbolOverrideUrl,sa=x.direct.footerSymbolOverrideUrl,ra=x.direct.navbarWordmarkOverrideUrl,oa=x.direct.footerWordmarkOverrideUrl,pe=u.site.faviconUrl?.trim()||"",ve=u.site.defaultShareImage?.trim()||"",ss=x.assets.symbolUrl,rs=x.assets.wordmarkUrl,te=x.navbar.symbolUrl,ne=x.footer.symbolUrl,je=x.navbar.wordmarkUrl,ye=x.footer.wordmarkUrl,ae=x.display.navbar,ta=x.display.footer,os=x.navbar.showWordmark,ts=x.footer.showWordmark,ns=ae==="symbol-text"||ae==="symbol",ls=ae==="symbol-text"||ae==="text",na=u.theme.mode==="light",is=na?"border-border/70 bg-card/95 text-foreground":"border-border/70 bg-sidebar text-sidebar-foreground",ds=na?"border-border/70 bg-card text-foreground":"border-border/70 bg-sidebar-accent/45 text-sidebar-foreground",cs={"branding.assets.symbolUrl":{value:Ze,preview:ss,status:Ze?"Símbolo principal ativo.":Ya?"Sem valor no modelo novo. Usando fallback legado.":"Sem símbolo definido."},"branding.assets.wordmarkUrl":{value:ea,preview:rs,status:ea?"Logotipo principal ativo.":Za||es||as?"Sem valor no modelo novo. Usando fallback legado.":"Sem logotipo definido."},"site.faviconUrl":{value:pe,preview:pe,status:pe?"Favicon ativa na aba do navegador.":"Sem favicon definida."},"site.defaultShareImage":{value:ve,preview:ve,status:ve?"Imagem padrão de compartilhamento ativa.":"Sem imagem padrão de compartilhamento."},"branding.overrides.navbarWordmarkUrl":{value:ra,preview:je,status:ra?"Override da navbar ativo.":je?"Sem override. Navbar usa o logotipo principal.":"Sem imagem disponível para a wordmark da navbar."},"branding.overrides.footerWordmarkUrl":{value:oa,preview:ye,status:oa?"Override do footer ativo.":ye?"Sem override. Footer usa o logotipo principal.":"Sem imagem disponível para a wordmark do footer."},"branding.overrides.navbarSymbolUrl":{value:aa,preview:te,status:aa?"Override da navbar ativo.":te?"Sem override. Navbar usa o símbolo principal.":"Sem símbolo disponível para a navbar."},"branding.overrides.footerSymbolUrl":{value:sa,preview:ne,status:sa?"Override do footer ativo.":ne?"Sem override. Footer usa o símbolo principal.":"Sem símbolo disponível para o footer."}};return O?e.jsx(ha,{currentUser:P,isLoadingUser:z,userLabel:He,userSubLabel:Je,onUserCardClick:()=>d("/dashboard/usuarios?edit=me"),children:e.jsx("main",{className:"pt-28",children:e.jsx("section",{className:"mx-auto w-full max-w-5xl px-6 pb-20 md:px-10",children:e.jsx("div",{className:"rounded-2xl border border-dashed border-border/60 bg-card/40 px-6 py-12 text-center text-sm text-muted-foreground",children:"Carregando configurações..."})})})}):e.jsxs(ha,{currentUser:P,isLoadingUser:z,userLabel:He,userSubLabel:Je,onUserCardClick:()=>d("/dashboard/usuarios?edit=me"),children:[e.jsx("main",{className:"pt-24",onBlurCapture:()=>{Ha()},children:e.jsxs("section",{className:"mx-auto w-full max-w-6xl px-6 pb-20 md:px-10",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"inline-flex items-center gap-3 rounded-full border border-border/60 bg-card/60 px-4 py-2 text-xs uppercase tracking-[0.3em] text-muted-foreground animate-fade-in",children:"Configurações"}),e.jsx("h1",{className:"mt-4 text-3xl font-semibold text-foreground animate-slide-up",children:"Painel de ajustes"}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground animate-slide-up opacity-0",style:{animationDelay:"0.2s"},children:"Atualize identidade, traduções e links globais do site."})]}),e.jsx(fs,{title:"Autosave das configurações",status:qa,enabled:xe,onEnabledChange:Ga,toggleDisabled:!S.enabledByDefault,lastSavedAt:Ka,errorMessage:Qa,onManualSave:()=>{Ja()},manualActionLabel:Be?"Salvando...":"Salvar ajustes",manualActionDisabled:Be})]}),e.jsxs(ps,{value:Aa,onValueChange:a=>Da(a),className:"mt-8 animate-slide-up opacity-0",style:{animationDelay:"0.2s"},children:[e.jsxs(vs,{className:"no-scrollbar flex w-full flex-nowrap justify-start overflow-x-auto overscroll-x-contain md:grid md:grid-cols-7 md:overflow-visible",children:[e.jsx($,{value:"geral",className:"shrink-0 md:w-full",children:"Geral"}),e.jsx($,{value:"downloads",className:"shrink-0 md:w-full",children:"Downloads"}),e.jsx($,{value:"equipe",className:"shrink-0 md:w-full",children:"Equipe"}),e.jsx($,{value:"footer",className:"shrink-0 md:w-full",children:"Footer"}),e.jsx($,{value:"navbar",className:"shrink-0 md:w-full",children:"Navbar"}),e.jsx($,{value:"redes-usuarios",className:"shrink-0 md:w-full",children:"Redes sociais"}),e.jsx($,{value:"traducoes",className:"shrink-0 md:w-full",children:"Traduções"})]}),e.jsx(M,{value:"geral",className:"mt-6 space-y-6",children:e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Nome do site"}),e.jsx(b,{value:u.site.name,onChange:a=>i(s=>({...s,site:{...s.site,name:a.target.value},footer:{...s.footer,brandName:a.target.value}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Separador do título"}),e.jsx(b,{value:u.site.titleSeparator||" | ",onChange:a=>i(s=>({...s,site:{...s.site,titleSeparator:a.target.value}})),placeholder:" | "}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Usado entre o título da página e o nome do site."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Descrição curta"}),e.jsx(H,{value:u.site.description,onChange:a=>i(s=>({...s,site:{...s.site,description:a.target.value}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Cor de destaque"}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(ba,{label:"",showSwatch:!0,buttonClassName:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-border/60 bg-background/60 shadow-xs transition hover:border-primary/40",value:u.theme.accent||"#000000",onChange:a=>i(s=>({...s,theme:{...s.theme,accent:a.toString("hex")}}))})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Atualiza a cor principal e o accent do site."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Tema padrão do site"}),e.jsxs(J,{value:u.theme.mode||"dark",onValueChange:a=>i(s=>({...s,theme:{...s.theme,mode:a==="light"?"light":"dark"}})),children:[e.jsx(X,{children:e.jsx(Y,{placeholder:"Selecione o tema padrão"})}),e.jsxs(Z,{children:[e.jsx(w,{value:"dark",children:"Escuro"}),e.jsx(w,{value:"light",children:"Claro"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Define o tema padrão global. Cada usuário pode sobrescrever no cabeçalho."})]})]}),e.jsxs("div",{className:"space-y-4 rounded-2xl border border-border/60 bg-background/50 p-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Card de comunidade"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Configure os textos e o botao principal do card de Discord."})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"community-card-title",children:"Titulo do card"}),e.jsx(b,{id:"community-card-title",value:u.community.inviteCard.title,onChange:a=>i(s=>({...s,community:{...s.community,inviteCard:{...s.community.inviteCard,title:a.target.value}}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"community-card-button-label",children:"Texto do botao"}),e.jsx(b,{id:"community-card-button-label",value:u.community.inviteCard.ctaLabel,onChange:a=>i(s=>({...s,community:{...s.community,inviteCard:{...s.community.inviteCard,ctaLabel:a.target.value}}}))})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(g,{htmlFor:"community-card-subtitle",children:"Subtitulo"}),e.jsx(H,{id:"community-card-subtitle",value:u.community.inviteCard.subtitle,onChange:a=>i(s=>({...s,community:{...s.community,inviteCard:{...s.community.inviteCard,subtitle:a.target.value}}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"community-card-panel-title",children:"Titulo do bloco interno"}),e.jsx(b,{id:"community-card-panel-title",value:u.community.inviteCard.panelTitle,onChange:a=>i(s=>({...s,community:{...s.community,inviteCard:{...s.community.inviteCard,panelTitle:a.target.value}}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{htmlFor:"community-card-cta-url",children:"URL do botao"}),e.jsx(b,{id:"community-card-cta-url",value:u.community.inviteCard.ctaUrl,onChange:a=>i(s=>({...s,community:{...s.community,inviteCard:{...s.community.inviteCard,ctaUrl:a.target.value}}})),placeholder:"https://discord.com/invite/..."})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(g,{htmlFor:"community-card-panel-description",children:"Texto do bloco interno"}),e.jsx(H,{id:"community-card-panel-description",value:u.community.inviteCard.panelDescription,onChange:a=>i(s=>({...s,community:{...s.community,inviteCard:{...s.community.inviteCard,panelDescription:a.target.value}}}))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Logos e ícones de marca"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Todos os ativos visuais em um só lugar, com fallback e prévia rápida."})]}),e.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:Qs.map(a=>{const s=cs[a.target],r=!!s.value;return e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-background/50 p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:a.label}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.description})]}),e.jsx("div",{className:`flex items-center justify-center rounded-xl border border-border/60 bg-background/60 p-3 ${a.frameClassName}`,children:s.preview?e.jsx("img",{src:s.preview,alt:a.label,className:a.imageClassName}):e.jsx("span",{className:"text-xs text-muted-foreground",children:"Sem imagem definida"})}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:s.status}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{type:"button",variant:"outline",size:"sm",className:"flex-1",onClick:()=>Pa(a.target),children:"Biblioteca"}),e.jsx(h,{type:"button",variant:"ghost",size:"sm",disabled:!r,onClick:()=>$a(a.target),children:"Limpar"})]})]},a.target)})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-background/50 p-4 space-y-3",children:[e.jsx(g,{children:"Exibição da marca na navbar"}),e.jsxs(J,{value:ae,onValueChange:a=>i(s=>({...s,branding:{...s.branding,display:{...s.branding.display,navbar:a}}})),children:[e.jsx(X,{children:e.jsx(Y,{placeholder:"Selecione"})}),e.jsxs(Z,{children:[e.jsx(w,{value:"wordmark",children:"Wordmark"}),e.jsx(w,{value:"symbol-text",children:"Símbolo + texto"}),e.jsx(w,{value:"symbol",children:"Somente símbolo"}),e.jsx(w,{value:"text",children:"Somente texto"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Define como a identidade aparece no topo do site."})]}),e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-background/50 p-4 space-y-3",children:[e.jsx(g,{children:"Exibição da marca no footer"}),e.jsxs(J,{value:ta,onValueChange:a=>i(s=>({...s,branding:{...s.branding,display:{...s.branding.display,footer:a}}})),children:[e.jsx(X,{children:e.jsx(Y,{placeholder:"Selecione"})}),e.jsxs(Z,{children:[e.jsx(w,{value:"wordmark",children:"Wordmark"}),e.jsx(w,{value:"symbol-text",children:"Símbolo + texto"}),e.jsx(w,{value:"text",children:"Somente texto"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Define como a identidade aparece no rodapé."})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-background/50 p-4",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Prévia navbar"}),e.jsx("div",{className:`mt-3 flex min-h-[68px] items-center gap-3 rounded-xl border px-4 py-3 ${is}`,children:os?e.jsx("img",{src:je,alt:fe,className:"h-9 w-auto max-w-[220px] object-contain"}):e.jsxs(e.Fragment,{children:[ns?te?e.jsx("img",{src:te,alt:"Logo principal",className:"h-9 w-9 rounded-full object-contain"}):e.jsx("span",{className:`inline-flex h-9 w-9 items-center justify-center rounded-full border text-xs font-semibold ${ds}`,children:fe.slice(0,1).toUpperCase()}):null,ls?e.jsx("span",{className:"text-sm font-semibold uppercase tracking-[0.2em]",children:fe}):null]})})]}),e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-background/50 p-4",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"Prévia footer"}),e.jsx("div",{className:"mt-3 flex min-h-[68px] items-center gap-3 rounded-xl border border-border/60 bg-background/70 px-4 py-3",children:ts?e.jsx("img",{src:ye,alt:Xe,className:"h-9 w-auto max-w-[220px] object-contain"}):ta==="text"?e.jsx("span",{className:"text-lg font-black tracking-widest text-gradient-rainbow",children:Ye}):e.jsxs(e.Fragment,{children:[ne?e.jsx("img",{src:ne,alt:"Logo do footer",className:"h-9 w-9 rounded-full object-contain"}):null,e.jsx("span",{className:"text-lg font-black tracking-widest text-gradient-rainbow",children:Ye})]})})]})]})]})]})})}),e.jsxs(M,{value:"traducoes",className:"mt-6 space-y-6",children:[e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Tags"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Termos em inglês importados do AniList com a tradução exibida no site."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(h,{size:"sm",variant:"outline",onClick:()=>re(),disabled:K,className:"gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),K?"Importando...":"Importar AniList"]}),e.jsxs(h,{type:"button",size:"sm",variant:"outline",onClick:a=>{a.preventDefault(),a.stopPropagation(),ge()},disabled:Q,className:"gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),Q?"Salvando...":"Salvar traduções"]})]})]}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto]",children:[e.jsx(b,{placeholder:"Buscar tag",value:ce,onChange:a=>Ua(a.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{placeholder:"Nova tag",value:Re,onChange:a=>Fe(a.target.value)}),e.jsx(h,{type:"button",onClick:()=>{const a=Re.trim();!a||I[a]!==void 0||(W(s=>({...s,[a]:""})),Fe(""))},children:e.jsx(D,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-border/60",children:qe.length===0?e.jsx("p",{className:"px-4 py-3 text-xs text-muted-foreground",children:"Nenhuma tag encontrada."}):e.jsx("div",{className:"max-h-[420px] overflow-y-auto no-scrollbar",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-background/90 text-xs uppercase tracking-wide text-muted-foreground",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Termo (AniList)"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Tradução"}),e.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-border/60",children:qe.map(a=>e.jsxs("tr",{className:"bg-background/40",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-foreground",children:a}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(b,{value:I[a]||"",placeholder:a,onChange:s=>W(r=>({...r,[a]:s.target.value}))})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>W(s=>{const r={...s};return delete r[a],r}),children:e.jsx(R,{className:"h-4 w-4"})})})]},a))})]})})})]})}),e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Gêneros"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Termos em inglês importados do AniList com a tradução exibida no site."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(h,{size:"sm",variant:"outline",onClick:()=>re(),disabled:K,className:"gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),K?"Importando...":"Importar AniList"]}),e.jsxs(h,{type:"button",size:"sm",variant:"outline",onClick:a=>{a.preventDefault(),a.stopPropagation(),ge()},disabled:Q,className:"gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),Q?"Salvando...":"Salvar traduções"]})]})]}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto]",children:[e.jsx(b,{placeholder:"Buscar gênero",value:me,onChange:a=>Ta(a.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{placeholder:"Novo gênero",value:_e,onChange:a=>Oe(a.target.value)}),e.jsx(h,{type:"button",onClick:()=>{const a=_e.trim();!a||V[a]!==void 0||(B(s=>({...s,[a]:""})),Oe(""))},children:e.jsx(D,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-border/60",children:Ke.length===0?e.jsx("p",{className:"px-4 py-3 text-xs text-muted-foreground",children:"Nenhum gênero encontrado."}):e.jsx("div",{className:"max-h-[420px] overflow-y-auto no-scrollbar",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-background/90 text-xs uppercase tracking-wide text-muted-foreground",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Termo (AniList)"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Tradução"}),e.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-border/60",children:Ke.map(a=>e.jsxs("tr",{className:"bg-background/40",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-foreground",children:a}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(b,{value:V[a]||"",placeholder:a,onChange:s=>B(r=>({...r,[a]:s.target.value}))})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>B(s=>{const r={...s};return delete r[a],r}),children:e.jsx(R,{className:"h-4 w-4"})})})]},a))})]})})})]})}),e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Cargos do AniList"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Traduza funções da equipe do anime exibidas no projeto."})]}),e.jsxs(h,{type:"button",size:"sm",variant:"outline",onClick:a=>{a.preventDefault(),a.stopPropagation(),ge()},disabled:Q,className:"gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),Q?"Salvando...":"Salvar traduções"]})]}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto]",children:[e.jsx(b,{placeholder:"Buscar cargo",value:ue,onChange:a=>La(a.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{placeholder:"Novo cargo",value:Pe,onChange:a=>Ee(a.target.value)}),e.jsx(h,{type:"button",onClick:()=>{const a=Pe.trim();!a||G[a]!==void 0||(q(s=>({...s,[a]:""})),Ee(""))},children:e.jsx(D,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-border/60",children:Qe.length===0?e.jsx("p",{className:"px-4 py-3 text-xs text-muted-foreground",children:"Nenhum cargo encontrado."}):e.jsx("div",{className:"max-h-[420px] overflow-y-auto no-scrollbar",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-background/90 text-xs uppercase tracking-wide text-muted-foreground",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Termo (AniList)"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Tradução"}),e.jsx("th",{className:"px-4 py-3 text-right font-medium",children:"Ações"})]})}),e.jsx("tbody",{className:"divide-y divide-border/60",children:Qe.map(a=>e.jsxs("tr",{className:"bg-background/40",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-foreground",children:a}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(b,{value:G[a]||"",placeholder:a,onChange:s=>q(r=>({...r,[a]:s.target.value}))})}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx(h,{variant:"ghost",size:"icon",onClick:()=>q(s=>{const r={...s};return delete r[a],r}),children:e.jsx(R,{className:"h-4 w-4"})})})]},a))})]})})})]})})]}),e.jsx(M,{value:"downloads",className:"mt-6 space-y-6",children:e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Fontes de download"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ajuste nome, cor e envie o SVG do serviço para exibição nos downloads."})]}),e.jsx(h,{type:"button",variant:"outline",onClick:()=>i(a=>({...a,downloads:{...a.downloads,sources:[...a.downloads.sources,{id:`fonte-${Date.now()}`,label:"Nova fonte",color:"#64748B",icon:"",tintIcon:!0}]}})),children:e.jsx(D,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"grid gap-3",children:u.downloads.sources.map((a,s)=>{const r=a.tintIcon!==!1;return e.jsxs("div",{className:"grid items-center gap-3 md:grid-cols-[1.2fr_0.25fr_0.6fr_1.6fr_auto]",children:[e.jsx(b,{value:a.label,onChange:o=>i(t=>{const n=[...t.downloads.sources];return n[s]={...n[s],label:o.target.value},{...t,downloads:{...t.downloads,sources:n}}}),placeholder:"Nome"}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(ba,{label:"",showSwatch:!0,buttonClassName:"inline-flex h-9 w-9 items-center justify-center rounded-md border border-border/60 bg-background/60 shadow-xs transition hover:border-primary/40",value:a.color,onChange:o=>i(t=>{const n=[...t.downloads.sources];return n[s]={...n[s],color:o.toString("hex")},{...t,downloads:{...t.downloads,sources:n}}})})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 rounded-xl border border-border/60 bg-background/60 px-3 py-2",children:[e.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-widest text-muted-foreground",children:"Aplicar ao ícone"}),e.jsx(js,{checked:r,onCheckedChange:o=>i(t=>{const n=[...t.downloads.sources];return n[s]={...n[s],tintIcon:o},{...t,downloads:{...t.downloads,sources:n}}}),"aria-label":`Colorir SVG de ${a.label}`})]}),e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border/60 bg-background/60 px-3 py-2 text-xs text-muted-foreground",children:[oe(a.icon)?r?e.jsx(we,{url:a.icon,label:`Ícone ${a.label}`,className:"h-6 w-6 rounded bg-card/90 p-1",color:a.color}):e.jsx("img",{src:a.icon,alt:`Ícone ${a.label}`,className:"h-6 w-6 rounded bg-card/90 p-1"}):e.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded bg-card/80 text-[10px]",children:"SVG"}),e.jsx("span",{className:"truncate",children:oe(a.icon)?"SVG atual":"Sem SVG"}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx(b,{id:`download-icon-${s}`,type:"file",accept:"image/svg+xml",className:"sr-only",onChange:o=>{const t=o.target.files?.[0];t&&Ma(t,s)},disabled:Ae===`download-icon-${s}`}),e.jsx(g,{htmlFor:`download-icon-${s}`,className:"inline-flex h-8 cursor-pointer items-center justify-center rounded-md border border-border/60 bg-background px-3 text-[11px] font-medium text-foreground transition hover:border-primary/50",children:"Escolher SVG"})]})]}),e.jsx(h,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(o=>({...o,downloads:{...o.downloads,sources:o.downloads.sources.filter((t,n)=>n!==s)}})),children:e.jsx(R,{className:"h-4 w-4"})})]},`${a.id}-${s}`)})})]})})}),e.jsx(M,{value:"equipe",className:"mt-6 space-y-6",children:e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Funções do time"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ajuste os cargos disponíveis para membros."})]}),e.jsx(h,{type:"button",variant:"outline",onClick:()=>i(a=>({...a,teamRoles:[...a.teamRoles,{id:`role-${Date.now()}`,label:"Nova função",icon:"user"}]})),children:e.jsx(D,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"grid gap-4",children:u.teamRoles.map((a,s)=>e.jsxs("div",{className:"grid gap-3 md:grid-cols-[1.4fr_1fr_auto]",children:[e.jsx(b,{value:a.label,onChange:r=>i(o=>{const t=[...o.teamRoles];return t[s]={...t[s],label:r.target.value},{...o,teamRoles:t}}),placeholder:"Nome"}),e.jsxs(J,{value:a.icon||"user",onValueChange:r=>i(o=>{const t=[...o.teamRoles];return t[s]={...t[s],icon:r},{...o,teamRoles:t}}),children:[e.jsx(X,{children:e.jsx(Y,{placeholder:"Ícone"})}),e.jsx(Z,{children:Bs.map(r=>{const o=Gs[r.id]||ja;return e.jsx(w,{value:r.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:r.label})]})},r.id)})})]}),e.jsx(h,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(r=>({...r,teamRoles:r.teamRoles.filter((o,t)=>t!==s)})),children:e.jsx(R,{className:"h-4 w-4"})})]},`${a.id}-${s}`))})]})})}),e.jsx(M,{value:"redes-usuarios",className:"mt-6 space-y-6",children:e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Redes sociais (Usuários)"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Opções exibidas no editor de usuários."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(h,{type:"button",variant:"outline",onClick:()=>E(a=>[...a,{id:`nova-${Date.now()}`,label:"Nova rede",icon:"globe"}]),children:[e.jsx(D,{className:"h-4 w-4"}),"Adicionar"]}),e.jsxs(h,{type:"button",size:"sm",variant:"outline",onClick:a=>{a.preventDefault(),a.stopPropagation(),Xa()},disabled:Ge,className:"gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),Ge?"Salvando...":"Salvar"]})]})]}),e.jsxs("div",{className:"grid gap-3",children:[_.length===0?e.jsx("p",{className:"text-xs text-muted-foreground",children:"Nenhuma rede cadastrada."}):null,_.map((a,s)=>{const r=oe(a.icon);return e.jsxs("div",{className:"grid items-center gap-3 md:grid-cols-[1fr_1.6fr_auto]",children:[e.jsx(b,{value:a.label,placeholder:"Label",onChange:o=>E(t=>{const n=[...t];return n[s]={...n[s],label:o.target.value},n})}),e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border/60 bg-background/60 px-3 py-2 text-xs text-muted-foreground",children:[r?e.jsx(we,{url:a.icon,label:`Ícone ${a.label}`,className:"h-6 w-6 text-primary"}):e.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded bg-card/80 text-[10px]",children:"SVG"}),e.jsx("span",{className:"truncate",children:r?"SVG atual":"Sem SVG"}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx(b,{id:`linktype-icon-${s}`,type:"file",accept:"image/svg+xml",className:"sr-only",onChange:o=>{const t=o.target.files?.[0];t&&za(t,s)},disabled:Ae===`linktype-icon-${s}`}),e.jsx(g,{htmlFor:`linktype-icon-${s}`,className:"inline-flex h-8 cursor-pointer items-center justify-center rounded-md border border-border/60 bg-background px-3 text-[11px] font-medium text-foreground transition hover:border-primary/50",children:"Escolher SVG"})]})]}),e.jsx(h,{type:"button",variant:"ghost",size:"icon",onClick:()=>E(o=>o.filter((t,n)=>n!==s)),children:e.jsx(R,{className:"h-4 w-4"})})]},`${a.id}-${s}`)})]})]})})}),e.jsx(M,{value:"navbar",className:"mt-6 space-y-6",children:e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Links do menu"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ordem e URLs usados na navbar do site."})]}),e.jsx(h,{type:"button",variant:"outline",onClick:()=>i(a=>({...a,navbar:{...a.navbar,links:[...a.navbar.links,{label:"Novo link",href:"/",icon:"link"}]}})),children:e.jsx(D,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"grid gap-3",children:u.navbar.links.map((a,s)=>e.jsxs("div",{className:"grid gap-3 md:grid-cols-[0.85fr_1fr_1.6fr_auto]",children:[e.jsxs(J,{value:a.icon||"link",onValueChange:r=>i(o=>{const t=[...o.navbar.links];return t[s]={...t[s],icon:r},{...o,navbar:{...o.navbar,links:t}}}),children:[e.jsx(X,{children:e.jsx(Y,{placeholder:"Ícone"})}),e.jsx(Z,{children:ks.map(r=>{const o=r.icon;return e.jsx(w,{value:r.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:r.label})]})},r.id)})})]}),e.jsx(b,{value:a.label,placeholder:"Label",onChange:r=>i(o=>{const t=[...o.navbar.links];return t[s]={...t[s],label:r.target.value},{...o,navbar:{...o.navbar,links:t}}})}),e.jsx(b,{value:a.href,placeholder:"URL ou rota",onChange:r=>i(o=>{const t=[...o.navbar.links];return t[s]={...t[s],href:r.target.value},{...o,navbar:{...o.navbar,links:t}}})}),e.jsx(h,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(r=>({...r,navbar:{...r.navbar,links:r.navbar.links.filter((o,t)=>t!==s)}})),children:e.jsx(R,{className:"h-4 w-4"})})]},`${a.label}-${s}`))})]})})}),e.jsxs(M,{value:"footer",className:"mt-6 space-y-6",children:[e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-lg font-semibold",children:"Conteúdo do footer"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Descrição"}),e.jsx(H,{value:u.footer.brandDescription,onChange:a=>i(s=>({...s,footer:{...s.footer,brandDescription:a.target.value}}))})]})]})}),e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Colunas de links"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Edite as seções do footer."})]}),e.jsx(h,{type:"button",variant:"outline",onClick:()=>i(a=>({...a,footer:{...a.footer,columns:[...a.footer.columns,{title:"Nova coluna",links:[]}]}})),children:e.jsx(D,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"grid gap-6",children:u.footer.columns.map((a,s)=>e.jsxs("div",{className:"rounded-2xl border border-border/60 bg-background/50 p-4 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(b,{value:a.title,onChange:r=>i(o=>{const t=[...o.footer.columns];return t[s]={...t[s],title:r.target.value},{...o,footer:{...o.footer,columns:t}}})}),e.jsx(h,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(r=>({...r,footer:{...r.footer,columns:r.footer.columns.filter((o,t)=>t!==s)}})),children:e.jsx(R,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid gap-3",children:[a.links.map((r,o)=>e.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_1.6fr_auto]",children:[e.jsx(b,{value:r.label,placeholder:"Label",onChange:t=>i(n=>{const m=[...n.footer.columns],y=[...m[s].links];return y[o]={...y[o],label:t.target.value},m[s]={...m[s],links:y},{...n,footer:{...n.footer,columns:m}}})}),e.jsx(b,{value:r.href,placeholder:"URL",onChange:t=>i(n=>{const m=[...n.footer.columns],y=[...m[s].links];return y[o]={...y[o],href:t.target.value},m[s]={...m[s],links:y},{...n,footer:{...n.footer,columns:m}}})}),e.jsx(h,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(t=>{const n=[...t.footer.columns],m=n[s].links.filter((y,C)=>C!==o);return n[s]={...n[s],links:m},{...t,footer:{...t.footer,columns:n}}}),children:e.jsx(R,{className:"h-4 w-4"})})]},`${r.label}-${o}`)),e.jsxs(h,{type:"button",variant:"outline",onClick:()=>i(r=>{const o=[...r.footer.columns],t=[...o[s].links,{label:"",href:""}];return o[s]={...o[s],links:t},{...r,footer:{...r.footer,columns:o}}}),children:[e.jsx(D,{className:"h-4 w-4"}),"Adicionar link"]})]})]},`${a.title}-${s}`))})]})}),e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Redes sociais"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Links exibidos no footer."})]}),e.jsx(h,{type:"button",variant:"outline",onClick:()=>i(a=>({...a,footer:{...a.footer,socialLinks:[...a.footer.socialLinks,{label:"Nova rede",href:"",icon:_[0]?.icon||"link"}]}})),children:e.jsx(D,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"grid gap-3",children:u.footer.socialLinks.map((a,s)=>e.jsxs("div",{"data-testid":`footer-social-row-${s}`,className:`grid items-center gap-3 rounded-xl border p-2 transition md:grid-cols-[auto_0.8fr_1.6fr_auto] ${ze===s?"border-primary/40 bg-primary/5":"border-transparent"}`,onDragOver:r=>_a(r,s),onDrop:r=>Oa(r,s),children:[e.jsx("button",{type:"button",draggable:!0,className:"inline-flex h-9 w-9 cursor-grab items-center justify-center rounded-md border border-border/60 bg-background/60 text-muted-foreground transition hover:border-primary/40 hover:text-primary active:cursor-grabbing","aria-label":`Arrastar rede ${a.label||s+1}`,onDragStart:r=>Fa(r,s),onDragEnd:be,children:e.jsx(zs,{className:"h-4 w-4"})}),e.jsxs(J,{value:a.icon||"link",onValueChange:r=>i(o=>{const t=[...o.footer.socialLinks],n=_.find(m=>m.icon===r||m.id===r);return t[s]={...t[s],icon:r,label:n?.label||a.label||"Rede social"},{...o,footer:{...o.footer,socialLinks:t}}}),children:[e.jsx(X,{children:e.jsx(Y,{placeholder:"Ícone"})}),e.jsxs(Z,{children:[_.length===0?e.jsx(w,{value:"link",disabled:!0,children:"Cadastre redes sociais na aba acima"}):null,_.map(r=>{const o=r.icon||r.id,t=oe(o),n=qs[r.id]||va;return e.jsx(w,{value:o,children:e.jsxs("div",{className:"flex items-center gap-2",children:[t?e.jsx(we,{url:o,label:`Ícone ${r.label}`,className:"h-4 w-4 text-primary"}):e.jsx(n,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:r.label})]})},r.id)})]})]}),e.jsx(b,{value:a.href,placeholder:"URL",onChange:r=>i(o=>{const t=[...o.footer.socialLinks];return t[s]={...t[s],href:r.target.value},{...o,footer:{...o.footer,socialLinks:t}}})}),e.jsx(h,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(r=>({...r,footer:{...r.footer,socialLinks:r.footer.socialLinks.filter((o,t)=>t!==s)}})),children:e.jsx(R,{className:"h-4 w-4"})})]},`${a.label}-${s}`))})]})}),e.jsx(U,{className:"border-border/60 bg-card/80",children:e.jsxs(T,{className:"space-y-6 p-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Textos legais"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Descrição, aviso e copyright."})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Parágrafos do aviso"}),e.jsx("div",{className:"space-y-3",children:u.footer.disclaimer.map((a,s)=>e.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_auto]",children:[e.jsx(H,{value:a,onChange:r=>i(o=>{const t=[...o.footer.disclaimer];return t[s]=r.target.value,{...o,footer:{...o.footer,disclaimer:t}}})}),e.jsx(h,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(r=>({...r,footer:{...r.footer,disclaimer:r.footer.disclaimer.filter((o,t)=>t!==s)}})),children:e.jsx(R,{className:"h-4 w-4"})})]},`disclaimer-${s}`))}),e.jsxs(h,{type:"button",variant:"outline",onClick:()=>i(a=>({...a,footer:{...a.footer,disclaimer:[...a.footer.disclaimer,""]}})),children:[e.jsx(D,{className:"h-4 w-4"}),"Adicionar paragrafo"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Titulo do destaque"}),e.jsx(b,{value:u.footer.highlightTitle,onChange:a=>i(s=>({...s,footer:{...s.footer,highlightTitle:a.target.value}}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Descrição do destaque"}),e.jsx(H,{value:u.footer.highlightDescription,onChange:a=>i(s=>({...s,footer:{...s.footer,highlightDescription:a.target.value}}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(g,{children:"Copyright"}),e.jsx(b,{value:u.footer.copyright,onChange:a=>i(s=>({...s,footer:{...s.footer,copyright:a.target.value}}))})]})]})]})})]})]})]})}),e.jsx(l.Suspense,{fallback:null,children:e.jsx(Vs,{open:Ca,onOpenChange:De,apiBase:c,description:"Selecione uma imagem ja enviada para reutilizar ou exclua itens que nao estejam em uso.",uploadFolder:"branding",listFolders:Ra,includeProjectImages:!1,showUrlImport:!1,allowDeselect:!0,mode:"single",currentSelectionUrls:We?[We]:[],onSave:({urls:a})=>Ea(a[0]||"")})})]})};export{Hr as default};
