const o={B:1,KB:1024,MB:1048576,GB:1073741824,TB:1099511627776},c=e=>e.replace(/\.0+$/,"").replace(/(\.\d*[1-9])0+$/,"$1"),l=e=>{const r=String(e||"").trim();if(!r)return null;const t=r.match(/^([0-9]+(?:[.,][0-9]+)?)\s*(B|KB|MB|GB|TB)?$/i);if(!t)return null;const n=Number(t[1].replace(",","."));if(!Number.isFinite(n)||n<=0)return null;const i=String(t[2]||"B").toUpperCase(),u=o[i];if(!u)return null;const s=Math.round(n*u);return!Number.isFinite(s)||s<=0?null:s},a=e=>{if(!Number.isFinite(e)||e<=0)return"";const r=["B","KB","MB","GB","TB"];let t=e,n=0;for(;t>=1024&&n<r.length-1;)t/=1024,n+=1;const i=n===0||t>=100?0:t>=10?1:2;return`${c(t.toFixed(i))} ${r[n]}`};export{a as f,l as p};
