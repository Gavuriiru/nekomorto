# Example environment configuration
# Copy to .env and fill values for your environment.

NODE_ENV=development
PORT=8080

# Database
# Required when DATA_SOURCE=db
DATABASE_URL=
# json | db
DATA_SOURCE=json
# When true, blocks mutating /api requests (POST/PUT/PATCH/DELETE)
MAINTENANCE_MODE=false
# Optional helper base URL for smoke/health checks during cutover
# Example: https://staging.example.com
STAGING_API_BASE=

# Public app origins allowed by CORS/CSRF (comma-separated).
# Required in production.
APP_ORIGIN=https://example.com,https://www.example.com

# Optional front-end API override. Keep empty for same-origin requests.
# Example: VITE_API_BASE=https://api.example.com
VITE_API_BASE=

# Discord OAuth
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
# Use "auto" to resolve from the current allowed origin.
# Or set a fixed absolute URL, e.g. https://example.com/login
DISCORD_REDIRECT_URI=auto

# Session secret (use a long random string in production)
SESSION_SECRET=
# Optional: force file-backed sessions outside production.
# Keep false in dev on Windows to avoid EPERM rename during --watch restarts.
SESSION_FILE_STORE=false

# Owner IDs (comma-separated Discord user IDs). Optional in dev.
OWNER_IDS=

# One-time bootstrap token to create the first owner (optional; required if OWNER_IDS is empty in production)
BOOTSTRAP_TOKEN=

# Dashboard autosave
VITE_DASHBOARD_AUTOSAVE_ENABLED=true
VITE_DASHBOARD_AUTOSAVE_DEBOUNCE_MS=1200
VITE_DASHBOARD_AUTOSAVE_RETRY_MAX=2
VITE_DASHBOARD_AUTOSAVE_RETRY_BASE_MS=1500

# RBAC v2
RBAC_V2_ENABLED=false
RBAC_V2_ACCEPT_LEGACY_STAR=true
VITE_RBAC_V2_ENABLED=false

# Analytics
ANALYTICS_IP_SALT=
ANALYTICS_RETENTION_DAYS=90
ANALYTICS_AGG_RETENTION_DAYS=365
AUTO_UPLOAD_REORGANIZE_ON_STARTUP=false
