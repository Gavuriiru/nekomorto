# Example environment configuration
# Copy to .env and fill values for your environment.

NODE_ENV=development
PORT=8080

# Database
# Required in all environments
DATABASE_URL=
# When true, blocks mutating /api requests (POST/PUT/PATCH/DELETE)
MAINTENANCE_MODE=false
# Session table name for connect-pg-simple
SESSION_TABLE=user_sessions
# Optional helper base URL for smoke/health checks during cutover
# Example: https://staging.example.com
STAGING_API_BASE=

# Public app origins allowed by CORS/CSRF (comma-separated).
# Required in production.
APP_ORIGIN=https://example.com,https://www.example.com

# Optional front-end API override. Keep empty for same-origin requests.
# Example: VITE_API_BASE=https://api.example.com
VITE_API_BASE=
# Enables PWA assets in Vite dev mode (manifest/swap/workbox). Keep false by default.
VITE_PWA_DEV_ENABLED=false

# Discord OAuth
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
# Use "auto" to resolve from the current allowed origin.
# Or set a fixed absolute URL, e.g. https://example.com/login
DISCORD_REDIRECT_URI=auto

# Session secret (use a long random string in production)
SESSION_SECRET=
# Optional rotated session secrets (newest first), used for seamless key rotation
# Example: SESSION_SECRETS=new-secret,old-secret
SESSION_SECRETS=

# Owner IDs (comma-separated Discord user IDs). Optional in dev.
OWNER_IDS=

# One-time bootstrap token to create the first owner (optional; required if OWNER_IDS is empty in production)
BOOTSTRAP_TOKEN=

# Dashboard autosave
VITE_DASHBOARD_AUTOSAVE_ENABLED=true
VITE_DASHBOARD_AUTOSAVE_DEBOUNCE_MS=1200
VITE_DASHBOARD_AUTOSAVE_RETRY_MAX=2
VITE_DASHBOARD_AUTOSAVE_RETRY_BASE_MS=1500

# RBAC v2
RBAC_V2_ENABLED=false
RBAC_V2_ACCEPT_LEGACY_STAR=true
VITE_RBAC_V2_ENABLED=false

# Analytics
ANALYTICS_IP_SALT=
ANALYTICS_RETENTION_DAYS=90
ANALYTICS_AGG_RETENTION_DAYS=365
AUTO_UPLOAD_REORGANIZE_ON_STARTUP=false

# Operational alerts webhook (Categoria 6)
OPS_ALERTS_WEBHOOK_ENABLED=false
OPS_ALERTS_WEBHOOK_PROVIDER=discord
OPS_ALERTS_WEBHOOK_URL=
OPS_ALERTS_WEBHOOK_TIMEOUT_MS=5000
OPS_ALERTS_WEBHOOK_INTERVAL_MS=60000
OPS_ALERTS_DB_LATENCY_WARNING_MS=1000

# Category 2 security/operations
# Keyring for encryption at rest. Example:
# DATA_ENCRYPTION_KEYS_JSON={"activeKeyId":"key-2026-01","keys":{"key-2026-01":"<base64>","key-2025-12":"<base64>"}}
DATA_ENCRYPTION_KEYS_JSON=
SECURITY_RECOVERY_CODE_PEPPER=
MFA_ISSUER=Nekomata
TOTP_ICON_URL=
MFA_ENROLLMENT_TTL_MS=600000
ADMIN_EXPORTS_DIR=backups/admin-exports
ADMIN_EXPORT_TTL_HOURS=24
METRICS_ENABLED=false
METRICS_TOKEN=
